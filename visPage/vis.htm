<!DOCTYPE html>
<!-- saved from url=(0050)http://192.168.0.201:8082/vis/index.html#TeploLich -->
<html manifest="cache.manifest" xmlns="http://www.w3.org/1999/html"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" type="text/css" href="./vis_files/jquery-ui.min.css" id="commonTheme">
    <!-- vis Version 1.5.6 -->

    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=2, minimum-scale=0.5, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- cordova settings -->
    <meta http-equiv="Content-Security-Policy" content="default-src &#39;self&#39; * &#39;unsafe-eval&#39; &#39;unsafe-inline&#39; blob:; style-src &#39;self&#39; &#39;unsafe-inline&#39; *; img-src &#39;self&#39; &#39;unsafe-inline&#39; * data:; media-src &#39;self&#39; &#39;unsafe-inline&#39; blob: *; connect-src &#39;self&#39; &#39;unsafe-eval&#39; &#39;unsafe-inline&#39; * ws: wss:; script-src &#39;self&#39; &#39;unsafe-eval&#39; &#39;unsafe-inline&#39; blob: *; frame-src &#39;self&#39; &#39;unsafe-eval&#39; &#39;unsafe-inline&#39; * data: kioskpro:">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">

    <link href="http://192.168.0.201:8082/vis/img/favicon.png" rel="shortcut icon" type="image/x-icon">
    <link href="http://192.168.0.201:8082/vis/img/favicon.png" rel="apple-touch-icon">

    <title>vis</title>

    <link rel="stylesheet" type="text/css" href="./vis_files/jquery.multiselect-1.13.css">

    <link rel="stylesheet" type="text/css" href="./vis_files/backgrounds.css">
    <link rel="stylesheet" type="text/css" href="./vis_files/vis.css">
    <link rel="stylesheet" type="text/css" href="./vis_files/vis-common-user.css">
    <link rel="stylesheet" type="text/css" href="./vis_files/app.css">
    <link rel="stylesheet" type="text/css" href="./vis_files/styles.css">

    <script type="text/javascript" src="./vis_files/cordova.js"></script>
    <script type="text/javascript" src="./vis_files/jquery-1.11.2.min.js"></script>
    <script type="text/javascript" src="./vis_files/jquery-ui-1.11.4.full.min.js"></script>
    <script type="text/javascript" src="./vis_files/socket.io.js"></script>
    <script type="text/javascript" src="./vis_files/translate.js"></script>
    <script type="text/javascript" src="./vis_files/app.js"></script>

    <script type="text/javascript" src="./vis_files/can.custom.min.js"></script>
    <script type="text/javascript" src="./vis_files/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="./vis_files/jquery.multiselect-1.13.min.js"></script>
    <script type="text/javascript" src="./vis_files/quo.standalone.js"></script>
    <script type="text/javascript" src="./vis_files/loStorage.js"></script>
    <script type="text/javascript" src="./vis_files/moment-with-locales.min.js"></script>

    <script type="text/javascript" src="./vis_files/info.js"></script>
    <script type="text/javascript" src="./vis_files/config.js"></script> <!-- this file must be before vis.js -->
    <script type="text/javascript" src="./vis_files/conn.js"></script>
    <script type="text/javascript" src="./vis_files/visUtils.js"></script>
    <script type="text/javascript" src="./vis_files/vis.js"></script>
<style type="text/css">.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}</style><script>createState('Flag.0.Alarm_10min', false);
createState('Flag.0.Alarm_5min', false); 
createState('Flag.0.test', 10); 
setState (("Flag.0.Alarm_5min"), true, true);
setState (("Flag.0.test"/*test*/), 20, true);
log("Значение" + getState("Flag.0.test").val);</script></head>
<body>
<!-- ---------------------------------------  DO NOT EDIT INSIDE THIS LINE - BEGIN ------------------------------------------- -->
<!-- --------------bars.html--- START -->
<!--
    ioBroker.vis bars Widget-Set

    version: "0.1.4"

    Copyright 2013-2016 bluefox<dogafox@gmail.com>
-->
<link rel="stylesheet" type="text/css" href="./vis_files/bars.css">
<link rel="stylesheet" type="text/css" href="./vis_files/sidebar.css">
<link rel="stylesheet" type="text/css" href="./vis_files/barButtons.css">
<script type="text/javascript" src="./vis_files/bars.js"></script>
<script type="text/javascript" src="./vis_files/jquery.sidebar.js"></script>

<script id="tplBarFilter" type="text/ejs" class="vis-tpl" data-vis-type="filter" data-vis-set="bars" data-vis-name="Filter bar" data-vis-prev="&lt;img src=&quot;widgets/bars/img/Prev_bars_filter.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="bCount[1]/number,1,100,1;bTheme[sidebar-red]/style,,sidebar-,background-color;bPosition[floatHorizontal]/select,floatHorizontal,floatVertical,dockTop,dockBottom,dockLeft,dockRight;bOnlyOneSelected/checkbox;bValue/filters;alwaysOpened/checkbox;" data-vis-attrs0="group.button_options;bSpace[5]/slider,0,100,1;bRadius[5]/slider,0,100,1;bOffset[0]/slider,0,100,1;bTextAlign[center]/select,center,left,right;bImageAlign[center]/select,center,left,right;bLayout[fixed]/select,auto,fixed;imagePaddingLeft[10]/slider,0,100,1;imagePaddingTop[2]/slider,0,100,1;" data-vis-attrs1="group.style;bStyleNormal/style,barButtons,-button,background;bStyleActive/style,barButtons,-button,background;" data-vis-attrs2="group.effects;bShowEffect[show]/effect;bShowEffectMs[100]/number;bHideEffect[show]/effect;bHideEffectMs[100]/number;" data-vis-attrs3="group.buttons/byindex;buttonsImage(1-bCount)/image;buttonsText(1-bCount);buttonsOption(1-bCount)/filters;" data-vis-init="initOptions">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;overflow:visible" id="<%= this.data.attr('wid') %>"
	    data-vis-hide-helper=<%== (this.data.attr('position')=='dockTop' || this.data.attr('position')=='dockBottom' || this.data.attr('position')=='dockRight' || this.data.attr('position')=='dockRight') ? 'true' : 'false' %>
	    data-vis-resizable='<%== (this.data.attr('position')=='dockTop' || this.data.attr('position')=='dockBottom' || this.data.attr('position')=='dockRight' || this.data.attr('position')=='dockRight') ? '{"disabled":true}': '' %>'
	    data-vis-draggable='<%== (this.data.attr('position')=='dockTop' || this.data.attr('position')=='dockBottom' || this.data.attr('position')=='dockRight' || this.data.attr('position')=='dockRight') ? '{"disabled":true}': '' %>'
	    >
        <div class="vis-widget-body" style="overflow: visible"></div>
        <% vis.binds.bars.init(this.data.wid, this.data, this.view, "tplBarFilter"); %>
    </div>
</script>

<script id="tplBarNavigator" type="text/ejs" class="vis-tpl" data-vis-type="navigation" data-vis-set="bars" data-vis-prev="&lt;img src=&quot;widgets/bars/img/Prev_bars_view.png&quot;&gt;&lt;/img&gt;" data-vis-name="Views bar" data-vis-attrs="bCount[1]/number,1,100,1;bTheme[sidebar-blue]/style,,sidebar-,background-color;bPosition[floatHorizontal]/select,floatHorizontal,floatVertical,dockTop,dockBottom,dockLeft,dockRight;alwaysOpened/checkbox;" data-vis-attrs0="group.button_options;bSpace[5]/slider,0,100,1;bRadius[5]/slider,0,100,1;bOffset[0]/slider,0,100,1;bTextAlign[center]/select,center,left,right;bImageAlign[center]/select,center,left,right;bLayout[fixed]/select,auto,fixed;imagePaddingLeft[10]/slider,0,100,1;imagePaddingTop[2]/slider,0,100,1;" data-vis-attrs1="group.style;bStyleNormal/style,barButtons,-button,background;bStyleActive/style,barButtons,-button,background;" data-vis-attrs2="group.effects;bShowEffect[show]/effect;bShowEffectMs[100]/number;bHideEffect[show]/effect;bHideEffectMs[100]/number;" data-vis-attrs3="group.buttons/byindex;buttonsImage(1-bCount)/image;buttonsText(1-bCount);buttonsOption(1-bCount)/views;" data-vis-init="initOptions">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;overflow:visible" id="<%= this.data.attr('wid') %>"
	    data-vis-hide-helper=<%== (this.data.attr('position')=='dockTop' || this.data.attr('position')=='dockBottom' || this.data.attr('position')=='dockRight' || this.data.attr('position')=='dockRight') ? 'true' : 'false' %>
	    data-vis-resizable='<%== (this.data.attr('position')=='dockTop' || this.data.attr('position')=='dockBottom' || this.data.attr('position')=='dockRight' || this.data.attr('position')=='dockRight') ? '{"disabled":true}': '' %>'
	    data-vis-draggable='<%== (this.data.attr('position')=='dockTop' || this.data.attr('position')=='dockBottom' || this.data.attr('position')=='dockRight' || this.data.attr('position')=='dockRight') ? '{"disabled":true}': '' %>'
	    >
        <div class="vis-widget-body" style="overflow: visible"></div>
        <% vis.binds.bars.init(this.data.wid, this.data, this.view, "tplBarNavigator"); %>
    </div>
</script>

<!-- --------------bars.html--- END -->
<!-- --------------basic.html--- START -->
<link rel="stylesheet" type="text/css" href="./vis_files/table.css">
<script type="text/javascript" src="./vis_files/table.js"></script>

<script type="text/javascript">
    'use strict';

    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            // Bars
            "src":              {"en": "Source",                    "de": "Quelle",                 "ru": "Адрес"},
            "refreshInterval":  {"en": "Refresh interval(ms)",      "de": "Updatezeit(ms)",         "ru": "Интервал обновления(ms)"},
            "is_comma":         {"en": "Divider comma",             "de": "Komme als Trennung",     "ru": "Запятая-разделитель"},
            "is_tdp":           {"en": "Use thousands separator",  "de": "Tausender Trennzeichen",  "ru": "Use thousands separator"},
            "digits":           {"en": "Digits after comma",        "de": "Zeichen nach Komma",     "ru": "Знаков после запятой"},
            "oid":              {"en": "Object ID",                 "de": "Object ID",              "ru": "ID Объекта"},
            "html_prepend":     {"en": "Prepend value",             "de": "Voranstellen HTML",      "ru": "Префикс значения"},
            "html_append":      {"en": "Append to value",           "de": "HTML anhängen",          "ru": "Суффикс значения"},
            "html_append_singular": {
                "en": "Append to value (Singular)",
                "de": "HTML anhängen (Singulär)",
                "ru": "Суффикс значения(един.ч.)"
            },
            "html_append_plural": {
                "en": "Append to value (Plural)",
                "de": "HTML anhängen(Plüral)",
                "ru": "Суффикс значения(множ.ч.)"
            },
            "html_prepend_tooltip":    {
                "en": "Write HTML code here that will be placed before,\x0Ae.g. <b> ",
                "de": "HTML Kod, der wird vom dem Wert platziert,\x0Az.B. <b>",
                "ru": "HTML код будет помещён перед значением,\x0Aнапример <b>"
            },
            "html_append_tooltip":     {
                "en": "Write HTML code here that will be placed before,\x0Ae.g. </b>",
                "de": "HTML Kod, der wird vom dem Wert platziert,\x0Az.B. </b>",
                "ru": "HTML код будет помещён после значения,\x0Aнапример </b>"
            },
            "stretch":          {"en": "Stretch",                   "de": "Strecken",               "ru": "Растянуть"},
            "factor":           {"en": "Multiplex factor",          "de": "Multiplikation",         "ru": "Множитеть"},
            "class_true":       {"en": "Class if quality 'true'",   "de": "Klasse bei Qualität 'true'", "ru": "Класс, если качество 'true'"},
            "class_false":      {"en": "Class if quality 'false'",  "de": "Klasse bei Qualität 'false'", "ru": "Класс, если качество 'false'"},
            "test_html":        {"en": "Text for test",             "de": "Testtext",               "ru": "Тестовый текст"},
            "test_html_tooltip": {
                "en": "You can specify the test text if value is now empty to visualise settings.\x0AIt is valid only during edit.",
                "de": "Man kann noch Testtext setzen um die Einstellungen visuell zu sehen.\x0ADas ist nur während Edit gültig.",
                "ru": "Можно задать тестовый текст, что бы видеть настройки визуально.\x0AОн действителен только во время редактирования."
            },
            "html":             {"en": "HTML",                      "de": "HTML",                   "ru": "HTML"},
            "oid-quality":      {"en": "Quality ID",                "de": "Qualität ID",            "ru": "ID-Качество"},
            "oid-quality_tooltip":     {
                "en": "You can set additionally Quality ID to indicate if the value valid or not.",
                "de": "Man kann noch zusätzlich Qualität ID setzetn um zu zeigen ob das Wert aktuell ist.",
                "ru": "Можно дополнительно установить ID-Качества, что бы показать актуальное значение или нет."},
            "title":            {"en": "Title",                     "de": "Titel",                  "ru": "Заголовок"},
            "title_font":       {"en": "Title font name",           "de": "Titelschriftname",       "ru": "Шрифт заголовка"},
            "title_color":      {"en": "Title color",               "de": "Titelfarbe",             "ru": "Цвет заголовка"},
            "title_back":       {"en": "Title backg. color",        "de": "Titelhintergrund",       "ru": "Цвет фона текста"},
            "title_top":        {"en": "Title top padding",         "de": "Titel-Oben-Abstand",     "ru": "Отступ заголовка сверху"},
            "title_left":       {"en": "Title left padding",        "de": "Titel-Links-Abstand",    "ru": "Отступ заголовка слева"},
            "header_height":    {"en": "Header height",             "de": "Kopfhöhe",               "ru": "Высота заголовока"},
            "header_color":     {"en": "Header color",              "de": "Kopffarbe",              "ru": "Цвет фона заголовка"},
            "refreshOnWakeUp":  {"en": "Refresh on wake up",        "de": "Update bei Aufwachen",   "ru": "Обновлять при выходе из сна"},
            "refreshOnViewChange": {"en": "Refresh on view change", "de": "Update bei Viewwechsel", "ru": "Обновлять при смене страницы"},
            "refreshWithNoQuery": {"en": "Do not add anything to URL", "de": "Addiere nichst zu URL", "ru": "Ничего не добавлять к URL"},
            "src_":             {"en": "URL, by value=",            "de": "URL falls Wert=",        "ru": "Адрес при значении "},
            "nav_view":         {"en": "View to navigate",          "de": "View zum Navigieren",    "ru": "Перейти на страницу"},
            "group_effects":    {"en": "Show/Hide Effects",         "de": "Anzeige Effekte",        "ru": "Эффекты появления/исчезновения"},
            "group_extended":   {"en": "Extended settings",         "de": "Erweiterte Eistellungen", "ru": "Расширенные настройки"},
            "body-background":  {"en": "Background color by changing", "de": "Hintegrund by Wechsel", "ru": "Фон при смене страниц"},
            "sync":             {"en": "Hide and show together:",   "de": "Anzeigen und verbergen gleichzeitig", "ru": "Появления и исчезновение вместе"},
            // Effects
            "show":             {"en": "show",                      "de": "show",                   "ru": "show"},
            "blind":            {"en": "blind",                     "de": "blind",                  "ru": "blind"},
            "bounce":           {"en": "bounce",                    "de": "bounce",                 "ru": "bounce"},
            "clip":             {"en": "clip",                      "de": "clip",                   "ru": "clip"},
            "drop":             {"en": "drop",                      "de": "drop",                   "ru": "drop"},
            "explode":          {"en": "explode",                   "de": "explode",                "ru": "explode"},
            "fade":             {"en": "fade",                      "de": "fade",                   "ru": "fade"},
            "fold":             {"en": "fold",                      "de": "fold",                   "ru": "fold"},
            "highlight":        {"en": "highlight",                 "de": "highlight",              "ru": "highlight"},
            "puff":             {"en": "puff",                      "de": "puff",                   "ru": "puff"},
            "pulsate":          {"en": "pulsate",                   "de": "pulsate",                "ru": "pulsate"},
            "scale":            {"en": "scale",                     "de": "scale",                  "ru": "scale"},
            "shake":            {"en": "shake",                     "de": "shake",                  "ru": "shake"},
            "size":             {"en": "size",                      "de": "size",                   "ru": "size"},
            "slide":            {"en": "slide",                     "de": "slide",                  "ru": "slide"},
            "is_milliseconds":  {"en": "Milliseconds",              "de": "Millisekunden",          "ru": "Миллисекунды"},
            "is_milliseconds_tooltip": {
                "en": "Is object is milliseconds from 1970.01.01 00:00:00. Normally no.",
                "de": "Ob das Wert die Milleskunden seit 1970.01.01 00:00:00 ist. Normalerweise nicht.",
                "ru": "Является ли значение объекта миллисекундами с 1970.01.01 00:00:00. Обычно нет."
            },
            "format_date":      {"en": "Dateformat",                "de": "Datumformat",            "ru": "Формат даты"},
            "format_date_tooltip": {
                "en": "Dateformat",
                "de": "Datumformat",
                "ru": "Формат даты"
            },
            "show_interval":    {"en": "As interval",               "de": "Als Intervall",          "ru": "Как интервал"},
            "hide_effect":      {"en": "Hide effect",               "de": "Verbergeneffekt",        "ru": "Эффект скрытия"},
            "hide_duration":    {"en": "Hide duration(ms)",         "de": "Verbergendauer",         "ru": "Длительность скрытия(мс)"},
            "hide_options":     {"en": "Hide options",              "de": "Verbergenoptionen",      "ru": "Опции скрытия"},
            "show_effect":      {"en": "Show effect",               "de": "Anzeigeeffekt",          "ru": "Эффект появления"},
            "show_duration":    {"en": "Show duration(ms)",         "de": "Anzeigedauer",           "ru": "Длительность появления(мс)"},
            "show_options":     {"en": "Show options",              "de": "Anzeigeoptionen",        "ru": "Опции появления"},
            "left":             {"en": "left",                      "de": "links",                  "ru": "лево"},
            "right":            {"en": "right",                     "de": "rechts",                 "ru": "право"},
            "top":              {"en": "top",                       "de": "oben",                   "ru": "верх"},
            "bottom":           {"en": "bottom",                    "de": "unten",                  "ru": "низ"},

            "contains_view":    {"en": "Contains view",             "de": "Viewname",               "ru": "Имя страницы"},
            "persistent":       {"en": "Persistent",                "de": "Bleibend",               "ru": "Постоянно"},
            "persistent_tooltip": {
                "en": "If persistent the view will not be destroyed when inactive, just hide.\nElsewise the view will be destroyed, if inactive.",
                "de": "Falls 'Bleibend', dann wird die View nicht zerstört, sondern nur versteckt wenn inaktive. Sonst wird die View immer wieder kreiert und zerstört.",
                "ru": "Если выбранно 'Постоянно', то страница не будет уничтожаться, если она не активна. В противном случае страница будет создаваться и разрушаться."},
            "notIfInvisible":       {"en": "Only if visible",                "de": "Nur falls sichtbar",               "ru": "Только если видимо"},
            "notIfInvisible_tooltip": {
                "en": "View will be used only if this widget is visible",
                "de": "Die View wird nur benutzt, wenn dieses Widget sichtbar ist",
                "ru": "Страница будет использоваться только в том случае, если виден этот виджет"
            },
            "valuelist":        {"en": "Values list",               "de": "Wertenliste",            "ru": "Список значений"},
            "valuelist_tooltip": {
                "en": "Divide values with semicolon, like 'ok;warning;alram'. Every text accordingly for value 0,1,2 and so on\nTo have ';' in text use §§ instead.",
                "de": "Die Werte mit Semikolon trennen, wie 'ok;Warnung;Alarm'. Jeder Text ist entsprechend für das Wert 0,1,2 usw.\nUm ';' im Text zu haben, schrein '§§'.",
                "ru": "Разделять значения точкой запятой, например 'ok;Внимание;Тревога'. Каждый текст соответственно для значения 0,1,2 итд.\nДля написания ';' в тексте используй '§§'."
            },
            "html_false":       {"en": "HTML by 'false'",           "de": "HTML bei 'false'",       "ru": "HTML если 0"},
            "html_true":        {"en": "HTML by 'true'",            "de": "HTML bei 'true'",        "ru": "HTML если 1"},
            "text_false":       {"en": "Text by 'false'",           "de": "Text bei 'false'",       "ru": "Текст если 0"},
            "text_true":        {"en": "Text by 'true'",            "de": "Text bei 'true'",        "ru": "Текст если 1"},
            "svg_false":        {"en": "SVG by 'false'",            "de": "SVG bei 'false'",        "ru": "SVG если 0"},
            "svg_true":         {"en": "SVG by 'true'",             "de": "SVG bei 'true'",         "ru": "SVG если 1"},
            "svg_opacity":      {"en": "Opacity",                   "de": "Durchsichtigkeit",       "ru": "Прозрачность"},
            "html_closed":      {"en": "HTML by 'closed'",          "de": "HTML bei 'zu'",          "ru": "HTML если закрыто"},
            "html_open":        {"en": "HTML by 'open'",            "de": "HTML bei 'auf'",         "ru": "HTML если открыто"},
            "html_tilt":        {"en": "HTML by 'tilted'",          "de": "HTML bei 'gekippt'",     "ru": "HTML если наклоненно"},
            "html_tilt_tooltip": {
                "en": "0 - Closed, 1 - tilt, 2 - open",
                "de": "0- Zu, 1 - gekippt, 2 - auf",
                "ru": "0 - закрыто, 1 - откинуто, 2 - открыто"
            },
            "color":            {"en": "Color",                     "de": "Farbe",                  "ru": "Цвет"},
            "shadow":           {"en": "Opacity",                   "de": "Durchsichtigkeit",       "ru": "Тень"},
            "shadow_tooltip":   {
                "en": "CSS Shadow, like '10px 10px 5px #888888'",
                "de": "CSS Shatten, wie '10px 10px 5px #888888'",
                "ru": "CSS Тень, как '10px 10px 5px #888888'"
            },
            "reverse":          {"en": "Revers value",              "de": "Wert umkehren",          "ru": "Перевернуть значение"},
            "border":           {"en": "Border",                    "de": "Rand",                   "ru": "Окантовка"},
            "border_tooltip":   {
                "en": "CSS border, like 'green 5px solid'",
                "de": "CSS Rand, wie 'green 5px solid'",
                "ru": "CSS бордюр, как 'green 5px solid'"
            },
            "test_text":        {"en": "Test text",                 "de": "Testtext",               "ru": "Тестовый текст"},
            "max_width":        {"en": "Max. width",                "de": "Maximale Breite",        "ru": "Максимальная ширина"},
            "style":            {"en": "Style for ",                "de": "Stil für ",              "ru": "Стиль для "},
            "style_tooltip":    {
                "en": "Write here css style, like: 'color:red;background:white'",
                "de": "Hier muss CSS Stil stehen, wie 'color:red;background:white'",
                "ru": "CSS Стиль, например: 'color:red;background:white'"},
            "count":            {"en": "Values number to",          "de": "Wertsanzahl bis",        "ru": "Количество значений до"},
            "test_list":        {"en": "Test value",                "de": "Testwert",               "ru": "Тестовое значение"},
            "urlValue":         {"en": "Call URL on click",         "de": "Rufe URL bei click",     "ru": "Вызвать URL при нажатии"},
            "group_ccontrol":   {"en": "Advanced control",          "de": "Extrasteuerung",         "ru": "Продвинутое управление"},
            "urlFalse":         {"en": "URL on false",              "de": "URL bei false",          "ru": "URL при false"},
            "urlTrue":          {"en": "URL on true",               "de": "URL bei true",           "ru": "URL при true"},
            "oidFalse":         {"en": "Object ID on false",        "de": "Objekt ID bei false",    "ru": "ID объекта при false"},
            "oidTrue":          {"en": "Object ID on true",         "de": "Objekt ID bei true",     "ru": "ID объекта при true"},
            "oidTrueValue":     {"en": "Value for OÍD on true",     "de": "Wert für ID bei false",  "ru": "Значение для ID при false"},
            "oidFalseValue":    {"en": "Value for OÍD on false",    "de": "Wert für ID bei true",   "ru": "Значение для ID при true"},
            "square":           {"en": "square",                    "de": "square",                 "ru": "квадрат"},
            "pentagone":        {"en": "pentagone",                 "de": "pentagone",              "ru": "Пятиуголник"},
            "hexagone":         {"en": "hexagone",                  "de": "hexagone",               "ru": "Шестиугольник"},
            "octagone":         {"en": "octagone",                  "de": "octagone",               "ru": "Восьмиугольник"},
            "circle":           {"en": "circle",                    "de": "Kreis",                  "ru": "Круг"},
            "svgType":          {"en": "Type",                      "de": "Typ",                    "ru": "Тип"},
            "strokeColor":      {"en": "Stroke color",              "de": "Liniefarbe",             "ru": "Цвет линии"},
            "fill":             {"en": "Fill color",                "de": "Füllfarbe",              "ru": "Цвет заливки"},
            "strokeWidth":      {"en": "Stroke width",              "de": "Liniebreite",            "ru": "Ширина линии"},
            "rotate":           {"en": "Rotate",                    "de": "Drehen",                 "ru": "Повернуть на"},
            "no_control":       {"en": "Read only",                 "de": "Nur Anzeige",            "ru": "Только показывать"},
            "numeric":          {"en": "Number",                    "de": "Nummer",                 "ru": "Число"},
            "autoSet":          {"en": "Auto set",                  "de": "Auto-setzen",            "ru": "Авто запись"},
            "autoSet_tooltip":  {
                "en": "Without 'Auto set' you must press ENTER,\x0ato write the value.",
                "de": "Ohne 'Auto-setzen' man muss danach ENTER drucken,\x0A um das Wert zu schreiben.",
                "ru": "Без 'Авто записи' нужно нажать ENTER,\x0Aчто бы записать значение."
            },
            "group_views":      {"en": "Views",                     "de": "Views",                  "ru": "Страницы"},
            "group_frames":     {"en": "iFrames",                   "de": "iFrames",                "ru": "iFrames"},
            "horizontal":       {"en": "horizontal",                "de": "horizontal",             "ru": "горизонтально"},
            "vertical":         {"en": "vertical",                  "de": "senkrecht",              "ru": "вертикально"},
            "orientation":      {"en": "Orientation",               "de": "Ausrichtung ",           "ru": "Направление"},
            "noSandbox":        {"en": "No sandbox",                "de": "Kein Sandkasten",        "ru": "Не запускать в песочнице"},
            "scrollX":          {"en": "Scroll X",                  "de": "Scroll X",               "ru": "Scroll X"},
            "scrollY":          {"en": "Scroll Y",                  "de": "Scroll Y",               "ru": "Scroll Y"},
            "seamless":         {"en": "Seamless",                  "de": "Kein Rahmen",            "ru": "Без рамки"},
            "filters":          {"en": "Filters",                   "de": "Filter",                 "ru": "Фильтры"},
            "filters_Tooltip":  {
                "en": "Divided by semicolon,\x0Ae.g: light;control",
                "de": "Geteilt mir Semikolon\x0Az.B.: Licht;Steuerung",
                "ru": "Разделять точкой запятой\x0Aнапример: Свет;Управление"
            },
            "Select ID":        {"en": "Select ID",                 "de": "ID auswählen",           "ru": "Выбрать ID"},
            "redirect_url":     {"en": "Redirect URL",              "de": "Weiterleiten nach Logout", "ru": "Перейти на URL после выхода"},
            "in_app_close":     {"en": "Close mobile APP",          "de": "Mobiles APP schliessen", "ru": "Закрыть мобильное приложение"},
            "en-US":            {"en": "english",                   "de": "Englisch",               "ru": "английский"},
            "ru-RU":            {"en": "russian",                   "de": "Russisch",               "ru": "русский"},
            "continuous":       {"en": "Continuous",                "de": "Immer zuhören",          "ru": "Непрерывно"},
            "keywords":         {"en": "Keywords",                  "de": "Schlüsselworte",         "ru": "Ключевые слова"},
            "noImage":          {"en": "No image",                  "de": "Kein Bild",              "ru": "Без картинки"},
            "imageInactive":    {"en": "Inactive",                  "de": "Inaktiv",                "ru": "Не активно"},
            "imageActive":      {"en": "Active",                    "de": "Aktiv",                  "ru": "Активно"},
            "imageStarted":     {"en": "Started",                   "de": "Gestartet",              "ru": "Запущено"},
            "imageDetected":    {"en": "Detected",                  "de": "Gefunden",               "ru": "Обнаружено"},
            "imageSent":        {"en": "Sent",                      "de": "Gesedet",                "ru": "Отослано"},
            "imageHeightPx":    {"en": "Height (px)",               "de": "Höhe (px)",              "ru": "Высота (px)"},
            "imageWidthPx":     {"en": "Width (px)",                "de": "Breite (px)",            "ru": "Ширина (px)"},
            "noText":           {"en": "No help text",              "de": "Keine Hilfetext",        "ru": "Без текста помощи"},
            "noResults":        {"en": "No results",                "de": "Keine Ergebnise",        "ru": "Без результатов"},
            "keyWordColor":     {"en": "Key word color",            "de": "Schlüsselworte-Farbe",   "ru": "Цвет ключевых слов"},
            "keyWordColor_tooltip": {
                "en": "Text color, if key word found",
                "de": "Textfarbe, wenn im Text Schlüsselwort gefunden ist.",
                "ru": "Цвет текста, когда обнаружено ключевое слово"
            },
            "textSentColor":    {"en": "Text sent color",           "de": "Gesendet-Farbe",         "ru": "Цвет отосланного текста"},
            "textSentColor_tooltip": {
                "en": "Text color, when text sent to processing it",
                "de": "Textfarbe, wenn Text ist für Abarbeitung gesendet.",
                "ru": "Цвет текста, когда текст отослан на обработку"
            },
            "speechMode":       {"en": "Speech mode",               "de": "Sprachmodus",            "ru": "Режим речи"},
            "single":           {"en": "single",                    "de": "Ein mal",                "ru": "Одиночный"},
            "startstop":        {"en": "start/stop",                "de": "Start/Stop",             "ru": "Старт/стоп"},
            "line":             {"en": "line",                      "de": "Linie",                  "ru": "линия"},
            "triangle":         {"en": "triangle",                  "de": "Dreieck",                "ru": "треугольник"},
            "star":             {"en": "star",                      "de": "Stern",                  "ru": "звезда"},
            "arrow":            {"en": "arrow",                     "de": "Pfeil",                  "ru": "стрела"},
            "scaleWidth":       {"en": "Scale width",               "de": "breiten Skala",          "ru": "Масштаб по ширине"},
            "scaleHeight":      {"en": "Scale height",              "de": "höhen Skala",            "ru": "Масштаб по высоте"},
            "autoFocus": {
                "en": "Auto focus",
                "de": "Autofokus",
                "ru": "Автофокус",
                "pt": "Auto-foco",
                "nl": "Autofocus",
                "fr": "Mise au point automatique",
                "it": "Messa a fuoco automatica",
                "es": "Enfoque automático",
                "pl": "Automatyczne ustawianie ostrości",
                "zh-cn": "自动对焦"
            }
        });
    }

    $.extend(true, systemDictionary, {
        "Edit note":    {"en": "Edit note",     "de": "Meldung eingeben",   "ru": "Сообщение"},
        "Clear":        {"en": "Clear",         "de": "Löschen",            "ru": "Очистить"},
        "Ok":           {"en": "Ok",            "de": "Ok",                 "ru": "Ok"},
        "Cancel":       {"en": "Cancel",        "de": "Abbrechen",          "ru": "Отмена"},
        "all":          {"en": "all",           "de": "Alle",               "ru": "Все"},
        "just&nbsp;now":  {"en": "just&nbsp;now", "de": "gerade&nbsp;jetzt", "ru": "только&nbsp;что"},
        "for&nbsp;%s&nbsp;min.":  {"en": "for&nbsp;%s&nbsp;min.", "de": "vor&nbsp;%s&nbsp;Min.", "ru": "%s&nbsp;мин. назад"},
        "for&nbsp;%s&nbsp;hr.&nbsp;and&nbsp;%s&nbsp;min.": {
            "en": "for&nbsp;%s&nbsp;hr.&nbsp;and&nbsp;%s&nbsp;min.",
            "de": "vor&nbsp;%s&nbsp;St.&nbsp;und&nbsp;%s&nbsp;Min.",
            "ru": "%s&nbsp;часов&nbsp;и&nbsp;%s&nbsp;мин. назад"
        },
        "yesterday":              {"en": "yesterday", "de": "gestern", "ru": "вчера"},
        "for&nbsp;%s&nbsp;hours": {"en": "for&nbsp;%s&nbsp;hours", "de": "vor&nbsp;%s&nbsp;Stunden", "ru": "%s&nbsp;часов назад"},
        "click to create":        {"en": "click to create", "de": "klicken um zu erzeugen", "ru": "нажать что бы создать"},
        "This option works only in APP": {
            "en": "This option works only in APP",
            "de": "Funktioniert nur im APP",
            "ru": "Работает только в мобильном приложении"
        },
        "info_start": {
            "en": "Click on the microphone icon and begin speaking.",
            "de": "Klicken Sie das Mikrophon an und sagen Sie etwas.",
            "ru": "Нажмите на микрофон и начинайте говорить."
        },
        "info_speak_now": {
            "en": "Speak now.",
            "de": "Sage etwas.",
            "ru": "Говорите."
        },
        "info_no_speech": {
            "en": "No speech was detected. You may need to adjust your <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\">microphone settings</a>.",
            "de": "No speech was detected. You may need to adjust your <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\">microphone settings</a>.",
            "ru": "Речи не обнаружено. Может надо настроить микрофон <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\">Настройки микрофона</a>."
        },
        "info_no_microphone": {
            "en": "No microphone was found. Ensure that a microphone is installed and that <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\"> microphone settings</a> are configured correctly.",
            "de": "No microphone was found. Ensure that a microphone is installed and that <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\"> microphone settings</a> are configured correctly.",
            "ru": "No microphone was found. Ensure that a microphone is installed and that <a href=\"//support.google.com/chrome/bin/answer.py?hl=en&amp;answer=1407892\"> microphone settings</a> are configured correctly."
        },
        "info_allow": {
            "en": "Click the \"Allow\" button above to enable your microphone.",
            "de": "Click the \"Allow\" button above to enable your microphone.",
            "ru": "Нажмите на кнопку \"разрешить\" сверху, что бы активировать микрофон."
        },
        "info_denied": {
            "en": "Permission to use microphone was denied.",
            "de": "Permission to use microphone was denied.",
            "ru": "Доступ к микрофону был запрещён."
        },
        "info_blocked": {
            "en": "Permission to use microphone is blocked. To change, go to chrome://settings/contentExceptions#media-stream",
            "de": "Permission to use microphone is blocked. To change, go to chrome://settings/contentExceptions#media-stream",
            "ru": "Доступ к микрофону блокирован. Что бы изменить настройки идите <a href=\"chrome://settings/contentExceptions#media-stream\">сюда</a>"
        },
        "info_upgrade": {
            "en": "Web Speech API is not supported by this browser. Upgrade to<a href=\"//www.google.com/chrome\">Chrome</a> version 25 or later.",
            "de": "Web Speech API is not supported by this browser. Upgrade to<a href=\"//www.google.com/chrome\">Chrome</a> version 25 or later.",
            "ru": "Web Speech API не поддерживается этим браузером. Обновите до <a href=\"//www.google.com/chrome\">Chrome</a> версии 25 или новее."
        }
    });

    vis.binds.stateful = {
        view: function (el, viewArr, persistent, notIfInvisible) {
            var $this = $(el);
            var oid   = $this.attr('data-oid');
            var timer = null;

            function draw(val) {
                timer = null;
                var view = viewArr[val];
                $this.parent().find('div.vis-view').hide().appendTo($('#vis_container')); // for destroy hidden view in findAndDestroyViews()

                if (vis.views[view]) {
                    vis.renderView(view, view, true, function (_view) {
                        var $view = $('#visview_' + _view);
                        $view.show().data('persistent', persistent);
                        if (!$this.find('#visview_' + _view).length) {

                            let err=$this.find('.container-error');
                            if (err.length) err.remove()

                            $view.appendTo($this);
                        }
                    });
                } else {
                    let err = $this.find('.container-error');
                    if (!err.length) {
                        $this.append(`<span style="color: red" class="container-error">${_('error: view not found.')}</span>`);
                    }
                }

                vis.destroyUnusedViews();
            }

            function onChange(e, newVal) {
                if (newVal === 'true'  || newVal === true) {
                    newVal = 1;
                }
                if (newVal === 'false' || newVal === false) {
                    newVal = 0;
                }
                if (notIfInvisible && !$this.is(':visible')) {
                    return;
                }

                if (timer) {
                    clearTimeout(timer)
                }
                timer = setTimeout(() => draw(newVal), 50);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        iframe: function (el, srcArr, refreshInterval) {
            var $this = $(el).parent().find('iframe');
            var oid   = $this.attr('data-oid');
            refreshInterval = parseInt(refreshInterval, 10) || 0;

            function onChange (e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false) newVal = 0;
                $this.attr('src', srcArr[newVal]);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                if (vis.states[oid + '.val'] !== undefined) {
                    var val = vis.states[oid + '.val'];
                    if (val === 'true'  || val === true)  val = 1;
                    if (val === 'false' || val === false) val = 0;
                    $this.attr('src', srcArr[val]);
                }

                if (refreshInterval > 0) {
                    setInterval(function () {
                        var val = vis.states[oid + '.val'] || 0;
                        if (val === 'true'  || val === true)  val = 1;
                        if (val === 'false' || val === false) val = 0;
                        var src = srcArr[val];
                        $this.attr('src', src + (src.match(/\?/) ? '&' : '?') + '_vis_refts=' + ((new Date()).getTime()));
                    }, refreshInterval);
                }
            }
        },
        image: function (el, srcArr, refreshInterval) {
            var $this = $(el).parent().find('img');
            var oid = $this.attr('data-oid');
            refreshInterval = parseInt(refreshInterval, 10) || 0;

            function onChange (e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false) newVal = 0;
                $this.attr('src', srcArr[newVal]);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                if (vis.states[oid + '.val'] !== undefined) {
                    var val = vis.states[oid + '.val'];
                    if (val === 'true'  || val === true)  val = 1;
                    if (val === 'false' || val === false) val = 0;
                    $this.attr('src', srcArr[val]);
                }

                if (refreshInterval > 0) {
                    setInterval(function () {
                        var val = vis.states[oid + '.val'] || 0;
                        if (val === 'true'  || val === true)  val = 1;
                        if (val === 'false' || val === false) val = 0;

                        var src = srcArr[val];
                        if (src) $this.attr('src', src + ((src.indexOf('?') !== -1) ? '&' : '?') + '_vis_refts=' + ((new Date()).getTime()));
                    }, refreshInterval);
                }
            }

        },
        value: function (values, oid) {
            if (oid !== 'nothing_selected' && vis.states.attr(oid + '.val') !== undefined) {
                var val = vis.states.attr(oid + '.val');
                if (val === 'true'  || val === true)  val = 1;
                if (val === 'false' || val === false) val = 0;
                return values[val];
            } else {
                return values[0];
            }
        }
    };
    vis.binds.container = function (el, view) {
        var $this = $(el);
        if (vis.views[view]) {
            vis.renderView(view, view, true, function (_view) {
                $('#visview_' + _view).appendTo($this).show();
            });
        }
    };
    vis.binds.basic = {
        isFullScreen: false,
        filterDropdown: function (el, filters, hideEffect, hideDuration, showEffect, showDuration) {
            var $this = $(el);
            if (filters) {
                filters = filters.split(';');
                for (var i = 0; i < filters.length; i++) {
                    $this.find('select').append('<option value="' + filters[i] + '">' + filters[i] + '</option>');
                }
            }

            if (vis.viewsActiveFilter[vis.activeView]) {
                $this.find('select option[value="' + vis.viewsActiveFilter[vis.activeView] + '"]').attr('selected', true);
            }

            $this.find('select').change(function () {
                vis.changeFilter(null, $this.find('select option:selected').val(), hideEffect, hideDuration, showEffect, showDuration);
            });
        },
        state: function (el, oid) {
            var $this = $(el);
            oid = oid ? oid : $this.attr('data-oid');
            var val = $this.attr('data-val');

            if (oid) {
                $this.attr('data-ctrl-oid', oid);
            }

            if (val === 'true')  val = true;
            if (val === 'false') val = false;

            if (!vis.editMode) {
                var moved = false;
                $this.on('click touchend', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    var oid = $(this).attr('data-ctrl-oid');

                    if ($(this).attr('url-value')) {
                        vis.conn.httpGet($(this).attr('url-value'));
                    }

                    if (oid) {
                        var val = $(this).attr('data-val');
                        if (val === undefined || val === null) val = false;
                        if (val === 'true')  val = true;
                        if (val === 'false') val = false;
                        if (parseFloat(val).toString() == val) val = parseFloat(val);

                        if (oid) vis.setValue(oid, val);
                    }
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            }
        },
        pressed: null,
        pressedNext: null,
        increment: function (el, minmax, delay, interval) {

            function fInterval($that) {
                vis.binds.basic.pressedNext = true;
                vis.binds.basic.pressed = null;
                var oid = $that.attr('data-oid');
                if (!vis.editMode) {
                    var step = parseFloat($that.attr('data-vis-step'));
                    var tmp  = parseFloat(vis.states[oid + '.val']) + step;
                    if (step < 0) {
                        if (tmp >= minmax) {
                            vis.setValue($that.attr('data-oid'), tmp);
                            vis.binds.basic.pressed = _setTimeout(fInterval, interval, $that);
                        }
                    } else {
                        if (tmp <= minmax) {
                            vis.setValue($that.attr('data-oid'), tmp);
                            vis.binds.basic.pressed = _setTimeout(fInterval, interval, $that);
                        }
                    }
                }
            }

            function intervalStart(e) {
                vis.binds.basic.pressedNext = false;
                var $this = $(this);
                var oid = $this.attr('data-oid');

                if (vis.binds.basic.pressed) {
                    clearInterval(vis.binds.basic.pressed);
                    vis.binds.basic.pressed = null;
                }

                vis.binds.basic.pressed = setTimeout(fInterval, delay, $this);
            }

            if (!vis.editMode) {
                var moved = false;
                $(el).on('click touchend', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    if (vis.binds.basic.pressed) {
                        clearInterval(vis.binds.basic.pressed);
                        vis.binds.basic.pressed = null;
                    }

                    if (vis.binds.basic.pressedNext) {
                        vis.binds.basic.pressedNext = false;
                        return;
                    }
                    var $this = $(this);
                    var oid = $this.attr('data-oid');
                    var step = parseFloat($this.attr('data-vis-step'));
                    var tmp  = parseFloat(vis.states[oid + '.val']) + step;
                    if (step < 0) {
                        if (minmax === undefined || tmp >= minmax) {
                            vis.setValue($this.attr('data-oid'), tmp);
                        }
                    } else {
                        if (minmax === undefined || tmp <= minmax) {
                            vis.setValue($this.attr('data-oid'), tmp);
                        }
                    }
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            }

            if (interval) {
                $(el).on('mousedown', intervalStart)
                    .on('touchstart', intervalStart)
                    .on('touchend', function () {
                        if (vis.binds.basic.pressed) {
                            clearInterval(vis.binds.basic.pressed);
                            vis.binds.basic.pressed = null;
                        }
                    })
                    .on('mouseup', function () {
                        if (vis.binds.basic.pressed) {
                            clearInterval(vis.binds.basic.pressed);
                            vis.binds.basic.pressed = null;
                        }
                    }).data('destroy', function (id, $widget) {
                    $widget && $widget.off('mousedown').off('touchstart').off('touchend').off('mouseup');
                });
            }
        },
        navigation: function (el, options) {
            if (!vis.editMode && options.nav_view) {
                var $this = $(el);
                var moved = false;
                $this.on('click touchend', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    if (options.background) $('body').css({background: options.background});

                    vis.changeView(options.nav_view, options.nav_view, options.hideOptions, options.showOptions, options.sync);
                    //e.preventDefault();
                    //return false;
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            }
        },
        hideOnFalse: function (el) {
            var $this = $(el);
            var oid   = $this.attr('data-oid');

            function onChange (e, newVal) {
                if (newVal === null || newVal === false || newVal === 0 || newVal === 'false' || !parseInt(newVal, 10)) {
                    if (!vis.editMode) {
                        $this.hide();
                    }
                } else {
                    $this.show();
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.data('bound', [oid + '.val'])
                // remember bind handler
                    .data('bindHandler', onChange);

                if (!vis.editMode) {
                    var newVal = vis.states.attr(oid + '.val');
                    if (newVal === null || newVal === false || newVal === 0 || newVal === 'false' || parseInt(newVal, 10) === 0) {
                        $this.hide();
                    }
                }
            }

        },
        /*hideOnTrue: function (el) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                if (newVal === true || parseFloat(newVal) > 0) {
                    if (!vis.editMode) {
                        $this.hide();
                    }
                } else {
                    $this.show();
                }
            });
            if (!vis.editMode) {
                if (parseFloat(vis.states.attr(oid + '.val')) !== 0 && vis.states.attr(oid + '.val') !== false) {
                    $this.hide();
                }
            }
        },
        showOnValue: function (el, val) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                if (newVal != val) {
                    if (!vis.editMode) {
                        $this.hide();
                    }
                } else {
                    $this.show();
                }
            });
            if (!vis.editMode) {
                if (vis.states.attr(oid + '.val') != val) {
                    $this.hide();
                }
            }
        },*/
        _onChange: function (el, oid, wid) {
            var $this = $(el);
            // If still working
            //console.log(oid + ' ' + vis.states.attr(oid + '.val') + ' (' + vis.states.attr(oid + '.ack') + ') - ' + wid + ' ' + vis.states.attr(wid + '.val') + ' (' + vis.states.attr(wid + '.ack') + ')');

            if (wid && (vis.states.attr(wid + '.val') === true)) return;

            var val = vis.states.attr(oid + '.val');

            if (val === 'false') {
                val = false;
            } else if (val === 'true') {
                val = true;
            } else if (typeof val === 'string') {
                var f = parseFloat(val);
                if (f == val) {
                    val = f;
                } else if (val !== '') {
                    val = true;
                } else {
                    val = false;
                }
            }

            if ($this.data('data-numeric')) {
                $this.prop('checked', (val > (($this.data('data-max') - $this.data('data-min')) / 2)));
            } else {
                $this.prop('checked', val);
            }
        },
        checkbox: function (el, numeric, min, max) {
            var $this = $(el);
            var oid   = $this.data('oid'); // Object ID
            var wid   = $this.data('oid-working'); // Work ID

            function onChange() {
                vis.binds.basic._onChange(el, oid, wid);
            }
            if (oid) {
                var bound = [];
                vis.states.bind(oid + '.val', onChange);
                bound.push(oid + '.val');
                if (wid) {
                    vis.states.bind(wid + '.val', onChange);
                    bound.push(wid + '.val');
                }

                // remember all ids, that bound
                $this.closest('.vis-widget')
                    .data('bound', bound)
                    // remember bind handler
                    .data('bindHandler', onChange);
            }

            if (numeric) {
                if (min !== undefined && min !== null && min !== '') {
                    min = parseFloat(min);
                } else {
                    min = 0;
                }

                if (max !== undefined && max !== null && max !== '') {
                    max = parseFloat(max);
                } else {
                    max = 1;
                }
            } else {
                min = false;
                max = true;
            }

            $this.data('min',     min);
            $this.data('max',     max);
            $this.data('numeric', numeric);

            vis.binds.basic._onChange(el, oid, wid);

            if (!vis.editMode) {
                $this.change(function () {
                    var $this_ = $(this);
                    if ($this_.prop('checked')) {
                        vis.setValue($this_.data('oid'), $this_.data('max'));
                    } else {
                        vis.setValue($this_.data('oid'), $this_.data('min'));
                    }
                });
            }
        },
        input: function (el, data) {
            var $this = $(el);
            var oid   = $this.data('oid'); // Object ID
            var wid   = $this.data('oid-working'); // Work ID

            function onChange(e, val) {
                $this.val(val);
            }

            if (oid) {
                var bound = [oid + '.val'];
                vis.states.bind(oid + '.val', onChange);
                if (wid) {
                    bound.push(wid + '.val');
                    vis.states.bind(wid + '.val', onChange);
                }
                // remember all ids, that bound
                $this.closest('.vis-widget')
                    .data('bound', bound)
                    // remember bind handler
                    .data('bindHandler', onChange);
            }

            if (data.numeric) {
                $this.attr('type', 'number');
                if (data.min !== undefined && data.min !== null && data.min !== '') {
                    data.min = parseFloat(data.min);
                } else {
                    data.min = null;
                }

                if (data.max !== undefined && data.max !== null && data.max !== '') {
                    data.max = parseFloat(data.max);
                } else {
                    data.max = null;
                }
            }

            $this.val(vis.states[oid + '.val'] === undefined ? '' : vis.states[oid + '.val']);

            setTimeout(function () {
                $this.css('text-align', $this.parent().parent().css('text-align'));
                $this.css('color', $this.parent().parent().css('color'));
                $this.css('background', $this.parent().parent().css('background'));
                $this.css('border', '0');
                $this.css('text-font', $this.parent().parent().css('text-font'));
            }, 0);

            if (!vis.editMode) {
                $this.change(function () {
                    var $this_ = $(this);
                    if (data.numeric) {
                        var value = parseFloat($this_.val());
                        if (data.min !== null && value < data.min) {
                            value = data.min;
                            $this_.val(value);
                        } else if (data.max !== null && value > data.max) {
                            value = data.max;
                            $this_.val(value);
                        }
                        vis.setValue($this_.data('oid'), value);
                    } else {
                        vis.setValue($this_.data('oid'), $this_.val());
                    }
                });
                if (data.autoSet) {
                    $this.keyup(function(e) {
                        var timer = $this.data('timer');
                        if (timer) clearTimeout(timer);
                        $this.data('timer', setTimeout(function () {
                            $this.trigger('change');
                        }), 1000);
                    });
                }
            }
        },
        select: function (el, invert) {
            var $this = $(el).prev();
            var oid   = $this.attr('data-oid');
            var val   = vis.states[oid + '.val'];

            if (val === 'false') {
                val = false;
            } else if (val === 'true') {
                val = true;
            } else if (typeof val === 'string') {
                var f = parseFloat(val);
                if (f == val) {
                    val = f;
                } else if (val !== '') {
                    val = true;
                } else {
                    val = false;
                }
            }

            if (invert) val = !val;

            $this.val(val ? 1 : 0);

            if (!vis.editMode) {
                if (oid !== 'nothing_selected') {
                    $this.change(function () {
                        var val = $this.find('option:selected').val();
                        if (invert) val = !val;
                        vis.setValue(oid, val);
                    });
                }
            }
            if (oid !== 'nothing_selected') {

            }
            function onChange(e, newVal, oldVal) {
                if (newVal === 'false') {
                    newVal = false;
                } else if (newVal === 'true') {
                    newVal = true;
                } else if (typeof newVal === 'string') {
                    var f = parseFloat(newVal);
                    if (f == newVal) {
                        newVal = f;
                    } else if (newVal !== '') {
                        newVal = true;
                    } else {
                        newVal = false;
                    }
                }
                if (oldVal === 'false') {
                    oldVal = false;
                } else if (oldVal === 'true') {
                    oldVal = true;
                } else if (typeof oldVal === 'string') {
                    var f = parseFloat(oldVal);
                    if (f == oldVal) {
                        oldVal = f;
                    } else if (oldVal !== '') {
                        oldVal = true;
                    } else {
                        oldVal = false;
                    }
                }

                if (newVal == oldVal) return;

                if (newVal === 'false' || newVal === false || parseFloat(newVal) === 0) {
                    if ($this.find('option[value="1"]').prop('selected')) {
                        $this.find('option[value="1"]').prop('selected', false);
                        $this.find('option[value="0"]').prop('selected', true);
                        $this.trigger('change');
                    }
                } else {
                    if ($this.find('option[value="0"]').prop('selected')) {
                        $this.find('option[value="0"]').prop('selected', false);
                        $this.find('option[value="1"]').prop('selected', true);
                        $this.trigger('change');
                    }
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.closest('.vis-widget')
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        pushbutton: function(el, oid) {
            if (!vis.editMode) {
                var $this = $(el);
                oid = oid || $this.data('oid');

                $this.on('mousedown touchstart', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    vis.setValue(oid, true);
                });
                $this.on('mouseup touchend touchcancel', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this, true)) return;

                    vis.setValue(oid, false);
                });
            }
        },
        toggle: function (el, oid) {
            var $this = $(el);
            oid = oid || $this.data('oid');
            var min = $this.data('min');
            var max = $this.data('max');

            var urlTrue     = $this.data('url-true');
            var urlFalse    = $this.data('url-false');
            var oidTrue     = $this.data('oid-true');
            var oidFalse    = $this.data('oid-false');
            var oidTrueVal  = $this.data('oid-true-value');
            var oidFalseVal = $this.data('oid-false-value');
            var readOnly    = $this.data('read-only');

            if (min === '') min = undefined;
            if (max === '') max = undefined;

            if ((oid || oidTrue || urlTrue) && !vis.editMode && !readOnly) {
                var moved = false;
                $this.on('click touchend', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (moved) return;

                    var val;

                    if (oidTrue || urlTrue) {
                        if (!oidFalse && oidTrue) oidFalse = oidTrue;
                        if (!urlFalse && urlTrue) urlFalse = urlTrue;

                        if (!oid || oid === 'nothing_selected') {
                            val = !$(this).data('state');
                            // remember state
                            $(this).data('state', val);
                        } else {
                            val = vis.states[oid + '.val'];
                            if (max !== undefined) {
                                if (max === 'true')  max = true;
                                if (max === 'false') max = false;
                                if (val === 'true')  val = true;
                                if (val === 'false') val = false;
                                val = (val == max);
                            } else {
                                val = (val === 1 || val === '1' || val === true || val === 'true');
                            }
                            val = !val; // invert
                        }
                        if (min === undefined || min === 'false' || min === null) min = false;
                        if (max === undefined || max === 'true'  || max === null) max = true;

                        if (oidTrue) {
                            if (val) {
                                if (oidTrueVal === undefined || oidTrueVal === null) oidTrueVal = max;
                                if (oidTrueVal === 'false') oidTrueVal = false;
                                if (oidTrueVal === 'true')  oidTrueVal = true;
                                var f = parseFloat(oidTrueVal);
                                if (f.toString() == oidTrueVal) oidTrueVal = f;
                                vis.setValue(oidTrue,  oidTrueVal);
                            } else {
                                if (oidFalseVal === undefined || oidFalseVal === null) oidFalseVal = min;
                                if (oidFalseVal === 'false') oidFalseVal = false;
                                if (oidFalseVal === 'true')  oidFalseVal = true;
                                var f = parseFloat(oidFalseVal);
                                if (f.toString() == oidFalseVal) oidFalseVal = f;
                                vis.setValue(oidFalse, oidFalseVal);
                            }
                        }

                        if (urlTrue) {
                            if (val) {
                                vis.conn.httpGet(urlTrue)
                            } else {
                                vis.conn.httpGet(urlFalse);
                            }
                        }

                        // show new state
                        if (!oid || oid === 'nothing_selected') {
                            var img = $(this).data('img-class');
                            if (val) {
                                if ($(this).data('as-button')) $(this).addClass('ui-state-active');
                                val = $(this).data('img-true');
                            } else {
                                val = $(this).data('img-false');
                                if ($(this).data('as-button')) $(this).removeClass('ui-state-active');
                            }
                            $(this).find('.' + img).attr('src', val);
                        }
                    } else {
                        var val = vis.states[oid + '.val'];
                        if ((min === undefined && (val === null || val === '' || val === undefined || val === false || val === 'false')) ||
                            (min !== undefined && min == val)) {
                            vis.setValue(oid, max !== undefined ? max : true);
                        } else
                        if ((max === undefined && (val === true || val === 'true')) ||
                            (max !== undefined && val == max))
                        {
                            vis.setValue(oid, min !== undefined ? min : false);
                        } else {
                            val = parseFloat(val);
                            if (min !== undefined && max !== undefined) {
                                if (val >= (max - min) / 2) {
                                    val = min;
                                } else {
                                    val = max;
                                }
                            } else {
                                if (val >= 0.5) {
                                    val = 0;
                                } else {
                                    val = 1;
                                }
                            }
                            vis.setValue(oid, val);
                        }
                    }
                }).on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                }).data('destroy', function (id, $widget) {
                    $widget.off('click touchend').off('touchmove').off('touchstart');
                });
            }
        },
        iframeRefresh: function (el, src, refreshInterval, refreshOnWakeUp, refreshOnViewChange, refreshWithNoQuery) {
            var widgetView;
            if (src && typeof src === 'object') {
                widgetView = refreshInterval;
                refreshInterval     = src.refreshInterval;
                refreshOnWakeUp     = src.refreshOnWakeUp;
                refreshOnViewChange = src.refreshOnViewChange;
                refreshWithNoQuery  = src.refreshWithNoQuery;
                src                 = src.src;
            } else if (refreshInterval && typeof refreshInterval === 'object') {
                widgetView = refreshOnWakeUp;
                refreshInterval     = refreshInterval.refreshInterval;
                refreshOnWakeUp     = refreshInterval.refreshOnWakeUp;
                refreshOnViewChange = refreshInterval.refreshOnViewChange;
                refreshWithNoQuery  = refreshInterval.refreshWithNoQuery;
            }
            refreshOnViewChange = refreshOnViewChange === true || refreshOnViewChange === 'true';
            refreshOnWakeUp     = refreshOnWakeUp     === true || refreshOnWakeUp     === 'true';
            refreshWithNoQuery  = refreshWithNoQuery  === true || refreshWithNoQuery  === 'true';

            if (!vis.editMode && src) {
                var $this = $(el).parent().find('iframe');
                refreshInterval = parseInt(refreshInterval, 10) || 0;

                if (refreshOnViewChange) {
                    widgetView = widgetView || vis.activeView;
                    vis.navChangeCallbacks.push(function (view) {
                        if (view === widgetView) {
                            $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                        }
                    });
                }
                if (refreshInterval > 0) {
                    setInterval(function () {
                        if ($this.is(':visible')) {
                            var p = $this.parents(':hidden');
                            if (!p.length || p[0].tagName === 'BODY' || p[0].id === 'materialdesign-vuetify-container') {
                                $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                            }
                        }
                    }, refreshInterval);
                }
                if (refreshOnWakeUp) {
                    vis.onWakeUp(function () {
                        // TODO this does not work. :(
                        $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                    });
                }
            }
        },
        htmlRefresh: function (el, html, refreshInterval) {
            refreshInterval = parseInt(refreshInterval, 10) || 0;
            if (html && !vis.editMode && refreshInterval > 0) {
                var $this = $(el);
                setInterval(function () {
                    if ($this.is(':visible')) {
                        var p = $this.parents(':hidden');
                        if (!p.length || p[0].tagName === 'BODY' || p[0].id === 'materialdesign-vuetify-container') {
                            $this.html(html);
                        }
                    }
                }, refreshInterval);
            }
        },
        imgRefresh: function (el, src, refreshInterval, refreshOnWakeUp, refreshOnViewChange, refreshWithNoQuery) {
            var widgetView;
            if (src && typeof src === 'object') {
                widgetView = refreshInterval;
                refreshInterval     = src.refreshInterval;
                refreshOnWakeUp     = src.refreshOnWakeUp;
                refreshOnViewChange = src.refreshOnViewChange;
                refreshWithNoQuery  = src.refreshWithNoQuery;
                src                 = src.src;
            } else if (refreshInterval && typeof refreshInterval === 'object') {
                widgetView = refreshOnWakeUp;
                refreshInterval     = refreshInterval.refreshInterval;
                refreshOnWakeUp     = refreshInterval.refreshOnWakeUp;
                refreshOnViewChange = refreshInterval.refreshOnViewChange;
                refreshWithNoQuery  = refreshInterval.refreshWithNoQuery;
            }
            refreshOnViewChange = refreshOnViewChange === true || refreshOnViewChange === 'true';
            refreshOnWakeUp     = refreshOnWakeUp     === true || refreshOnWakeUp     === 'true';
            refreshWithNoQuery  = refreshWithNoQuery  === true || refreshWithNoQuery  === 'true';

            if (!vis.editMode && src) {
                var $this = $(el).parent().find('img');
                refreshInterval = parseInt(refreshInterval, 10) || 0;

                if (refreshOnViewChange) {
                    widgetView = widgetView || vis.activeView;
                    vis.navChangeCallbacks.push(function (view) {
                        if (view === widgetView) {
                            $this.attr('src', src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime())));
                        }
                    });
                }
                if (refreshInterval > 0) {
                    setInterval(function () {
                        if ($this.is(':visible')) {
                            var p = $this.parents(':hidden');
                            if (!p.length || p[0].tagName === 'BODY' || p[0].id === 'materialdesign-vuetify-container') {
                                $this[0].src = src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime()));
                            }
                        }
                    }, refreshInterval);
                }
                if (refreshOnWakeUp) {
                    //console.log("refreshOnWakeUp!");
                    vis.onWakeUp(function () {
                        // TODO this does not work. :(
                        //console.log("wakeup refresh!");
                        $this[0].src = src + (refreshWithNoQuery ? '' : ((src.indexOf('?') !== -1) ? '&' : '?') + '_refts=' + ((new Date()).getTime()));
                        //console.log($this.attr('src'));
                    });
                }
            }
        },
        showSvg: function (myClass, view, wid, oid, opacity, svg_false, svg_true, style, no_control) {
            var $wid = $('#' + wid);

            var id = $wid.attr('id');
            if (id && id.match(/_removed$/)) return;

            if (!$wid.length) {
                return setTimeout(function () {
                    vis.binds.basic.showSvg(myClass, view, wid, oid, opacity, svg_false, svg_true, style, no_control);
                }, 100);
            }

            $wid.find('svg').remove();
            var str = vis.states.attr(oid + '.val');
            if (typeof str === 'string') str = str.toLowerCase();
            var val = parseFloat(str);
            var sText = '<svg version="1.1" style="width:100%;height:100%" xmlns="http://www.w3.org/2000/svg" data-oid="' + oid + '">';
            if (vis.editMode) {
                if (opacity === undefined || opacity === null || opacity === '') opacity = 1;

                if (parseFloat(opacity) < 0.2) opacity = 0.2;
            }
            if (val === 0 || str === 'false' || str === '0' || str === 'off' || str === false || str === null || str === undefined) {
                // try to analyse
                sText += svg_false;
            } else {
                sText += svg_true;
            }
            sText += '</svg>';
            $wid.find('.vis-widget-body').append(sText);

            if (style) $wid.css(style);

            var moved = false;

            function onSvgClick() {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                if (moved) return;

                var val = vis.states[oid + '.val'];
                if (val === null || val === '' || val === undefined || val === false || val === "false") {
                    vis.setValue(oid, true);
                } else if (val === true || val === "true") {
                    vis.setValue(oid, false);
                } else {
                    val = parseFloat(val);
                    if (val >= 0.5) {
                        val = 1;
                    } else {
                        val = 0;
                    }
                    vis.setValue(oid, 1 - val);
                }
            }

            function onChange (e, newVal) {
                if (newVal === 'true'  || newVal === true)  newVal = 1;
                if (newVal === 'false' || newVal === false || newVal === '0') newVal = 0;
                var $svg = $('#' + wid).find('svg');

                $svg.html(newVal ? svg_true : svg_false);

                if (!vis.editMode && !no_control) {
                    $svg.children().unbind('click touchend touchmove touchstart').on('click touchend', onSvgClick)
                        .on('touchmove', function () {
                            moved = true;
                        }).on('touchstart', function () {
                        moved = false;
                    });
                } else if (vis.editMode){
                    $svg.children().unbind('click touchstart').on('click touchstart', function () {
                        vis.inspectWidgets([wid]);
                    });
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $wid.data('bound', [oid + '.val'])
                // remember bind handler
                    .data('bindHandler', onChange);
            }
            var $svg = $wid.find('svg');
            if (!vis.editMode && !no_control) {
                $svg.children().off('click touchend').on('click touchend', onSvgClick).off('touchmove').on('touchmove', function () {
                    moved = true;
                }).on('touchstart', function () {
                    moved = false;
                });
            } else if (vis.editMode){
                $svg.children().off('click touchstart').on('click touchstart', function () {
                    vis.inspectWidgets([wid]);
                });
            }
            $wid.data('destroy', function (id, $widget) {
                $widget.find('svg').children().off('click touchend').off('touchmove').off('click touchstart');
            });
        },
        editNote: function (wid, max_width, min_width, min_height, oid) {
            if (vis.editMode) return;

            max_width  = max_width  ? parseInt(max_width,  10) : 400;
            min_width  = min_width  ? parseInt(min_width,  10) : 40;
            min_height = min_height ? parseInt(min_height, 10) : 15;

            var $this = $('#div_' + wid);
            $('body').append('<div id="dlg_' + wid + '" title="' + _('Edit note') + '">' +
                '<textarea style="resize: none; width:95%; height:92%" id="text_' + wid + '">' + $this.text().trim() + '</textarea></div>');

            var buttons = {};
            buttons[_('Clear')] = function () {
                $('#text_' + $(this).attr('data-wid')).val("");
            };

            buttons[_('Ok')] = function () {
                var dlg  = $(this);
                var oid  = dlg.attr('data-oid');
                var wid  = dlg.attr('data-wid');
                var text = $('#text_' + wid).val();
                text = text.replace('\n', '<br>\n');

                if (!oid) $('#div_' + wid).html(text);
                /*if (!text) {
                 $('#' + wid).css({width: min_width, height: min_height});
                 }
                 else {
                 $('#' + wid).css({width: max_width, height: 'auto'});
                 }*/

                if (oid) vis.setValue(oid, text);

                dlg.dialog('close');
                dlg.remove();
            };

            buttons[_('Cancel')] = function () {
                $(this).dialog('close');
                $(this).remove();
            };

            $('#dlg_' + wid).attr('data-oid', oid).attr('data-wid', wid).dialog({
                width:   500,
                height:  300,
                modal:   true,
                buttons: buttons
            });
        },
        formatFloat: function (data, val) {
            if (vis.editMode && data.attr('test_html') !== undefined && data.attr('test_html') !== '') {
                val = parseFloat(data.attr('test_html'));
            } else if(val === undefined || val === null){
                val = parseFloat(vis.states.attr(data.oid + '.val'));
            }else {
                val = parseFloat(val);
            }
            if (data.factor !== undefined && data.factor !== '') val = val * parseFloat(data.factor);
            if (data.digits !== undefined && data.digits !== '') val = val.toFixed(parseFloat(data.digits, 10));

            if (data.attr('is_tdp')) {
                val = this.formatValue(val, data.digits ? parseInt(data.digits) : 2, data.attr('is_comma') ? ".," : ",.");
            } else if (data.attr('is_comma')) {
                val = '' + val;
                val = val.replace('.', ',');
            }

            return val;
        },
        extractWidth: function (css, multiplier) {
            // extract from "2px solid #aabbcc" => 2px
            var m = css.match(/([0-9])+(px|em)?/);
            if (m) {
                if (m[1] && m[2]) {
                    return parseInt(m[1], 10) * (multiplier || 1) + m[2];
                } else {
                    return parseInt(m[1], 10) * (multiplier || 1);
                }
            }
        },
        getCalc: function (data, val) {
            var min = (data.min || data.min === 0) ? parseFloat(data.min) : 0;
            var max = (data.max || data.max === 0) ? parseFloat(data.max) : 100;
            val = parseFloat(vis.states.attr(data.oid + '.val')) || 0;
            val = (val - min) / (max - min);
            return (data.border) ? ('calc(' + Math.round(val * 100) + '% - ' + vis.binds.basic.extractWidth(data.border, 2) + ')') : (Math.round(val * 100) + '%');
        },

        formatValue: function formatValue(value, decimals, _format) {
            if (typeof decimals !== 'number') {
                decimals = 2;
                _format = decimals;
            }
            var format = (_format === undefined) ? '.,' : _format;
            if (typeof value !== 'number') value = parseFloat(value);
            return isNaN(value) ? '' : value.toFixed(decimals || 0).replace(format[0], format[1]).replace(/\B(?=(\d{3})+(?!\d))/g, format[0]);
        },

        formatIntervalHelper: function (value, type) {
            var singular;
            var plural;
            var special24;
            if (vis.language === 'de') {
                if (type === 'seconds') {
                    singular = 'Sekunde';
                    plural   = 'Sekunden';
                } else if (type === 'minutes') {
                    singular = 'Minute';
                    plural   = 'Minuten';
                } else if (type === 'hours') {
                    singular = 'Stunde';
                    plural   = 'Stunden';
                } else if (type === 'days') {
                    singular = 'Tag';
                    plural   = 'Tagen';
                }
            } else
            if (vis.language === 'ru') {
                if (type === 'seconds') {
                    singular  = 'секунду';
                    plural    = 'секунд';
                    special24 = 'секунды';
                } else if (type === 'minutes') {
                    singular  = 'минуту';
                    plural    = 'минут';
                    special24 = 'минуты';
                } else if (type === 'hours') {
                    singular  = 'час';
                    plural    = 'часов';
                    special24 = 'часа';
                } else if (type === 'days') {
                    singular  = 'день';
                    plural    = 'дней';
                    special24 = 'дня';
                }
            } else {
                if (type === 'seconds') {
                    singular = 'second';
                    plural   = 'seconds';
                } else if (type === 'minutes') {
                    singular = 'minute';
                    plural   = 'minutes';
                } else if (type === 'hours') {
                    singular = 'hour';
                    plural   = 'hours';
                } else if (type === 'days') {
                    singular = 'day';
                    plural   = 'days';
                }
            }

            if (value === 1) {
                if (vis.language === 'de') {
                    if (type === 'days') {
                        return 'einem ' + singular;
                    } else {
                        return 'einer ' + singular;
                    }
                } else if (vis.language === 'ru') {
                    if (type === 'days' || type === 'hours') {
                        return 'один ' + singular;
                    } else {
                        return 'одну ' + singular;
                    }
                } else {
                    return 'one ' + singular;
                }
            } else {
                if (vis.language === 'de') {
                    return value + ' ' + plural;
                } else if (vis.language === 'ru') {
                    var d = value % 10;
                    if (d === 1 && value !== 11) {
                        return value + ' ' + singular;
                    } else
                    if (d >= 2 && d <= 4 && (value > 20 || value < 10)) {
                        return value + ' ' + special24;
                    } else {
                        return value + ' ' + plural;
                    }
                } else {
                    return value + ' ' + plural;
                }
            }
        },
        formatInterval: function (timestamp, isMomentJs) {
            if (isMomentJs && typeof moment !== 'undefined') {
                return moment(new Date(timestamp)).fromNow();
            }
            var diff = new Date().getTime() - timestamp;
            diff = Math.round(diff / 1000);
            var text;
            if (diff <= 60) {
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(diff, 'seconds');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(diff, 'seconds') + ' назад';
                } else {
                    text = vis.binds.basic.formatIntervalHelper(diff, 'seconds') + ' ago';
                }
            } else if (diff < 3600) {
                var m = Math.floor(diff / 60);
                var s = diff - m * 60;
                text = '';
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(m, 'minutes');
                } else {
                    text = vis.binds.basic.formatIntervalHelper(m, 'minutes');
                }

                if (m < 5) {
                    // add seconds
                    if (vis.language === 'de') {
                        text += ' und ' + vis.binds.basic.formatIntervalHelper(s, 'seconds');
                    } else if (vis.language === 'ru') {
                        text += ' и ' + vis.binds.basic.formatIntervalHelper(s, 'seconds');
                    } else {
                        text += ' and ' + vis.binds.basic.formatIntervalHelper(s, 'seconds');
                    }
                }

                if (vis.language === 'de') {
                    // nothing
                } else if (vis.language === 'ru') {
                    text += ' назад';
                } else {
                    text += ' ago';
                }
            } else if (diff < 3600 * 24) {
                var h = Math.floor(diff / 3600);
                var m = Math.floor((diff - h * 3600) / 60);
                text = '';
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(h, 'hours');
                } else {
                    text = vis.binds.basic.formatIntervalHelper(h, 'hours');
                }

                if (h < 10) {
                    // add seconds
                    if (vis.language === 'de') {
                        text += ' und ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                    } else if (vis.language === 'ru') {
                        text += ' и ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                    } else {
                        text += ' and ' + vis.binds.basic.formatIntervalHelper(m, 'minutes');
                    }
                }

                if (vis.language === 'de') {
                    // nothing
                } else if (vis.language === 'ru') {
                    text += ' назад';
                } else {
                    text += ' ago';
                }
            } else {
                var d = Math.floor(diff / (3600 * 24));
                var h = Math.floor((diff - d * (3600 * 24)) / 3600);
                text = '';
                if (vis.language === 'de') {
                    text = 'vor ' + vis.binds.basic.formatIntervalHelper(d, 'days');
                } else if (vis.language === 'ru') {
                    text = vis.binds.basic.formatIntervalHelper(d, 'days');
                } else {
                    text = vis.binds.basic.formatIntervalHelper(d, 'days');
                }

                if (d < 3) {
                    // add seconds
                    if (vis.language === 'de') {
                        text += ' und ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                    } else if (vis.language === 'ru') {
                        text += ' и ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                    } else {
                        text += ' and ' + vis.binds.basic.formatIntervalHelper(h, 'hours');
                    }
                }

                if (vis.language === 'de') {
                    // nothing
                } else if (vis.language === 'ru') {
                    text += ' назад';
                } else {
                    text += ' ago';
                }
            }
            return text;
        },
        startUpdateInterval: function () {
            if (vis.binds.basic.updateInterval) return;
            vis.binds.basic.updateInterval = setInterval(function () {
                $('.time-interval').each(function () {
                    $(this).html(vis.binds.basic.formatInterval($(this).data('time'), $(this).data('moment')))
                });
            }, 15000);
        },
        formatDate: function (dateObj, format, interval, isMomentJs) {
            if (typeof format === 'boolean') {
                interval = format;
                format = 'auto';
            }

            if (format === 'auto') format = (vis.dateFormat || 'DD.MM.YYYY') + ' hh:mm:ss';

            format = format || vis.dateFormat || 'DD.MM.YYYY';

            if (!dateObj) return '';
            var text = typeof dateObj;
            if (text === 'string') {
		dateObj = new Date(dateObj);
            }
            if (text !== 'object') {
                var i = parseInt(dateObj, 10);
                if (i == dateObj) {
                    i = dateObj;
                    // if greater than 2000.01.01 00:00:00
                    if (i > 946681200000) {
                        dateObj = new Date(dateObj);
                    } else {
                        dateObj = new Date(dateObj * 1000);
                    }
                } else {
                    dateObj = new Date(dateObj);
                }
            }
            if (interval) {
                vis.binds.basic.startUpdateInterval();
                return '<span class="time-interval" data-time="' + dateObj.getTime() + '" data-moment="' + (isMomentJs || false) + '">' + vis.binds.basic.formatInterval(dateObj.getTime(), isMomentJs) + '</span>';
            }

            var v;

            // Year
            if (format.indexOf('YYYY') !== -1 || format.indexOf('JJJJ') !== -1 || format.indexOf('ГГГГ') !== -1) {
                v = dateObj.getFullYear();
                format = format.replace('YYYY', v);
                format = format.replace('JJJJ', v);
                format = format.replace('ГГГГ', v);
            } else if (format.indexOf('YY') !== -1 || format.indexOf('JJ') !== -1 || format.indexOf('ГГ') !== -1) {
                v = dateObj.getFullYear() % 100;
                format = format.replace('YY', v);
                format = format.replace('JJ', v);
                format = format.replace('ГГ', v);
            }
            // Month
            if (format.indexOf('MM') !== -1 || format.indexOf('ММ') !== -1) {
                v =  dateObj.getMonth() + 1;
                if (v < 10) v = '0' + v;
                format = format.replace('MM', v);
                format = format.replace('ММ', v);
            } else if (format.indexOf('M') !== -1 || format.indexOf('М') !== -1) {
                v =  dateObj.getMonth() + 1;
                format = format.replace('M', v);
                format = format.replace('М', v);
            }

            // Day
            if (format.indexOf('DD') !== -1 || format.indexOf('TT') !== -1 || format.indexOf('ДД') !== -1) {
                v =  dateObj.getDate();
                if (v < 10) v = '0' + v;
                format = format.replace('DD', v);
                format = format.replace('TT', v);
                format = format.replace('ДД', v);
            } else if (format.indexOf('D') !== -1 || format.indexOf('TT') !== -1 || format.indexOf('Д') !== -1) {
                v =  dateObj.getDate();
                format = format.replace('D', v);
                format = format.replace('T', v);
                format = format.replace('Д', v);
            }

            // hours
            if (format.indexOf('hh') !== -1 || format.indexOf('SS') !== -1 || format.indexOf('чч') !== -1) {
                v =  dateObj.getHours();
                if (v < 10) v = '0' + v;
                format = format.replace('hh', v);
                format = format.replace('SS', v);
                format = format.replace('чч', v);
            } else if (format.indexOf('h') !== -1 || format.indexOf('S') !== -1 || format.indexOf('ч') !== -1) {
                v =  dateObj.getHours();
                format = format.replace('h', v);
                format = format.replace('S', v);
                format = format.replace('ч', v);
            }

            // minutes
            if (format.indexOf('mm') !== -1 || format.indexOf('мм') !== -1) {
                v =  dateObj.getMinutes();
                if (v < 10) v = '0' + v;
                format = format.replace('mm', v);
                format = format.replace('мм', v);
            } else if (format.indexOf('m') !== -1 ||  format.indexOf('м') !== -1) {
                v =  dateObj.getMinutes();
                format = format.replace('m', v);
                format = format.replace('v', v);
            }

            // milliseconds
            if (format.indexOf('sss') !== -1 || format.indexOf('ссс') !== -1) {
                v =  dateObj.getMilliseconds();
                if (v < 10) {
                    v = '00' + v;
                } else if (v < 100) {
                    v = '0' + v;
                }
                format = format.replace('sss', v);
                format = format.replace('ссс', v);
            }

            // seconds
            if (format.indexOf('ss') !== -1 || format.indexOf('сс') !== -1) {
                v =  dateObj.getSeconds();
                if (v < 10) v = '0' + v;
                format = format.replace('ss', v);
                format = format.replace('cc', v);
            } else if (format.indexOf('s') !== -1 || format.indexOf('с') !== -1) {
                v =  dateObj.getHours();
                format = format.replace('s', v);
                format = format.replace('с', v);
            }

            return format;
        },
        detectScreen: function (wid) {
            if (vis.navChangeCallbacks.indexOf(vis.binds.basic.detectScreen) === -1) {
                vis.navChangeCallbacks.push(vis.binds.basic.detectScreen);
            }

            function onResize () {
                if (vis.editMode) {
                    $('.vis-resolution-width').html(vis.views[vis.activeView].settings.sizex  || $(window).width());
                    $('.vis-resolution-height').html(vis.views[vis.activeView].settings.sizey || $(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution(vis.views[vis.activeView].settings.sizex || $(window).width(), vis.views[vis.activeView].settings.sizey || $(window).height()));
                } else {
                    $('.vis-resolution-width').html($(window).width());
                    $('.vis-resolution-height').html($(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution());
                }
            }

            setTimeout(function () {
                $(window).bind('resize', onResize);
                if (vis.editMode) {
                    $('.vis-resolution-width').html(vis.views[vis.activeView].settings.sizex  || $(window).width());
                    $('.vis-resolution-height').html(vis.views[vis.activeView].settings.sizey || $(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution(vis.views[vis.activeView].settings.sizex || $(window).width(), vis.views[vis.activeView].settings.sizey || $(window).height()));
                } else {
                    $('.vis-resolution-width').html($(window).width());
                    $('.vis-resolution-height').html($(window).height());
                    $('.vis-resolution-default-view').html(vis.findNearestResolution());
                }
            }, 100);

            if (vis.editMode) {
                $('#' + wid).data('destroy', function () {
                    $(window).unbind('resize', onResize);
                });
            }
        },
        createScreenText: function () {
            setTimeout(function () {
                $('.basic-click-create-instance').unbind('click').click(function () {
                    if (!vis.instance) {
                        vis.generateInstance();
                        if (vis.instance) {
                            $(this).html(vis.instance).removeClass('basic-click-create-instance').css({
                                'font-weight': 'inherit',
                                cursor: 'inherit'
                            });
                        } else {
                            window.alert('Cannot generate!');
                        }
                    }
                });
            }, 500);
            return '<span class="basic-click-create-instance" style="font-weight: bold; cursor: pointer">' + _('click to create') + '</span>';
        },
        isFalse: function (val, min, max) {
            if (min !== undefined && min !== null && min !== '') {
                if (val === 'true') {
                    val = true;
                }
                if (val === 'false') {
                    val = false;
                }
                if (max !== undefined && max !== null && max !== '') {
                    if (max === 'false') {
                        max = false;
                    }
                    if (max === 'true') {
                        max = true;
                    }
                    return val != max;
                } else {
                    if (min === 'false') {
                        min = false;
                    }
                    if (min === 'true') {
                        min = true;
                    }
                    return val == min;
                }
            }
            if (val === undefined || val === null || val === false || val === 'false' || val === 'FALSE' || val === 'False' || val === 'OFF' || val === 'Off' || val === 'off' || val === '') return true;
            if (val === '0' || val === 0) return true;
            var f = parseFloat(val);
            if (f.toString() !== 'NaN') return !f;
            return false;
        },
        circlePoints: function (radius, num, step) {
            var isArray = false;
            if (step === true) {
                isArray = true;
                step = 0;
            }
            step = step || 360 / num;
            var points = [];
            var text = '';
            for (var i = 0; i < num; i++) {
                var point = {x:Math.sin(Math.PI / 180 * (i * step - 180)) * radius, y:Math.cos(Math.PI / 180 * (i * step - 180)) * radius};
                points.push(point);
                text += point.x + ', ' + point.y + ' ';
            }
            if (isArray) return points;
            return text;
        },
        createValueGesture: function (widgetID, view, data, style) {
            var $div = $('#' + widgetID);
            // if nothing found => wait
            if (!$div.length) {
                return setTimeout(function () {
                    vis.binds.basic.createValueGesture(widgetID, view, data, style);
                }, 100);
            }
            var $content = $('#' + widgetID + ' .vis-widget-body');
            function refresh(val, x, y) {
                var text;
                if (val === null){
                    $div.hide();
                    return;
                }
                text = data.html_prepend || '';
                text += vis.binds.basic.formatFloat(data,val);
                text += parseFloat(vis.binds.basic.formatFloat(data,val)) === 1 ? data.html_append_singular || '' : data.html_append_plural || '';
                $content.html(text);
                $div.css({left: parseInt(x)  -$div.width() / 2 + 'px', top: parseInt(y) - $div.height() / 2 + 'px'}).show();
            }
            if (vis.editMode){
                refresh(data.test_html || 0, $div.position().left + $div.width() / 2, $div.position().top + $div.height() / 2);
            } else {
                refresh(null, 0, 0);
            }

            // subscribe top value updates
            $div.on('gestureUpdate', function(event, evData){
                refresh(evData.val, evData.x, evData.y);
            });
        },
        speech2text: function (wid, view, data, style) {
            var $div = $('#' + wid);
            // if nothing found => wait
            if (!$div.length) {
                return setTimeout(function () {
                    vis.binds.basic.speech2text(wid, view, data, style);
                }, 100);
            }

            if (typeof webkitSpeechRecognition === 'undefined') {
                console.error('Browser does not support speech 2 text');
                $div.find('.mic-info-text').html(_('info_upgrade'));
                return;
            }

            var _data ={
                continuous:     data.speechMode === 'continuous' || data.speechMode === 'startstop',
                speechMode:     data.speechMode,
                oid:            data.oid,
                language:       data.language,
                finalTranscript: '',
                lastText:       '',
                recognition:    null,
                ignoreOnEnd:    false,
                timer:          null,
                words:          data.keywords ? data.keywords.toLowerCase().split(/[\s,;]+/g) : null,
                textSentColor:  data.textSentColor,
                keyWordColor:   data.keyWordColor,
                imageInactive:  data.imageInactive,
                imageActive:    data.imageActive    || data.imageInactive,
                imageStarted:   data.imageStarted   || data.imageInactive,
                imageDetected:  data.imageDetected  || data.imageInactive,
                imageSent:      data.imageSent      || data.imageInactive,
                $text:          $div.find('.mic-info-text'),
                $result:        $div.find('.mic-results'),
                $image:         $div.find('.mic-image')
            };
            data = null;

            function findKeyWord(text) {
                var found = false;
                if (_data.words) {
                    found = false;
                    var wwords = text.toLowerCase().split(' ');
                    for (var w = 0; w < _data.words.length; w++) {
                        var pos = wwords.indexOf(_data.words[w]);
                        if (pos !== -1) {
                            var offset = 0;
                            for (var p = 0; p < pos; p++) {
                                offset += wwords[p].length + 1;
                            }
                            text = text.substring(0, offset) + '<b>' + text.substring(offset, offset + wwords[pos].length) + '</b>' + text.substring(offset + wwords[pos].length);
                            found = true;
                            break;
                        }
                    }
                } else {
                    return true;
                }
                return found ? text : false;
            }

            function startRecognition() {
                if (_data.recognition) {
                    if (_data.speechMode === 'startstop') {
                        _data.recognition.onend = null;
                        _data.recognition.stop();
                        _data.recognition = null;
                        _data.$text.html(_('info_start')).show();
                        _data.$image.attr('src', _data.imageInactive);
                        _data.$result.hide();
                    }
                    return;
                }

                _data.recognition                 = new webkitSpeechRecognition();
                _data.recognition.continuous      = _data.continuous;
                _data.recognition.interimResults  = true;
                _data.recognition.maxAlternatives = 1;
                var startTimestamp = new Date();


                _data.recognition.onstart = function() {
                    _data.$text.html(_('info_speak_now')).show();
                    _data.$image.attr('src', _data.imageActive);
                    _data.$result.hide();
                };

                _data.recognition.onerror  = function(event) {
                    _data.$result.hide();
                    _data.$text.show();
                    _data.$image.attr('src', _data.imageInactive);
                    if (event.error === 'no-speech') {
                        _data.$text.html(_('info_no_speech'));
                        //_data.ignoreOnEnd = true;
                    }
                    if (event.error === 'audio-capture') {
                        _data.$text.html(_('info_no_microphone'));
                        _data.ignoreOnEnd = true;
                    }
                    if (event.error === 'not-allowed') {
                        if (event.timeStamp - startTimestamp < 100) {
                            _data.$text.html(_('info_blocked'));
                        } else {
                            _data.$text.html(_('info_denied'));
                        }
                        _data.ignoreOnEnd = true;
                    }
                };

                _data.recognition.onend    = function() {
                    // console.log('onend');
                    _data.recognition.stop();
                    _data.recognition = null;
                    if (!_data.ignoreOnEnd) {
                        setTimeout(function () {
                            _data.$image.attr('src', _data.imageInactive);
                            if (_data.continuous) {
                                _data.$result.hide();
                                _data.$text.html(_('info_speak_now')).show();
                                startRecognition();
                            } else {
                                _data.$result.hide();
                                _data.$text.html(_('info_start')).show();
                            }
                        }, 1000);
                    }
                };

                _data.recognition.onresult = function(event) {
                    var interimTranscript = '';

                    if (typeof event.results === 'undefined') {
                        _data.recognition.onend = null;
                        _data.recognition.stop();
                        return;
                    }

                    for (var i = event.resultIndex; i < event.results.length; ++i) {
                        if (event.results[i].isFinal) {
                            _data.finalTranscript += event.results[i][0].transcript;
                        } else {
                            interimTranscript += event.results[i][0].transcript;
                        }
                    }

                    if (_data.$image.attr('src') === _data.imageActive) _data.$image.attr('src', _data.imageStarted);

                    //final_transcript = capitalize(final_transcript);
                    _data.$text.hide();
                    var text = _data.finalTranscript || interimTranscript;
                    var found = findKeyWord(text);

                    if (!_data.originalColor) _data.originalColor = _data.$result.css('color');

                    if (found) {
                        text = found;
                        if (_data.$image.attr('src') === _data.imageStarted) _data.$image.attr('src', _data.imageDetected);
                        _data.$result.addClass('mic-keyword-found');
                        if (_data.keyWordColor) _data.$result.css({color: _data.keyWordColor});
                    }

                    _data.$result.html(text).show();

                    if (_data.finalTranscript) {
                        if (_data.timer) clearTimeout(_data.timer);

                        if (found) {
                            _data.$image.attr('src', _data.imageSent);
                            if (_data.textSentColor) _data.$result.css({color: _data.textSentColor});
                            _data.$result.addClass('mic-text-sent');
                            vis.setValue(_data.oid, _data.finalTranscript);
                        }

                        _data.finalTranscript = '';
                        _data.lastText = '';

                        setTimeout(function () {
                            _data.$image.attr('src', _data.imageActive);
                            _data.$result.css({color: _data.originalColor});
                            _data.$result.hide().removeClass('mic-keyword-found mic-text-sent');
                            _data.$text.html(_('info_speak_now')).show();
                        }, 1000);
                    } else {
                        _data.lastText = interimTranscript;

                        if (_data.timer) clearTimeout(_data.timer);
                        _data.timer = setTimeout(function () {
                            _data.timer = null;
                            _data.recognition.onend = null;
                            _data.recognition.stop();
                            _data.recognition = null;

                            var found = findKeyWord(_data.lastText);
                            if (found) {
                                _data.$image.attr('src', _data.imageSent);
                                if (_data.textSentColor) _data.$result.css({color: _data.textSentColor});
                                _data.$result.addClass('mic-text-sent');
                                vis.setValue(_data.oid, _data.finalTranscript);
                            }

                            _data.finalTranscript = '';
                            _data.lastText = '';

                            setTimeout(function () {
                                _data.$image.attr('src', _data.imageActive);
                                _data.$result.css({color: _data.originalColor});
                                _data.$result.hide().removeClass('mic-keyword-found mic-text-sent');
                                _data.$text.html(_('info_speak_now')).show();
                                startRecognition();
                            }, 1000);
                        }, 3000);
                    }
                };

                _data.recognition.lang     = _data.language;

                _data.recognition.start();
            }

            if (_data.speechMode === 'continuous') {
                if (!vis.editMode) {
                    startRecognition();
                } else {
                    $div.find('.mic-info-text').html(_('info_start'));
                }
            } else {
                $div.find('.mic-info-text').html(_('info_start'));
                if (!vis.editMode) {
                    $div.click(function () {
                        startRecognition();
                    });
                }
            }
        },
        getTimeInterval: function (oldTime, hoursToShow) {
            var result = '';

            var newTime = new Date ();

            if (!oldTime) return '';
            if (typeof oldTime === 'string') {
                oldTime = new Date(oldTime);
            } else {// 2000.01.01 00:00:00 = 946681200000
                if (typeof oldTime === 'number') oldTime = oldTime > 946681200000 ? new Date(oldTime) : new Date(oldTime * 1000);
            }

            var seconds = (newTime.getTime() - oldTime.getTime()) / 1000;

            if (hoursToShow && (seconds / 3600) > hoursToShow) return '';

            if (seconds < 60) {
                result = _('just&nbsp;now');
            } else
            if (seconds <= 3600)
                result = _('for&nbsp;%s&nbsp;min.', Math.floor (seconds / 60));
            else
            if (seconds <= 3600 * 24)
                result = _('for&nbsp;%s&nbsp;hr.&nbsp;and&nbsp;%s&nbsp;min.', Math.floor (seconds / 3600), (Math.floor (seconds / 60) % 60));
            else
            if (seconds > 3600 * 24 && seconds <= 3600 * 48)
                result = _('yesterday');
            else
            if (seconds > 3600*48) {
                result = _('for&nbsp;%s&nbsp;hours', Math.floor (seconds / 3600));
            }

            return result;
        },
        logout: function (el, data) {
            if (vis.editMode) return;
            var $el = $(el);
            $el.data('redirect', data.redirect_url);
            $el.data('app', data.in_app_close);

            $el.click(function () {
                if ($(this).data('app')) {
                    if (typeof logout === 'function') {
                        logout();
                    } else {
                        vis.showMessage(_('This option works only in APP'));
                    }
                } else if ($(this).data('redirect')) {
                    var redirect = $(this).data('redirect');
                    vis.conn.logout(function() {
                        window.location = redirect;
                    });
                } else {
                    vis.conn.logout(function(){
                        window.location.reload();
                    });
                }
            });
        },
        toggleFullScreen: function (wid, view, data, style) {
            var $div = $('#' + wid);

            var id = $div.attr('id');
            if (id && id.match(/_removed$/)) return;

            // if nothing found => wait
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.basic.toggleFullScreen(wid, view, data, style);
                }, 100);
                return;
            }

            var svgOn  = '<svg viewBox="0 0 24 24" style="display: inline-block; color: rgba(0, 0, 0, 0.87); fill: currentcolor; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg>';
            var svgOff = '<svg viewBox="0 0 24 24" style="display: inline-block; color: rgba(0, 0, 0, 0.87); fill: currentcolor; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"></path></svg>';

            if (!vis.editMode) {
                $div.unbind('click').click(function () {
                    if (vis.binds.basic.isFullScreen) {
                        vis.binds.basic.isFullScreen = false;
                        if (document.exitFullscreen) {
                            document.exitFullscreen();
                        } else if (document.mozCancelFullScreen) {
                            document.mozCancelFullScreen();
                        } else if (document.webkitExitFullscreen) {
                            document.webkitExitFullscreen();
                        }
                        $('#' + wid).find('.vis-fullscreen-icon').html(svgOn);
                    } else {
                        vis.binds.basic.isFullScreen = true;
                        var element = $('#vis_container')[0];
                        if (element.requestFullscreen) {
                            element.requestFullscreen();
                        } else if (element.mozRequestFullScreen) {
                            element.mozRequestFullScreen();
                        } else if (element.webkitRequestFullscreen) {
                            element.webkitRequestFullscreen();
                        } else if (element.msRequestFullscreen) {
                            element.msRequestFullscreen();
                        }
                        $('#' + wid).find('.vis-fullscreen-icon').html(svgOff);
                    }
                });
            }

            $div.find('.vis-fullscreen-icon').html(svgOn);
        }
    };

    $(document).mouseup(function () {
        if (vis.binds.basic.pressed) {
            clearInterval(vis.binds.basic.pressed);
            vis.binds.basic.pressed = null;
        }
    });

    if (vis.editMode) {
        vis.binds.basic.onOrientation = function (widgetID, view, newId, attr, isCss) {
            var data  = vis.views[view].widgets[widgetID].data;
            var style = vis.views[view].widgets[widgetID].style;
            var h = parseInt(style.height, 10);
            var w = parseInt(style.width, 10);

            if (data[attr] === 'vertical') {
                if (h < w) {
                    var t = style.height;
                    style.height = style.width;
                    style.width = t;
                    setTimeout(function () {
                        vis.showWidgetHelper(widgetID, true);
                    }, 0);
                    return ['width', 'height'];
                }
            } else {
                if (w < h) {
                    var t = style.height;
                    style.height = style.width;
                    style.width = t;
                    setTimeout(function () {
                        vis.showWidgetHelper(widgetID, true);
                    }, 0);
                    return ['width', 'height'];
                }
            }
        };
        vis.binds.basic.onAttrChanged = function (widgetID, view, newId, attr, isCss) {
            if (vis.binds.basic.groupTimer) clearTimeout(vis.binds.basic.groupTimer);
            vis.binds.basic.groupTimer = setTimeout(function () {
                vis.inspectWidgets(vis.activeViewDiv, vis.activeView, this.activeWidgets);
            }, 2000);
        };
    }
</script>

<!-- Basic Widgets -->


<script id="tplHtml" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="static" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_HTML.png&quot;&gt;&lt;/img&gt;" data-vis-prev1="&lt;div id=&quot;prev_tplFrame&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 80px; height: 80px; border: 3px solid rgb(73, 185, 255); border-radius: 20px;&quot;&gt;&lt;div style=&quot;top: 30px; color: rgb(73, 185, 255); font-size: 20px; text-align: center; padding-top: 32px;&quot;&gt;HTML&lt;/div&gt;&lt;/div&gt;" data-vis-name="HTML" data-vis-attrs="html/text;refreshInterval[0]/slider,0,180000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.basic.htmlRefresh(el, this.data.attr('html'), data.attr("refreshInterval")) %>>
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<script id="tplShapes" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="static" data-vis-name="Svg shape" data-vis-prev="&lt;div id=&quot;prev_tplShapes&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 90px; height: 90px; left: 502px; top: 174px; position: absolute;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 100 100&quot; style=&quot;display: block;width: 100%;height: 100%;fill: rgb(255, 255, 255);stroke: rgb(60, 152, 211); stroke-width: 4px;&quot;&gt; &lt;circle cx=&quot;50&quot; cy=&quot;50&quot; r=&quot;47&quot;&gt;&lt;/circle&gt;&lt;/svg&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="svgType[circle]/select,line,triangle,square,pentagone,hexagone,octagone,circle,star,arrow;strokeColor[#009cb3]/color;fill[#00b3ac]/color;strokeWidth[5]/slider,0,100,1;rotate/slider,0,360,1;scaleWidth[1]/slider,0,1,0.1;scaleHeight[1]/slider,0,1,0.1">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewbox="-50 -50 100 100" style="display: block;width:100%; height:100%;fill:<%== this.data.attr('fill') %>;stroke:<%== this.data.attr('strokeColor')%>;stroke-width: <%== this.data.attr('strokeWidth') %>">
                <%
                var svg = '';
                var rotate      = parseFloat(this.data.attr('rotate')) || 0;
                var scaleWidth  = parseFloat(this.data.attr('scaleWidth')) || 1;
                var scaleHeight = parseFloat(this.data.attr('scaleHeight')) || 1;
                var strokeWidth = parseInt(this.data.attr('strokeWidth'), 10) || 0;

                if (this.data.svgType === 'triangle') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 3) + '"/>';
                } else if (this.data.svgType === 'line') {
                    svg = '<line  vector-effect="non-scaling-stroke"  transform="rotate(' + rotate + ')" x1="-50" y1="0" x2="50" y2="0"/>';
                } else if (this.data.svgType === 'circle') {
                    svg = '<circle transform="scale(' + scaleWidth + ', ' + scaleHeight + ') rotate(' + rotate + ')" cx="0" cy="0" r="' + (50 - parseInt(strokeWidth, 10) / 2) + '" />';
                } else if (this.data.svgType === 'pentagone') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 5) + '"/>';
                } else if (this.data.svgType === 'square') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 4) + '"/>';
                } else if (this.data.svgType === 'hexagone') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 6) + '"/>';
                } else if (this.data.svgType === 'octagone') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 8) + '"/>';
                } else if (this.data.svgType === 'star') {
                    svg = '<polygon transform="rotate(' + rotate + ')  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="' + vis.binds.basic.circlePoints(50 - strokeWidth, 5, 144) + '"/>';
                } else if (this.data.svgType === 'arrow') {
                    var points = vis.binds.basic.circlePoints(50 - strokeWidth * 4, 3, true);
                    var text = '';
                    for (var p = 0; p < points.length; p++) {
                        text += points.x + ',' + points.y;
                        if (points.length === p - 2) {
                            text += '0,0';
                        }
                    }
                    svg = '<polygon transform="rotate(' + rotate + ') translate(0,10)  scale(' + scaleWidth + ', ' + scaleHeight + ') " ' +
                        'points="0, -50 -43.3, 25 0,0 43.3, 25"/>';
                }
                %>
                <%== svg %>
                </g>
            </svg>
        </div>
    </div>
</script>

<script id="tplIFrame" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="static" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_iFrame.png&quot;&gt;&lt;/img&gt;" data-vis-name="iFrame" data-vis-attrs="src;refreshInterval[0]/slider,0,180000,100;noSandbox/checkbox;refreshOnWakeUp/checkbox;refreshOnViewChange/checkbox;refreshWithNoQuery/checkbox;scrollX/checkbox;scrollY/checkbox;seamless[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 600px; height: 320px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
            <div class="editmode-helper" />
            <% } %>
            <iframe src="<%= this.data.attr('src') %>" <%= this.data.attr('noSandbox') ? '' : 'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"' %> style="position: absolute; border: 0; padding: 0; margin: 0; width: 100%; height: 100%;<%= this.data.attr('scrollX') == true ? 'overflow-x: scroll;' : 'overflow-x: hidden;' %><%= this.data.attr('scrollY') == true ? 'overflow-y: scroll;' : 'overflow-y: hidden;' %>" <%= this.data.attr('seamless') == true ? 'seamless' : '' %>></iframe>
            <div <%= (el) -> vis.binds.basic.iframeRefresh(el, data, this.view) %>></div>
        </div>
    </div>
</script>

<script id="tplImage" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="static" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_Image.png&quot;&gt;&lt;/img&gt;" data-vis-name="Image" data-vis-attrs="src/image;stretch/checkbox;refreshInterval[0]/slider,0,180000,100;" data-vis-attrs0="refreshOnWakeUp/checkbox;refreshOnViewChange/checkbox;refreshWithNoQuery/checkbox;allowUserInteractions/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <img class="<%= this.data.attr('stretch') ? 'vis-image' : '' %> <%= this.data.attr('allowUserInteractions') ? '' : 'vis-no-user-select vis-no-pointer-events' %>" style="top:0; left: 0; position: absolute; width: 100%; <%= this.data.attr('stretch') ? 'height: 100%;' : '' %>" <%= this.data.attr('src') ? 'src="' + this.data.attr('src') + '"' : '' %> />
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, data, this.view) %> />
        </div>
    </div>
</script>

<script id="tplLink" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_tplLink.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="static" data-vis-name="link" data-vis-attrs="html;href;target/auto,,_blank,_self,_parent,_top;alt">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; " id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <a href="<%== this.data.attr('href') %>" target="<%== this.data.attr("target") %>" alt="<%== this.data.attr("alt") %>" style="text-decoration:none;width:100%;height:100%"><div style="width:100%;height:100%"><%== this.data.attr("html") %></div></a>
        </div>
    </div>
</script>

<script id="tplFrame" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFrame&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 80px; height: 80px; border: 3px dashed rgb(60, 152, 211); border-radius: 20px;&quot;&gt;&lt;div style=&quot;top: 30px; color: rgb(60, 152, 211); font-size: 16px; text-align: center; padding-top: 31px;&quot;&gt;BORDER&lt;/div&gt;&lt;/div&gt;" data-vis-set="basic" data-vis-type="static" data-vis-name="Border" data-vis-attrs="title[&#39;Title&#39;];title_font;title_color[black]/color;title_back/color;title_top[-10]/slider,-20,20,1;title_left[15]/slider,-20,30,1;header_height[0]/slider,0,100,1;header_color[black]/color">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible;width:50px;height:50px;border:1px solid #888" id="<%= this.data.attr('wid') %>" >
        <% if (this.data.attr('header_height')) { %>
	    <div style="width:100%;height:<%= this.data.attr('header_height') %>px;background-color:<%= this.data.attr('header_color') %>">
		<% } %>
        <div style="position: absolute;top:<%= this.data.attr('title_top') %>px;left:<%= this.data.attr('title_left') %>px;color:<%== this.data.attr('title_color') %>;background:<%== this.data.attr('title_back') %>;font:<%== this.data.attr('title_font') %>"><%== this.data.attr('title') %></div>
        <% if (this.data.attr('header_height')) { %>
        </div>
		<% } %>
    </div>
</script>

<script id="tplStatefulIFrame8" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_StatefulIFrame8.png&quot;&gt;&lt;/img&gt;" data-vis-type="stateful" data-vis-name="iFrame 8" data-vis-attrs="oid;refreshInterval[0]/slider,0,180000,100;count[1]/number;group.frames;src_(0-count);noSandbox/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 600px; height: 320px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper"/>
        <% } %>
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper"/>
            <% } %>
            <%
                var srcArr = [];
                var i = 0;
                while(data.attr('src_' + i) !== undefined) {
                    srcArr.push(data.attr('src_' + i));
                    i++;
                }
            %>
            <iframe class="vis-widget-element" <%= this.data.attr('noSandbox') ? '' : 'sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts"' %> data-oid="<%= this.data.attr('oid') %>" src="<%== vis.binds.stateful.value(srcArr, data.attr('oid')) %>" style="position: absolute; border: 0; padding: 0; margin: 0; width: 100%; height: 100%;"></iframe>
            <div <%= (el) -> vis.binds.stateful.iframe(el, srcArr, data.attr('refreshInterval')) %> />
        </div>
    </div>
</script>

<!-- basic Container -->
<script id="tplContainerView" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ContainerView.png&quot;&gt;&lt;/img&gt;" data-vis-type="container" data-vis-name="view in widget" data-vis-attrs="contains_view/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper"></div>
        <% } %>
        <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container">
        </div>
    </div>
</script>

<!-- Stateful Widgets -->
<script id="tplStatefulContainerView8" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_StatefulContainerView8.png&quot;&gt;&lt;/img&gt;" data-vis-type="stateful,container" data-vis-name="view in widget 8" data-vis-attrs="oid;persistent/checkbox;notIfInvisible/checkbox;count[1]/number;group.views;contains_view_(0-count)/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:400px; height: 270px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper" />
        <% } %>
        <%
            var viewArr = [];
            var i = 0;
            while (data.attr('contains_view_' + i) !== undefined) {
                viewArr.push(data.attr('contains_view_' + i));
                i++;
            }
        %>
        <div class="vis-widget-body">
            <div class="vis-view-container" data-oid="<%= data.attr('oid') %>" data-vis-contains="<%= vis.binds.stateful.value(viewArr, data.attr('oid')) %>" <%= (el) -> vis.binds.stateful.view(el, viewArr, data.attr('persistent'), data.attr('notIfInvisible')) %> />
        </div>
    </div>
</script>

<!-- TODO
<script type="text/ejs" id="tplStatefulIFrame8Persistent" class="vis-tpl" data-vis-set="basic" data-vis-name="stateful - iFrame 8 (persistent)" data-vis-attrs="oid;refreshInterval;src_(0-1)">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 600px; height: 320px;" id="<%= this.data.attr('wid') %>">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
          <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_0') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_1') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_2') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_3') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_4') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_5') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_6') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <iframe class="vis-widget-element" src="<%= this.data.attr('src_7') %>" style="position: absolute; border:0; padding:0; margin:0; width: 100%; height:100%;"></iframe>
            <div <%= (el) -> vis.binds.stateful.iframe(el, [data.attr("src_0"), data.attr("src_1"), data.attr("src_2"), data.attr("src_3"), data.attr("src_4"), data.attr("src_5"), data.attr("src_6"), data.attr("src_7"]), data.attr("refreshInterval")) %> />
        </div>
    </div>
</script>
-->

<script id="tplStatefulImage8" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_StatefulImage.png&quot;&gt;&lt;/img&gt;" data-vis-type="stateful" data-vis-name="Image 8" data-vis-attrs="oid;refreshInterval[0]/slider,0,180000,100;count[1]/number;group.images;src_(0-count)/image">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
            <div class="editmode-helper" />
        <% } %>
        <div class="vis-widget-body">
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <%
                var srcArr = [];
                var i = 0;
                while(data.attr("src_" + i) !== undefined) {
                    srcArr.push(this.data.attr("src_" + i));
                    i++;
                }
            %>
            <img class="vis-widget-element" data-oid="<%= this.data.attr('oid') %>" style="position:absolute; width:100%;" src="<%== vis.binds.stateful.value(srcArr, this.data.attr('oid')) %>" />
            <div <%= (el) -> vis.binds.stateful.image(el, srcArr, data.attr('refreshInterval')) %> />
        </div>
    </div>
</script>

<script id="tplHtmlNav" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="static,navigation" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_HTMLnavigation.png&quot;&gt;&lt;/img&gt;" data-vis-name="HTML navigation" data-vis-attrs="html;nav_view;sync/checkbox;body-background/color;group.effects;hide_effect/effect;hide_duration/slider,0,10000,100;hide_options/effect-options;show_effect/effect;show_duration/slider,0,10000,100;show_options/effect-options">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; " id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.basic.navigation(el, {nav_view: data.attr('nav_view'), hideOptions: {effect: data.attr('hide_effect'), options: (data.attr('hide_options') ? data.attr('hide_options') : {}),duration:data.attr('hide_duration')}, showOptions: {effect:data.attr('show_effect'), options: (data.attr('show_options') ? data.attr('show_options') : {}), duration: data.attr('show_duration')}, sync: data.attr('sync'), background: data.attr('body-background')}) %>>
        <div class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<script id="tplFilterDropdown" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_FilterDropdown.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="filter" data-vis-name="filter - dropdown" data-vis-attrs="filters;group.effects;hide_effect/effect;hide_duration/slider,0,10000,100;show_effect/effect;show_duration/slider,0,10000,100;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left:0px; width: 200px; height: 40px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.basic.filterDropdown(el, data.attr('filters'), data.attr('hide_effect'), data.attr('hide_duration'), data.attr('show_effect'), data.attr('show_duration')) %>>
        <div class="vis-widget-body">
            <select id="" name="" <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %> >
                <option value=""><%= _('all') %></option>
            </select>
        </div>
    </div>
</script>

<script id="tplValueFloat" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueFloat.png&quot;&gt;&lt;/img&gt;" data-vis-name="Number" data-vis-attrs="oid;html_prepend;html_append_singular;html_append_plural;group.extended;digits;is_comma[true]/checkbox;is_tdp/checkbox;factor[1];oid-quality;class_true;class_false;test_html">
    <div class="vis-widget <%== (vis.states.attr(this.data['oid-quality'] + '.val') === 'true' ||  vis.states.attr(this.data['oid-quality'] + '.val') === true) ? this.data.attr('class_true') : this.data.attr('class_false') %> <%== this.data.attr('class') %>" style="top: 0; left: 0; width: 60px; height: 18px" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%= vis.binds.basic.formatFloat(this.data) %><%== (parseFloat(vis.binds.basic.formatFloat(this.data)) === 1 ? this.data.attr('html_append_singular') : this.data.attr('html_append_plural')) %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueString" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val" data-vis-name="String" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueString.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') ? ((this.data.attr('oid').indexOf('"') !== -1) ? '' : this.data.attr('oid')) : this.data.attr('oid') %>">
                <%== this.data.attr("html_prepend") %><%= (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : this.data.attr('oid') ? ((this.data.attr('oid').indexOf('"') !== -1) ? this.data.oid.substring(1, this.data.oid.length - 1) : (vis.states.attr(this.data.oid + '.val'))) : (vis.states.attr(this.data.oid + '.val')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueStringRaw" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueStringRaw.png&quot;&gt;&lt;/img&gt;" data-vis-name="String (unescaped)" data-vis-attrs="oid;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : (typeof app !== 'undefined' ? app.replaceFilePathSrc(vis.states.attr(this.data.oid + '.val')) : vis.states.attr(this.data.oid + '.val')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueStringImg" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueStringImg.png&quot;&gt;&lt;/img&gt;" data-vis-type="val" data-vis-name="String img src" data-vis-attrs="oid;html_prepend;html_append;refreshInterval[0]/slider,0,180000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left:0px; width:60px; height: 40px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %>
                <img src="<%= (typeof app !== 'undefined' ? app.replaceFilePathImg(vis.states.attr(this.data.oid + '.val')) : vis.states.attr(this.data.oid + '.val')) || '' %>" width="100%" />
                 <div <%= (el) -> vis.binds.basic.imgRefresh(el, vis.states.attr(data.oid + '.val' ), data, this.view) %> />
                <%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplTimeValue" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val,timestamp" data-vis-name="TimesValue" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_TimeValue.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.val'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueTimestampValue" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val,timestamp" data-vis-name="Timestamp Value" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueTimestamp.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.val'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueTimestamp" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val,timestamp" data-vis-name="Timestamp" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueTimestamp.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top: 0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.ts'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueLastchange" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val,timestamp" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueLastchange.png&quot;&gt;&lt;/img&gt;" data-vis-name="Last change Timestamp" data-vis-attrs="oid;show_interval/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;html_prepend;html_append;test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (vis.editMode && this.data.attr('test_html')) ? this.data.attr('test_html') : vis.binds.basic.formatDate(vis.states.attr(this.data.oid + '.lc'), this.data.attr('format_date'), this.data.attr('show_interval')) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueList" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueList.png&quot;&gt;&lt;/img&gt;" data-vis-type="val" data-vis-name="ValueList Text" data-vis-attrs="oid;html_prepend;html_append;valuelist/text;test_list/nselect,,0,1,2,3,4,5,6,7,8,9,10,11,12">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px;left:0px;width:60px;height:20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%= (function (that){var list = (that.data.valuelist ? that.data.valuelist.split(';') : []); var val = list[(vis.editMode && (that.data.attr('test_list') || that.data.attr('test_list') == '0')) ? parseInt(that.data.attr('test_list')) : parseInt(vis.states.attr(that.data.oid + '.val'), 10)]; if (val) val = val.replace('§§', ';'); return val;})(this) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueListHtml" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueListHtml.png&quot;&gt;&lt;/img&gt;" data-vis-type="val" data-vis-name="ValueList HTML" data-vis-attrs="oid;html_prepend;html_append;valuelist/text;test_list/nselect,,0,1,2,3,4,5,6,7,8,9,10,11,12">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px;left:0px;width:60px;height:20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div data-oid="<%= this.data.attr('oid') %>">
                <%== this.data.attr('html_prepend') %><%== (function (that){var list = (that.data.valuelist ? that.data.valuelist.split(';') : []); var val = list[(vis.editMode && (that.data.attr('test_list') || that.data.attr('test_list') == '0')) ? parseInt(that.data.attr('test_list')) : parseInt(vis.states.attr(that.data.oid + '.val'), 10)]; if (val) val = val.replace('§§', ';'); return val;})(this) %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueListHtml8" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueListHtml8.png&quot;&gt;&lt;/img&gt;" data-vis-type="val" data-vis-name="ValueList HTML Style" data-vis-attrs="oid;html_prepend;html_append;count[2]/number,0,10,1;value(0-count);style(0-count);test_list/nselect,,0,1,2,3,4,5,6,7,8,9,10,11,12">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 30px;" id="<%= this.data.attr('wid') %>">
        <%
            var slist = [];
            var i = 0;
            while (data['style' + i] !== undefined) {
                slist[i] = data['style' + i]; i++;
            }
        %>
        <div class="vis-widget-body" style="<%== slist[(vis.editMode && (this.data.attr('test_list') || this.data.attr('test_list') == '0')) ? parseInt(this.data.attr('test_list')) : (parseInt((vis.states.attr(this.data.oid + '.val') == true ? 1 : (vis.states.attr(this.data.oid + '.val') == false ? 0 : vis.states.attr(this.data.oid + '.val'))), 10))] %>">
            <div data-oid="<%= this.data.attr('oid') %>">
               <%== this.data.attr('html_prepend') %><%
                   var list = [];
                   var j = 0;
                   while (data['value' + j] !== undefined) {
                        list[j] = data['value' + j];
                        if (list[j]) list[j] = list[j].replace('§§', ';');
                        j++;
                   }
                   %><%== list[(vis.editMode && (this.data.attr('test_list') || this.data.attr('test_list') == '0')) ? parseInt(this.data.attr('test_list')) : (parseInt((vis.states.attr(this.data.oid + '.val') == true ? 1 : (vis.states.attr(this.data.oid + '.val') == false ? 0 : vis.states.attr(this.data.oid + '.val'))), 10))] %><%== this.data.attr('html_append') %>
            </div>
        </div>
    </div>
</script>

<script id="tplValueBool" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueBool.png&quot;&gt;&lt;/img&gt;" data-vis-type="val" data-vis-name="Bool HTML" data-vis-attrs="oid;html_prepend;html_append;html_false;html_true">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px;" id="<%= this.data.attr('wid') %>"  data-oid="<%= this.data.attr('oid') %>" >
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'))) { %>
                <%== this.data.attr("html_false") %>
            <% } else { %>
                <%== this.data.attr('html_true') %>
            <% } %>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplAckBool" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_AckBool.png&quot;&gt;&lt;/img&gt;" data-vis-type="val" data-vis-name="AckFlag HTML" data-vis-attrs="oid;html_prepend;html_append;html_false;html_true">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px;" id="<%= this.data.attr('wid') %>"  data-oid="<%= this.data.attr('oid') %>" >
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <%
            var str = vis.states.attr(this.data.oid + ".ack");
            var val = parseFloat(str);
            var state;
            if (str === false || str === "false" || val == 0) {
            %>
            <%== this.data.attr('html_false') %>
            <% } else { %>
            <%== this.data.attr('html_true') %>
            <% } %>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolCheckbox" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueBoolCheckbox.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="ctrl" data-vis-name="Bool Checkbox" data-vis-attrs="oid;html_prepend;html_append;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body">
			<%== this.data.attr('html_prepend') %>
			<input
			    type="checkbox"
			    name="<%= this.data.attr('wid') %>_checkbox"
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
			    id="<%= this.data.attr('wid') %>_checkbox"
			    data-oid="<%= this.data.attr('oid') %>"
			    <%= (el) -> vis.binds.basic.checkbox(el) %>
            />
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueInput" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueInput.png&quot;&gt;&lt;/img&gt;" data-vis-type="ctrl" data-vis-update-style="true" data-vis-name="Input val" data-vis-attrs="oid;html_prepend;html_append;numeric/checkbox;min;max;autoSet/checkbox;readOnly/checkbox;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="background: white; color: black; border: 2px inset" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body">
			<%== this.data.attr('html_prepend') %>
			<input type="text"
			    <%= (this.data.attr('readOnly') === true || this.data.attr('readOnly') === 'true') ? 'readonly ' : '' %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus ' : '' %>
			    data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.input(el, this.data) %> style="width: calc(100% - 5px);"
            />
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolSelect" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueBoolSelect.png&quot;&gt;&lt;/img&gt;" data-vis-type="ctrl" data-vis-name="Bool Select" data-vis-attrs="oid;html_prepend;html_append;text_true;text_false;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:false" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body"  style="overflow:false">
			<%== this.data.attr('html_prepend') %>
			<select id="<%= this.data.attr('wid') %>_select" data-oid="<%= this.data.attr('oid') %>" <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %> >
				<option value="0" selected='selected'><%= this.data.attr('text_false') %></option>
				<option value="1"><%= this.data.attr('text_true') %></option>
			</select>
			<div <%= (el) -> vis.binds.basic.select(el) %>></div>
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolCtrl" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueBoolCtrl.png&quot;&gt;&lt;/img&gt;" data-vis-type="ctrl" data-vis-name="Bool HTML" data-vis-attrs="oid;min;max;html_prepend;html_append;html_false;html_true;" data-vis-attrs1="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;">
    <div
        class="vis-widget <%== this.data.attr('class') %>"
        style="width:76px; height:76px;"
        id="<%= this.data.attr('wid') %>"
        data-oid="<%= this.data.attr('oid') %>"
        data-min="<%= this.data.attr('min') %>"
        data-max="<%= this.data.attr('max') %>"
        data-as-button="<%= this.data.attr('asButton') %>"
        data-url-true="<%=  this.data.attr('urlTrue') %>"
        data-url-false="<%= this.data.attr('urlFalse') %>"
        data-oid-true="<%=  this.data.attr('oidTrue') %>"
        data-oid-false="<%= this.data.attr('oidFalse') %>"
        <%= (el) -> vis.binds.basic.toggle(el) %>>
        <div class="vis-widget-body">
			<%== this.data.attr('html_prepend') %>
			<% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'))) { %>
			    <%== this.data.attr('html_false') %>
			<% } else { %>
			    <%== this.data.attr('html_true') %>
			<% } %>
			<%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplValueBoolCtrlSvg" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueBoolCtrlSvg.png&quot;&gt;&lt;/img&gt;" data-vis-type="ctrl,state" data-vis-name="Bool SVG" data-vis-attrs="oid;no_control/checkbox;" data-vis-attrs0="svg_false[&lt;polygon points=&#39;100,10 40,198 190,78 10,78 160,198&#39; style=&#39;fill:lime§ stroke:purple§ stroke-width:5§ fill-rule:nonzero&#39; transform=&#39;scale(0.4)&#39;/&gt;]/text;" data-vis-attrs1="svg_true[&lt;polygon points=&#39;100,10 40,198 190,78 10,78 160,198&#39; style=&#39;fill:yellow§ stroke:red§ stroke-width:5§ fill-rule:nonzero&#39; transform=&#39;scale(0.4)&#39;/&gt;]/text;" data-vis-attrs2="svg_opacity/slider,0,1,0.05">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>">
        <div class="vis-widget-body">
            <% vis.binds.basic.showSvg(this.data.attr('class'), this.view, this.data.attr('wid'), this.data.attr('oid'), this.data.attr('svg_opacity'), this.data.attr('svg_false'), this.data.attr('svg_true'), null, this.data.attr('no_control')) %>
        </div>
    </div>
</script>

<script id="tplBasicState" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_BasicState.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="ctrl" data-vis-name="HTML State" data-vis-attrs="oid;html;value;urlValue">
    <div
        class="vis-widget <%== this.data.attr('class') %>"
        style="width:76px; height:76px;"
        id="<%= this.data.attr('wid') %>"
        data-oid="<%= this.data.attr('oid') %>"
        data-url-value="<%= this.data.attr('urlValue') %>"
        data-val="<%= this.data.attr('value') %>"
        <%= (el) -> vis.binds.basic.state(el) %>
        >
        <div class="vis-widget-body">
			<%== this.data.attr("html") %>
        </div>
    </div>
</script>

<script id="tplRedNumber" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val" data-vis-name="Red Number" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_RedNumber.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;type[circle]/select,circle,pin;html_prepend;html_append_singular;html_append_plural">
    <% if (this.data.attr('type') === 'pin') { %>
        <div class="vis-widget <%== this.data.attr('class') %>" style="width: 33px; height: 61px; padding-left: 4px" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.hideOnFalse(el) %>>
            <div class="vis-widget-body" >
                <img src="widgets/basic/img/pin_red5.svg" style="width: 100%; height: 100%">
                <div style="position:absolute; top: 22%; width: 95%; text-align: center">
                    <%== this.data.attr('html_prepend') %><%= parseInt(vis.states.attr(this.data.oid + '.val'), 10) %><%== (parseInt(vis.states.attr(this.data.oid + '.val'), 10) === 1 ? this.data.attr("html_append_singular") : this.data.attr("html_append_plural")) %>
                </div>
            </div>
        </div>
    <% } else { %>
        <div class="vis-widget <%== this.data.attr('class') %>" style="padding: 3px; width: auto; min-width: 21px; height: 21px; border-radius:16px; border: 3px solid white; background-color: rgb(214, 69, 69); color:white; font:normal normal normal 20px/normal Helvetica; text-align: center;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.hideOnFalse(el) %>>
            <div class="vis-widget-body" >
                <%== this.data.attr('html_prepend') %><%= parseInt(vis.states.attr(this.data.oid + '.val'), 10) %><%== (parseInt(vis.states.attr(this.data.oid + '.val'), 10) === 1 ? this.data.attr("html_append_singular") : this.data.attr("html_append_plural")) %>
            </div>
        </div>
    <% } %>
</script>

<script id="tplBulbOnOffCtrl" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_BulbOnOffCtrl.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="ctrl" data-vis-name="Bulb on/off" data-vis-attrs="oid;min;max;icon_off[img~bulb_off.png]/image;icon_on[img~bulb_on.png]/image;readOnly/checkbox;" data-vis-attrs0="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;oidTrueValue;oidFalseValue;">
    <div
        data-oid="<%= this.data.attr('oid') %>"
        class="vis-widget <%== this.data.attr('class') %>"
        id="<%= this.data.attr('wid') %>"
        style="width: 44px; height: 59px"
        data-read-only="<%=  this.data.attr('readOnly') %>"
        data-min="<%= this.data.attr('min') %>"
        data-max="<%= this.data.attr('max') %>"
        data-url-true="<%=  this.data.attr('urlTrue') %>"
        data-url-false="<%= this.data.attr('urlFalse') %>"
        data-oid-true="<%=  this.data.attr('oidTrue') %>"
        data-oid-false="<%= this.data.attr('oidFalse') %>"
        data-oid-true-value="<%=  this.data.attr('oidTrueValue') %>"
        data-oid-false-value="<%= this.data.attr('oidFalseValue') %>"
        <%= (el) -> vis.binds.basic.toggle(el) %>
        >
        <div class="vis-widget-body">
            <% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'))) { %>
                <img src="<%== this.data.attr('icon_off') ? this.data.attr('icon_off') : 'img/bulb_off.png' %>" width="100%"/>
            <% } else { %>
                <img src="<%== this.data.attr('icon_on') ? this.data.attr('icon_on') : 'img/icon_on.png' %>" width="100%"/>
            <% } %>
        </div>
    </div>
</script>

<script id="tplValueFloatBar" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val,bar" data-vis-name="Bar" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueFloatBar.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;min[0];max[100];orientation[horizontal]/select,horizontal,vertical/onOrientation;color[blue]/color;border;shadow;reverse/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 240px; height: 20px; border: 1px solid #888" id="<%= this.data.attr('wid') %>">
        <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget-body"
        style="<%= (this.data.attr('orientation') === 'vertical') ? ('height: ' + vis.binds.basic.getCalc(this.data) + ';' + ((this.data.border) ? ' width:  calc(100% - ' + vis.binds.basic.extractWidth(this.data.border, 2) + ');' : '') + (this.data.reverse === 'true' || this.data.reverse === true ? 'left: 0px; position: absolute; bottom: 0%;' : '')) : (((this.data.border) ? " height: calc(100% - " + vis.binds.basic.extractWidth(this.data.border, 2) + ');' : '') + 'width: ' + vis.binds.basic.getCalc(this.data) + ';' + (this.data.reverse === 'true' || this.data.reverse === true ? 'float: right; ' : '')) %>background-color:<%= this.data.color %>; border: <%= this.data.border %>; box-shadow: <%= this.data.shadow %>"></div>
    </div>
</script>

<script id="tplNote" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val" data-vis-name="Note" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_Note.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;max_width[300];html_prepend;html_append;test_text">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:50px; height:50px; border:1px solid #888; background: rgba(255,255,105,0.8)" id="<%= this.data.attr('wid') %>" onclick="vis.binds.basic.editNote('<%= this.data.attr('wid') %>', '<%= this.data.attr('max_width') %>', '<%= this.data.attr('min_width') %>', '<%= this.data.attr('min_height') %>', '<%= this.data.attr('oid') %>')">
		<div data-oid="<%= this.data.attr('oid') %>" id="div_<%= this.data.attr('wid') %>" style="padding: 10px">
			<%== this.data.attr('html_prepend') %><%= (this.data.test_text && vis.editMode) ? this.data.test_text : (vis.states.attr(this.data.oid + '.val') == null ? "" : vis.states.attr(this.data.oid + '.val')) %><%== this.data.attr('html_append') %>
		</div>
    </div>
</script>

<script id="tplTableBody" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="json,table" data-vis-name="Table" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_TableBody.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="table_oid/id;" data-vis-attrs0="static_value[[{^Title^: ^first^, ^Value^: 1, ^_Description^: ^Value1^}, {^Title^: ^second^, ^Value^: 2, ^_Description^: ^Value2^}]]/text;" data-vis-attrs1="event_oid/id;new_on_top/checkbox;ack_oid/id;selected_oid/id;hide_header/checkbox;show_scroll/checkbox;detailed_wid/widget;max_rows/number;" data-vis-attrs2="colCount/number;group.header/byindex;colName(1-colCount);colWidth(1-colCount);colAttr(1-colCount);" data-vis-attrs-not-used="btn_print;view_for_print/views">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width: 300px; height: 150px; background: #d3d3d3">
       <% vis.binds.table.showTable(this.view, this.data.attr('wid'), this.data); %>
    </div>
</script>

<script id="tplHtmlLogout" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="tools" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_HtmlLogout.png&quot;&gt;&lt;/img&gt;" data-vis-name="HTML logout" data-vis-attrs="html[&lt;button style=^cursor: pointer^&gt;Logout&lt;/button&gt;]/text;redirect_url;in_app_close/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 70px; height: 30px; cursor: pointer" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.basic.logout(el, this.data) %> >
        <div class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<!--script id="tplDialog"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="table"
        data-vis-name="Dialog"
        data-vis-attrs="show/checkbox;trigger_id/id;button(1-3);title;text;image/image;width[400]/slider,50,1000,10;height[200]/slider,50,1000,10;modal/checkbox;_no_style[true]/hidden;_no_move[true]/hidden;_no_resize[true]/hidden;margin_left[0]/slider,0,200,1;margin_top[0]/slider,0,200,1"
        >
    <%
        var options =  {
            trigger_id:  this.data.attr('trigger_id'),
            buttons:     [this.data.attr('button1'), this.data.attr('button2'), this.data.attr('button3')],
            image:       this.data.attr('image'),
            title:       this.data.attr('title'),
            text:        this.data.attr('text'),
            width:       this.data.attr('width'),
            height:      this.data.attr('height'),
            show:        this.data.attr('show'),
            modal:       this.data.attr('modal'),
            margin_left: this.data.attr('margin_left'),
            margin_top:  this.data.attr('margin_top')
        };
        vis.binds.table.showDialog(this.view, this.data.attr('wid'), options);
    %>
</script-->

<script id="tplValueGesture" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val,tools" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ValueGesture.png&quot;&gt;&lt;/img&gt;" data-vis-name="Gesture indicator" data-vis-no-gestures="true" data-vis-attrs="html_prepend;html_append_singular;html_append_plural;group.extended;digits[0];is_comma[true]/checkbox;is_tdp/checkbox;factor[1];test_html">
    <div class="vis-widget <%== this.data.attr('class') %>" style="height: 21px; border: 1px solid #c7c7c7; border-radius: 5px; text-align: center; padding-top: 6px; box-shadow: 2px 2px 5px 1px gray; padding-left: 2px; padding-right: 2px; background: lightgray;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% vis.binds.basic.createValueGesture(this.data.wid, this.view, this.data, this.style); %>
        </div>
    </div>
</script>

<script id="tplSpeech2Text" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-type="val" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_Speech2Text.png&quot;&gt;&lt;/img&gt;" data-vis-name="Speech to text" data-vis-no-gestures="true" data-vis-attrs="oid;speechMode[single]/select,single,startstop,continuous;language/select,,en-US,de,ru-RU;keywords;" data-vis-attrs0="group.image;noImage/checkbox;imageInactive[widgets~basic~img~micInactive.svg]/image;imageActive[widgets~basic~img~micActive.svg]/image;imageStarted[widgets~basic~img~micStarted.svg]/image;imageDetected[widgets~basic~img~micDetected.svg]/image;imageSent[widgets~basic~img~micSent.svg]/image;imageHeightPx[70]/slider,0,200,1;imageWidthPx[70]/slider,0,200,1;" data-vis-attrs1="group.text;noText/checkbox;noResults/checkbox;keyWordColor[#FFB051]/color;textSentColor[#7E88D3]/color;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="height: 77px; width: 500px" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <table style="height: 100%; width: 100%"><tr>
                <td style="<%= this.data.attr('noImage') ? 'display: none' : '' %>"><img class="mic-image" style="height: <%= this.data.attr('imageHeightPx') %>px; width: <%= this.data.attr('imageWidthPx') %>px" src="<%= this.data.attr('imageInactive') %>" /></td>
                <td class="mic-text" style="width: 100%">
                    <div class="mic-info-text" style="<%= this.data.attr('noText')    ? 'display: none' : '' %>"></div>
                    <div class="mic-results"   style="<%= this.data.attr('noResults') ? 'display: none' : '' %>"></div>
                </td>
            </tr></table>
        </div>
    </div>
    <% vis.binds.basic.speech2text(this.data.wid, this.view, this.data, this.style); %>
</script>

<script id="tplFullScreen" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_FullScreen.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="tools" data-vis-name="Full Screen" data-vis-attrs="">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:43px; height:43px; background: #AAAAAA; cursor: pointer; opacity: 0.9" id="<%= this.data.attr('wid') %>">
		<div class='vis-fullscreen-icon' style="padding: 10px"></div>
		<%= vis.binds.basic.toggleFullScreen(this.data.wid, this.view, this.data, this.style); %>
    </div>
</script>

<script id="tplScreenResolution" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/basic/img/Prev_ScreenResolution.png&quot;&gt;&lt;/img&gt;" data-vis-set="basic" data-vis-type="tools" data-vis-name="Screen Resolution" data-vis-attrs="">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:170px; height:75px; border: 1px solid #888; font-size: 12px; opacity: 0.8" id="<%= this.data.attr('wid') %>">
		<div id="div_<%= this.data.attr('wid') %>" style="padding: 10px">
			Default view: <span class='vis-resolution-default-view'></span><br>
			Width: <span class='vis-resolution-width'></span><br>
			Height: <span class='vis-resolution-height'></span><br>
			Instance: <span><%== vis.instance ? vis.instance : vis.binds.basic.createScreenText() %></span>
		</div>
		<%= vis.binds.basic.detectScreen(this.data.attr('wid')) %>
    </div>
</script>


<script id="_tplGroup" type="text/ejs" class="vis-tpl" data-vis-set="basic" data-vis-attrs="group.objects;attrCount[1]/slider,0,20,1;attrName(1-attrCount)//onAttrChanged;attrType(1-attrCount)/select,,id,checkbox,image,color,views,html,widget,history/onAttrChanged;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible" id="<%= this.data.attr('wid') %>"></div>
</script>

<!-- --------------basic.html--- END -->
<!-- --------------canvas-gauges.html--- START -->
<!--
    ioBroker.vis-canvas-gauges

    version: "0.1.5"

    Copyright 2016 bluefox<dogafox@gmail.com>

-->
<script type="text/javascript" src="./vis_files/gauge.min.js"></script>

<script language="javascript">
    'use strict';
    // Add words for bars
    if (vis.editMode) {
        $.extend(systemDictionary, {
            "linear":           {"en": "linear",            "de": "linear", "ru": "linear"},
            "quad":             {"en": "quad",              "de": "quad", "ru": "quad"},
            "quint":            {"en": "quint",             "de": "quint", "ru": "quint"},
            "cycle":            {"en": "cycle",             "de": "cycle", "ru": "cycle"},
            "elastic":          {"en": "elastic",           "de": "elastic", "ru": "elastic"},
            "dequad":           {"en": "dequad",            "de": "dequad", "ru": "dequad"},
            "dequint":          {"en": "dequint",           "de": "dequint", "ru": "dequint"},
            "decycle":          {"en": "decycle",           "de": "decycle", "ru": "decycle"},
            "debounce":         {"en": "debounce",          "de": "debounce", "ru": "debounce"},
            "delastic":         {"en": "delastic",          "de": "delastic", "ru": "delastic"},
            "arrow":            {"en": "arrow",             "de": "arrow", "ru": "arrow"},
            "minValue":         {"en": "min",               "de": "min", "ru": "minValue"},
            "maxValue":         {"en": "max",               "de": "max", "ru": "maxValue"},
            "valueOffset":      {"en": "Value offset",      "de": "Wertoffset", "ru": "valueOffset"},
            "hCount":           {"en": "Highlights number", "de": "Anzahl von Sektoren", "ru": "Кол-во секторов"},
            "group_highlights": {"en": "Highlights",        "de": "Sektoren",       "ru": "Сектора"},
            "highlightsFrom":   {"en": "From",              "de": "Von",            "ru": "highlightsFrom"},
            "highlightsTo":     {"en": "To",                "de": "Bis",            "ru": "highlightsTo"},
            "highlightsColor":  {"en": "Color",             "de": "Farbe",          "ru": "highlightsColor"},
            "majorTicks":       {"en": "Major ticks",       "de": "majorTicks",     "ru": "majorTicks"},
            "minorTicks":       {"en": "Minor ticks",       "de": "minorTicks",     "ru": "minorTicks"},
            "strokeTicks":      {"en": "Stroke ticks",      "de": "strokeTicks",        "ru": "strokeTicks"},
            "majorTicksInt":    {"en": "Before comma ",     "de": "majorTicksInt",      "ru": "majorTicksInt"},
            "majorTicksDec":    {"en": "After comma",       "de": "majorTicksDec",      "ru": "majorTicksDec"},
            "group_animation":  {"en": "Animation",         "de": "group_animation",    "ru": "group_animation"},
            "animation":        {"en": "Enabled",           "de": "animation",          "ru": "animation"},
            "animationDuration": {"en": "Duration",         "de": "animationDuration", "ru": "animationDuration"},
            "animationRule":    {"en": "Rule",              "de": "animationRule", "ru": "animationRule"},
            "animatedValue":    {"en": "Value",             "de": "animatedValue", "ru": "animatedValue"},
            "animateOnInit":    {"en": "Animate on start",  "de": "animateOnInit", "ru": "animateOnInit"},
            "group_colorsGauge": {"en": "Colors",           "de": "Farben", "ru": "group_colorsGauge"},
            "colorPlate":       {"en": "Plate",             "de": "Plate", "ru": "colorPlate"},
            "colorPlateEnd":    {"en": "Plate end",         "de": "PlateEnd", "ru": "colorPlateEnd"},
            "colorMajorTicks":  {"en": "Major ticks",       "de": "MajorTicks", "ru": "colorMajorTicks"},
            "colorMinorTicks":  {"en": "Minor ticks",       "de": "MinorTicks", "ru": "colorMinorTicks"},
            "colorTitle":       {"en": "Title",             "de": "Title", "ru": "colorTitle"},
            "colorUnits":       {"en": "Units",             "de": "Units", "ru": "colorUnits"},
            "colorNumbers":     {"en": "Numbers",           "de": "Numbers", "ru": "colorNumbers"},
            "colorNeedle":      {"en": "Needle",            "de": "Needle", "ru": "colorNeedle"},
            "colorNeedleEnd":   {"en": "NeedleEnd",         "de": "NeedleEnd", "ru": "colorNeedleEnd"},
            "colorValueText":   {"en": "ValueText",         "de": "ValueText", "ru": "colorValueText"},
            "colorValueTextShadow":     {"en": "Value text shadow",     "de": "ValueTextShadow", "ru": "colorValueTextShadow"},
            "colorBorderShadow":        {"en": "Border shadow",         "de": "BorderShadow", "ru": "colorBorderShadow"},
            "colorBorderOuter":         {"en": "Border outer",          "de": "BorderOuter", "ru": "colorBorderOuter"},
            "colorBorderOuterEnd":      {"en": "Border outer end",      "de": "BorderOuterEnd", "ru": "colorBorderOuterEnd"},
            "colorBorderMiddle":        {"en": "Border middle",         "de": "BorderMiddle", "ru": "colorBorderMiddle"},
            "colorBorderMiddleEnd":     {"en": "Border middle end",     "de": "BorderMiddleEnd", "ru": "colorBorderMiddleEnd"},
            "colorBorderInner":         {"en": "Border inner",          "de": "BorderInner", "ru": "colorBorderInner"},
            "colorBorderInnerEnd":      {"en": "Border inner end",      "de": "BorderInnerEnd", "ru": "colorBorderInnerEnd"},
            "colorValueBoxRect":        {"en": "Value box rect",        "de": "ValueBoxRect", "ru": "colorValueBoxRect"},
            "colorValueBoxRectEnd":     {"en": "Value box rect end",    "de": "ValueBoxRectEnd", "ru": "colorValueBoxRectEnd"},
            "colorValueBoxBackground":  {"en": "Value box background",  "de": "ValueBoxBackground", "ru": "colorValueBoxBackground"},
            "colorValueBoxShadow":      {"en": "Value box shadow",      "de": "ValueBoxShadow", "ru": "colorValueBoxShadow"},
            "colorNeedleShadowUp":      {"en": "Needle shadow up",      "de": "NeedleShadowUp", "ru": "colorNeedleShadowUp"},
            "colorNeedleShadowDown":    {"en": "Needle shadow down",    "de": "NeedleShadowDown", "ru": "colorNeedleShadowDown"},
            "needle":           {"en": "Needle",            "de": "needle", "ru": "needle"},
            "needleShadow":     {"en": "NeedleShadow",      "de": "needleShadow", "ru": "needleShadow"},
            "needleType":       {"en": "NeedleType",        "de": "needleType", "ru": "needleType"},
            "needleStart":      {"en": "NeedleStart",       "de": "needleStart", "ru": "needleStart"},
            "needleEnd":        {"en": "NeedleEnd",         "de": "needleEnd", "ru": "needleEnd"},
            "needleWidth":      {"en": "NeedleWidth",       "de": "needleWidth", "ru": "needleWidth"},
            "group_borders":    {"en": "Borders",           "de": "Rahmen", "ru": "group_borders"},
            "borders":          {"en": "Enabled",           "de": "Aktiviert", "ru": "borders"},
            "borderOuterWidth": {"en": "Outer width",       "de": "borderOuterWidth", "ru": "borderOuterWidth"},
            "borderMiddleWidth": {"en": "Middle width",     "de": "borderMiddleWidth", "ru": "borderMiddleWidth"},
            "borderInnerWidth": {"en": "Inner width",       "de": "borderInnerWidth", "ru": "borderInnerWidth"},
            "borderShadowWidth": {"en": "Shadow width",     "de": "borderShadowWidth", "ru": "borderShadowWidth"},
            "group_valueBox":   {"en": "Value Box",         "de": "Wert-Box", "ru": "group_valueBox"},
            "valueBox":         {"en": "Enabled",           "de": "Aktiviert", "ru": "valueBox"},
            "valueBoxStroke":   {"en": "Box stroke",        "de": "valueBoxStroke", "ru": "valueBoxStroke"},
            "valueText":        {"en": "Text",              "de": "valueText", "ru": "valueText"},
            "valueTextShadow":  {"en": "Text shadow",       "de": "valueTextShadow", "ru": "valueTextShadow"},
            "valueBoxBorderRadius": {"en": "Box border radius", "de": "valueBoxBorderRadius", "ru": "valueBoxBorderRadius"},
            "valueInt":         {"en": "Before comma",      "de": "Vor Komma", "ru": "valueInt"},
            "valueDec":         {"en": "After comma",       "de": "Nach Komma", "ru": "valueDec"},
            "group_fonts":      {"en": "Fonts",             "de": "Schriften", "ru": "group_fonts"},
            "fontNumbers":      {"en": "Numbers",           "de": "Numbers", "ru": "fontNumbers"},
            "fontTitle":        {"en": "Title",             "de": "Title", "ru": "fontTitle"},
            "fontUnits":        {"en": "Units",             "de": "Units", "ru": "fontUnits"},
            "fontValue":        {"en": "Value",             "de": "Value", "ru": "fontValue"},
            "fontNumbersSize":  {"en": "Numbers size",      "de": "Numbers Size", "ru": "fontNumbersSize"},
            "fontTitleSize":    {"en": "Title size",        "de": "Title Size", "ru": "fontTitleSize"},
            "fontUnitsSize":    {"en": "Units size",        "de": "Units Size", "ru": "fontUnitsSize"},
            "fontValueSize":    {"en": "Value size",        "de": "Value Size", "ru": "fontValueSize"},
            "fontNumbersStyle": {"en": "Numbers style",     "de": "Numbers Style", "ru": "fontNumbersStyle"},
            "fontTitleStyle":   {"en": "Title style",       "de": "Title Style", "ru": "fontTitleStyle"},
            "fontUnitsStyle":   {"en": "Units style",       "de": "Units Style", "ru": "fontUnitsStyle"},
            "fontValueStyle":   {"en": "Value style",       "de": "Value Style", "ru": "fontValueStyle"},
            "fontNumbersWeight": {"en": "Numbers weight",   "de": "Numbers Weight", "ru": "fontNumbersWeight"},
            "fontTitleWeight":  {"en": "Title weight",      "de": "Title Weight", "ru": "fontTitleWeight"},
            "fontUnitsWeight":  {"en": "Units weight",      "de": "Units Weight", "ru": "fontUnitsWeight"},
            "fontValueWeight":  {"en": "Value weight",      "de": "Value Weight", "ru": "fontValueWeight"},
            "group_gaugeBar":   {"en": "Gauge bar",         "de": "Gauge Bar", "ru": "group_gaugeBar"},
            "barBeginCircle":   {"en": "Begin circle",      "de": "BeginCircle", "ru": "barBeginCircle"},
            "barWidth":         {"en": "Width",             "de": "Width", "ru": "barWidth"},
            "barLength":        {"en": "Length",            "de": "Length", "ru": "barLength"},
            "barStrokeWidth":   {"en": "Stroke width",      "de": "StrokeWidth", "ru": "barStrokeWidth"},
            "barProgress":      {"en": "Progress",          "de": "Progress", "ru": "barProgress"},
            "group_colorsBar":  {"en": "Bar colors",        "de": "Bar-Farbe", "ru": "group_colorsBar"},
            "colorBarStroke":   {"en": "Bar stroke",        "de": "BarStroke", "ru": "colorBarStroke"},
            "colorBar":         {"en": "Bar",               "de": "Bar", "ru": "colorBar"},
            "colorBarEnd":      {"en": "BarEnd",            "de": "BarEnd", "ru": "colorBarEnd"},
            "colorBarProgress": {"en": "BarProgress",       "de": "BarProgress", "ru": "colorBarProgress"},
            "colorBarProgressEnd": {"en": "BarProgressEnd", "de": "BarProgressEnd", "ru": "colorBarProgressEnd"},
            "group_positions":  {"en": "Positions",         "de": "Position", "ru": "group_positions"},
            "tickSide":         {"en": "Tick's side",       "de": "tick Side", "ru": "tickSide"},
            "needleSide":       {"en": "Needle's side",     "de": "needle Side", "ru": "needleSide"},
            "numberSide":       {"en": "Number's side",     "de": "number Side", "ru": "numberSide"},
            "group_ticksBar":   {"en": "Bar ticks",         "de": "Ticks Bar", "ru": "group_ticksBar"},
            "ticksWidth":       {"en": "Width",             "de": "ticksWidth", "ru": "ticksWidth"},
            "ticksWidthMinor":  {"en": "Width minor",       "de": "ticksWidthMinor", "ru": "ticksWidthMinor"},
            "ticksPadding":     {"en": "Padding",           "de": "ticksPadding", "ru": "ticksPadding"},
            "plate":            {"en": "plate",             "de": "plate", "ru": "plate"},
            "animationTarget":  {"en": "Animation target",  "de": "Animationsziel", "ru": "animationTarget"},
            "group_gaugeRadial": {"en": "Gauge radial",     "de": "Radial", "ru": "group_gaugeRadial"},
            "ticksAngle":       {"en": "Ticks's angle",     "de": "ticksAngle", "ru": "ticksAngle"},
            "startAngle":       {"en": "Start Angle",       "de": "startAngle", "ru": "startAngle"},
            "group_colorsRadial":       {"en": "Colors for radial",         "de": "Farbe (radiall)", "ru": "group_colorsRadial"},
            "colorNeedleCircleOuter":   {"en": "Needle circle outer",       "de": "NeedleCircleOuter", "ru": "colorNeedleCircleOuter"},
            "colorNeedleCircleOuterEnd": {"en": "Needle circle outer end",  "de": "NeedleCircleOuterEnd", "ru": "colorNeedleCircleOuterEnd"},
            "colorNeedleCircleInner":   {"en": "Needle circle inner",       "de": "NeedleCircleInner", "ru": "colorNeedleCircleInner"},
            "colorNeedleCircleInnerEnd": {"en": "Needle circle inner end",  "de": "NeedleCircleInnerEnd", "ru": "colorNeedleCircleInnerEnd"},
            "group_needleRadial":       {"en": "Needle for radial",         "de": "Zeiger (radial)", "ru": "group_needleRadial"},
            "needleCircleSize":         {"en": "Circle size",               "de": "Circle Size", "ru": "needleCircleSize"},
            "needleCircleInner":        {"en": "Circle inner",              "de": "Circle Inner", "ru": "needleCircleInner"},
            "needleCircleOuter":        {"en": "Circle outer",              "de": "Circle Outer", "ru": "needleCircleOuter"}
        });
    }

    //jQuery.extend(true, vis.binds, {
    vis.binds['canvas-gauges'] = {
        version: "0.1.5",
        showVersion: function () {
            if (vis.binds['canvas-gauges'].version) {
                console.log('Version vis-canvas-gauges: ' + vis.binds['canvas-gauges'].version);
                vis.binds['canvas-gauges'].version = null;
            }
        },
        gaugeDestroy: function (wid, $wid) {
            if ($wid && $wid.length) {
                var bound = $wid.data('bound');
                if (bound) {
                    var bindHandler = $wid.data('bindHandler');
                    for (var b = 0; b < bound.length; b++) {
                        vis.states.unbind(bound[b], bindHandler);
                    }
                }
                var gauge = $wid.data('gauge');
                if (gauge) {
                    gauge.destroy();
                    $wid.data('gauge', null);
                }
            }
        },
        padValue: function (val,options) {
            let dec = options.valueDec;
            let int = options.valueInt;
            let i = 0;
            let s, strVal, n;

            val = parseFloat(val);
            n = (val < 0);
            val = Math.abs(val);

            if (dec > 0) {
                strVal = val.toFixed(dec).toString().split('.');
                s = int - strVal[0].length;

                for (; i < s; ++i) {
                    strVal[0] = '0' + strVal[0];
                }

                strVal = (n ? '-' : '') + strVal[0] + '.' + strVal[1];
            } else {
                strVal = Math.round(val).toString();
                s = int - strVal.length;

                for (; i < s; ++i) {
                    strVal = '0' + strVal;
                }

                strVal = (n ? '-' : '') + strVal;
            }

            return strVal;
        },
        gauge: function (view, data, type) {
            var wid = data.attr('wid');
            var $wid = $('#' + wid).css('overflow', 'visible');
            if (!$wid.length) {
                setTimeout(function () {
                    vis.binds['canvas-gauges'].gauge(view, data, type);
                }, 100);
                return;
            }
            if (!$wid.is(':visible')) {
                setTimeout(function () {
                    vis.binds['canvas-gauges'].gauge(view, data, type);
                }, 1000);
                return;
            }

            $wid.css('overflow', 'visible');

            var w = $wid.width();
            var h = $wid.height();
            var gauge = $wid.data('gauge');

            var options = {
                width:          w,
                height:         h,
                title:          data.attr('title') || '',
                minValue:       parseFloat(data.attr('minValue')) || 0,
                maxValue:       parseFloat(data.attr('maxValue')),
                units:          data.attr('units') || '',
                factor:         parseFloat(data.attr('factor')) || 1,
                offset:         parseFloat(data.attr('valueOffset')) || 0,

                minorTicks:     parseInt(data.attr('minorTicks'), 10) || 1,
                strokeTicks:    data.attr('strokeTicks') === 'true' || data.attr('strokeTicks') === true,
                majorTicksInt:  parseInt(data.attr('majorTicksInt'), 10) || 4,
                majorTicksDec:  parseInt(data.attr('majorTicksDec'), 10) || 2,

                animation:      data.attr('animation') === 'true' || data.attr('animation') === true,
                animationDuration:  parseInt(data.attr('animationDuration')) || 500,
                animationRule:  data.attr('animationRule') || 'linear',
                animatedValue:  data.attr('animatedValue') === 'true' || data.attr('animatedValue') === true,
                animateOnInit:  data.attr('animateOnInit') === 'true' || data.attr('animateOnInit') === true
            };

            if (isNaN(options.maxValue)) options.maxValue = 100;

            if (data.attr('colorPlate'))             options.colorPlate             = data.attr('colorPlate');
            if (data.attr('colorPlateEnd'))          options.colorPlateEnd          = data.attr('colorPlateEnd');
            if (data.attr('colorMajorTicks'))        options.colorMajorTicks        = data.attr('colorMajorTicks');
            if (data.attr('colorMinorTicks'))        options.colorMinorTicks        = data.attr('colorMinorTicks');
            if (data.attr('colorTitle'))             options.colorTitle             = data.attr('colorTitle');
            if (data.attr('colorUnits'))             options.colorUnits             = data.attr('colorUnits');
            if (data.attr('colorNumbers'))           options.colorNumbers           = data.attr('colorNumbers');
            if (data.attr('colorNeedle'))            options.colorNeedle            = data.attr('colorNeedle');
            if (data.attr('colorNeedleEnd'))         options.colorNeedleEnd         = data.attr('colorNeedleEnd');
            if (data.attr('colorValueText'))         options.colorValueText         = data.attr('colorValueText');
            if (data.attr('colorValueTextShadow'))   options.colorValueTextShadow   = data.attr('colorValueTextShadow');
            if (data.attr('colorBorderShadow'))      options.colorBorderShadow      = data.attr('colorBorderShadow');
            if (data.attr('colorBorderOuter'))       options.colorBorderOuter       = data.attr('colorBorderOuter');
            if (data.attr('colorBorderOuterEnd'))    options.colorBorderOuterEnd    = data.attr('colorBorderOuterEnd');
            if (data.attr('colorBorderMiddle'))      options.colorBorderMiddle      = data.attr('colorBorderMiddle');
            if (data.attr('colorBorderMiddleEnd'))   options.colorBorderMiddleEnd   = data.attr('colorBorderMiddleEnd');
            if (data.attr('colorBorderInner'))       options.colorBorderInner       = data.attr('colorBorderInner');
            if (data.attr('colorBorderInnerEnd'))    options.colorBorderInnerEnd    = data.attr('colorBorderInnerEnd');
            if (data.attr('colorValueBoxRect'))      options.colorValueBoxRect      = data.attr('colorValueBoxRect');
            if (data.attr('colorValueBoxRectEnd'))   options.colorValueBoxRectEnd   = data.attr('colorValueBoxRectEnd');
            if (data.attr('colorValueBoxBackground'))options.colorValueBoxBackground = data.attr('colorValueBoxBackground');
            if (data.attr('colorValueBoxShadow'))    options.colorValueBoxShadow    = data.attr('colorValueBoxShadow');
            if (data.attr('colorNeedleShadowUp'))    options.colorNeedleShadowUp    = data.attr('colorNeedleShadowUp');
            if (data.attr('colorNeedleShadowDown'))  options.colorNeedleShadowDown  = data.attr('colorNeedleShadowDown');

            if (data.attr('needle')       !== undefined && data.attr('needle')       !== '')  options.needle       = data.attr('needle') === 'true' || data.attr('needle') === true;
            if (data.attr('needleShadow') !== undefined && data.attr('needleShadow') !== '')  options.needleShadow = data.attr('needleShadow') === 'true' || data.attr('needleShadow') === true;
            if (data.attr('needleType')   !== undefined && data.attr('needleType')   !== '')  options.needleType   = data.attr('needleType');
            if (data.attr('needleStart')  !== undefined && data.attr('needleStart')  !== '')  options.needleStart  = parseFloat(data.attr('needleStart'));
            if (data.attr('needleEnd')    !== undefined && data.attr('needleEnd')    !== '')  options.needleEnd    = parseFloat(data.attr('needleEnd'));
            if (data.attr('needleWidth')  !== undefined && data.attr('needleWidth')  !== '')  options.needleWidth  = parseFloat(data.attr('needleWidth'));

            if (data.attr('borders')           !== undefined && data.attr('borders')           !== '')  options.borders = data.attr('borders') === 'true' || data.attr('borders') === true;
            if (data.attr('borderOuterWidth')  !== undefined && data.attr('borderOuterWidth')  !== '')  options.borderOuterWidth  = parseFloat(data.attr('borderOuterWidth'));
            if (data.attr('borderMiddleWidth') !== undefined && data.attr('borderMiddleWidth') !== '')  options.borderMiddleWidth = parseFloat(data.attr('borderMiddleWidth'));
            if (data.attr('borderInnerWidth')  !== undefined && data.attr('borderInnerWidth')  !== '')  options.borderInnerWidth  = parseFloat(data.attr('borderInnerWidth'));
            if (data.attr('borderShadowWidth') !== undefined && data.attr('borderShadowWidth') !== '')  options.borderShadowWidth = parseFloat(data.attr('borderShadowWidth'));

            if (data.attr('valueBox')              !== undefined && data.attr('valueBox') !== '')       options.valueBox = data.attr('valueBox') === 'true' || data.attr('valueBox') === true;
            if (data.attr('valueText')             !== undefined && data.attr('valueText') !== '')      options.valueText = data.attr('valueText');
            if (data.attr('valueBoxStroke')        !== undefined && data.attr('valueBoxStroke') !== '') options.valueBoxStroke  = parseFloat(data.attr('valueBoxStroke'));
            if (data.attr('valueTextShadow')       !== undefined)                                       options.valueTextShadow = data.attr('valueTextShadow');
            if (data.attr('valueBoxBorderRadius')  !== undefined && data.attr('valueBoxBorderRadius') !== '')  options.valueBoxBorderRadius  = parseFloat(data.attr('valueBoxBorderRadius'));
            if (data.attr('valueInt')              !== undefined && data.attr('valueInt') !== '')       options.valueInt = parseInt(data.attr('valueInt'), 10);
            if (data.attr('valueDec')              !== undefined && data.attr('valueDec') !== '')       options.valueDec = parseInt(data.attr('valueDec'), 10);

            if (data.attr('fontNumbers') !== undefined && data.attr('fontNumbers') !== '')  options.fontNumbers = data.attr('fontNumbers');
            if (data.attr('fontTitle')   !== undefined && data.attr('fontTitle')   !== '')  options.fontTitle   = data.attr('fontTitle');
            if (data.attr('fontUnits')   !== undefined && data.attr('fontUnits')   !== '')  options.fontUnits   = data.attr('fontUnits');
            if (data.attr('fontValue')   !== undefined && data.attr('fontValue')   !== '')  options.fontValue   = data.attr('fontValue');
            if (data.attr('fontNumbersSize') !== undefined && data.attr('fontNumbersSize') !== '')  options.fontNumbersSize = parseInt(data.attr('fontNumbersSize'), 10);
            if (data.attr('fontTitleSize')   !== undefined && data.attr('fontTitleSize')   !== '')  options.fontTitleSize   = parseInt(data.attr('fontTitleSize'), 10);
            if (data.attr('fontUnitsSize')   !== undefined && data.attr('fontUnitsSize')   !== '')  options.fontUnitsSize   = parseInt(data.attr('fontUnitsSize'), 10);
            if (data.attr('fontValueSize')   !== undefined && data.attr('fontValueSize')   !== '')  options.fontValueSize   = parseInt(data.attr('fontValueSize'), 10);

            if (data.attr('fontNumbersStyle') !== undefined && data.attr('fontNumbersStyle')    !== '')  options.fontNumbersStyle = data.attr('fontNumbersStyle');
            if (data.attr('fontTitleStyle') !== undefined && data.attr('fontTitleStyle')        !== '')  options.fontTitleStyle = data.attr('fontTitleStyle');
            if (data.attr('fontUnitsStyle') !== undefined && data.attr('fontUnitsStyle')        !== '')  options.fontUnitsStyle = data.attr('fontUnitsStyle');
            if (data.attr('fontValueStyle') !== undefined && data.attr('fontValueStyle')        !== '')  options.fontValueStyle = data.attr('fontValueStyle');
            if (data.attr('fontNumbersWeight') !== undefined && data.attr('fontNumbersWeight')  !== '')  options.fontNumbersWeight = data.attr('fontNumbersWeight');
            if (data.attr('fontTitleWeight') !== undefined && data.attr('fontTitleWeight')      !== '')  options.fontTitleWeight = data.attr('fontTitleWeight');
            if (data.attr('fontUnitsWeight') !== undefined && data.attr('fontUnitsWeight')      !== '')  options.fontUnitsWeight = data.attr('fontUnitsWeight');
            if (data.attr('fontValueWeight') !== undefined && data.attr('fontValueWeight')      !== '')  options.fontNumbers = data.attr('fontValueWeight');

            var hCount = parseInt(data.attr('hCount'), 10) || 0;

            if (hCount) {
                options.highlights = [];
                for (var u = 1; u <= hCount; u++) {
                    if (data.attr('highlightsFrom' + u) === undefined || data.attr('highlightsFrom' + u) === '') continue;

                    if (type === 'radial') {
                        options.highlights.push({
                            from:   (parseFloat(data.attr('highlightsFrom' + u)) || 0),
                            to:     parseFloat(data.attr('highlightsTo' + u)),
                            color:  data.attr('highlightsColor' + u)
                        });
                    } else {
                        options.highlights.push({
                            from:   (parseFloat(data.attr('highlightsFrom' + u)) || 0) - options.minValue,
                            to:     parseFloat(data.attr('highlightsTo' + u)) - options.minValue,
                            color:  data.attr('highlightsColor' + u)
                        });

                    }
                }
            } else {
                options.highlights = false;
            }

            // convert majorTicks
            var majorTicks = data.attr('majorTicks');

            if (typeof majorTicks === 'string' && majorTicks.indexOf(',') !== -1) {
                majorTicks = majorTicks.split(',');
                for (var m = majorTicks.length - 1; m >= 0; m--) {
                    majorTicks[m] = majorTicks[m].trim();
                }
            } else {
                majorTicks = parseFloat(majorTicks);
                if (majorTicks) {
                    var start = options.minValue;
                    var step = (options.maxValue - options.minValue) / (majorTicks - 1);
                    majorTicks = [];
                    while(start <= options.maxValue) {
                        majorTicks.push(start);
                        start += step;
                    }
                } else {
                    majorTicks = undefined;
                }
            }

            if (!majorTicks) {
                majorTicks = [];
                var start = options.minValue;
                var step = (options.maxValue - options.minValue) / 5;
                while(start <= options.maxValue) {
                    majorTicks.push(start);
                    start += step;
                }
            }

            options.majorTicks = majorTicks;

            if (type === 'radial') {
                vis.binds['canvas-gauges'].radialGauge(view, data, options, $wid);
            } else {
                vis.binds['canvas-gauges'].linearGauge(view, data, options, $wid);
            }

            if (gauge) {
                gauge.update(options);
            } else {
                options.value = options.minValue || 0;
                $wid.html('<canvas class="vis-canvas-gauges"></canvas>');
                options.renderTo = $wid.find('.vis-canvas-gauges')[0];
                if (type === 'radial') {
                    gauge = new RadialGauge(options);
                } else {
                    gauge = new LinearGauge(options);
                }
                $wid.data('gauge', gauge);
                gauge.draw();

                if (vis.editMode && vis.activeWidgets.indexOf(wid) !== -1) {
                    $wid.resizable('destroy');
                    vis.resizable($wid);
                }
            }

            var oid = data.attr('oid');

            if ((oid || oid === 0) && oid !== 'nothing_selected') {
                var val = vis.states.attr(oid + '.val');
                if (val === undefined || val === null) {
                    val = parseFloat(val);
                } else {
                    var updateGauge = function (e, newVal /* , oldVal*/) {
                        gauge.value = parseFloat(newVal) * gauge.options.factor + gauge.options.offset;
                        gauge.update({ valueText: vis.binds['canvas-gauges'].padValue(gauge.value,options) })

                    };

                    // remember all ids, that bound
                    $wid.data('bound', [oid + '.val']);

                    // remember bind handler
                    $wid.data('bindHandler', updateGauge);

                    vis.states.bind(oid + '.val', updateGauge);
                }
                gauge.value = val * gauge.options.factor + gauge.options.offset;
            }

            // register destroy handler
            $wid.data('destroy', vis.binds['canvas-gauges'].gaugeDestroy);
        },

        linearGauge: function (view, data, options, $wid) {
            options.borderRadius = parseFloat($wid.css('border-radius'));
            if (data.attr('barBeginCircle') !== undefined && data.attr('barBeginCircle')    !== '')  options.barBeginCircle = parseFloat(data.attr('barBeginCircle'));
            if (data.attr('barWidth')       !== undefined && data.attr('barWidth')          !== '')  options.barWidth       = parseFloat(data.attr('barWidth'));
            if (data.attr('barLength')      !== undefined && data.attr('barLength')         !== '')  options.barLength      = parseFloat(data.attr('barLength'));
            if (data.attr('barStrokeWidth') !== undefined && data.attr('barStrokeWidth')    !== '')  options.barStrokeWidth = parseFloat(data.attr('barStrokeWidth'));
            if (data.attr('barProgress')    !== undefined && data.attr('barProgress')       !== '')  options.barProgress    = data.attr('barProgress') === 'true' || data.attr('barProgress') === true;

            if (data.attr('colorBarStroke')     !== undefined && data.attr('colorBarStroke')    !== '')  options.colorBarStroke     = data.attr('colorBarStroke');
            if (data.attr('colorBar')           !== undefined && data.attr('colorBar')          !== '')  options.colorBar           = data.attr('colorBar');
            if (data.attr('colorBarEnd')        !== undefined && data.attr('colorBarEnd')       !== '')  options.colorBarEnd        = data.attr('colorBarEnd');
            if (data.attr('colorBarProgress')   !== undefined && data.attr('colorBarProgress')  !== '')  options.colorBarProgress   = data.attr('colorBarProgress');
            if (data.attr('colorBarProgressEnd') !== undefined && data.attr('colorBarProgressEnd') !== '')  options.colorBarProgressEnd = data.attr('colorBarProgressEnd');

            if (data.attr('tickSide')       !== undefined && data.attr('tickSide')      !== '')  options.tickSide       = data.attr('tickSide');
            if (data.attr('needleSide')     !== undefined && data.attr('needleSide')    !== '')  options.needleSide     = data.attr('needleSide');
            if (data.attr('numberSide')     !== undefined && data.attr('numberSide')    !== '')  options.numberSide     = data.attr('numberSide');

            if (data.attr('ticksWidth')      !== undefined && data.attr('ticksWidth')      !== '')  options.ticksWidth      = parseFloat(data.attr('ticksWidth'));
            if (data.attr('ticksWidthMinor') !== undefined && data.attr('ticksWidthMinor') !== '')  options.ticksWidthMinor = parseFloat(data.attr('ticksWidthMinor'));
            if (data.attr('ticksPadding')    !== undefined && data.attr('ticksPadding')    !== '')  options.barBeginCircle  = parseFloat(data.attr('ticksPadding'));
        },
        radialGauge: function (view, data, options, $wid) {
            if (data.attr('ticksAngle') !== undefined && data.attr('ticksAngle')    !== '')  options.ticksAngle = parseFloat(data.attr('ticksAngle'));
            if (data.attr('startAngle')       !== undefined && data.attr('startAngle')          !== '')  options.startAngle       = parseFloat(data.attr('startAngle'));

            if (data.attr('colorNeedleCircleOuter')     !== undefined && data.attr('colorNeedleCircleOuter')    !== '')  options.colorNeedleCircleOuter     = data.attr('colorNeedleCircleOuter');
            if (data.attr('colorNeedleCircleOuterEnd')           !== undefined && data.attr('colorNeedleCircleOuterEnd')          !== '')  options.colorNeedleCircleOuterEnd           = data.attr('colorNeedleCircleOuterEnd');
            if (data.attr('colorNeedleCircleInner')        !== undefined && data.attr('colorNeedleCircleInner')       !== '')  options.colorNeedleCircleInner        = data.attr('colorNeedleCircleInner');
            if (data.attr('colorNeedleCircleInnerEnd')   !== undefined && data.attr('colorNeedleCircleInnerEnd')  !== '')  options.colorNeedleCircleInnerEnd   = data.attr('colorNeedleCircleInnerEnd');

            if (data.attr('needleCircleSize')       !== undefined && data.attr('needleCircleSize')      !== '')  options.needleCircleSize       = parseFloat(data.attr('needleCircleSize'));
            if (data.attr('needleCircleInner')    !== undefined && data.attr('needleCircleInner')       !== '')  options.needleCircleInner    = data.attr('needleCircleInner') === 'true' || data.attr('needleCircleInner') === true;
            if (data.attr('needleCircleOuter')    !== undefined && data.attr('needleCircleOuter')       !== '')  options.needleCircleOuter    = data.attr('needleCircleOuter') === 'true' || data.attr('needleCircleOuter') === true;

            if (data.attr('animationTarget')     !== undefined && data.attr('animationTarget')    !== '')  options.animationTarget     = data.attr('animationTarget');
        }
    };

    if (vis.editMode) {
        vis.binds['canvas-gauges'].changedId = function (widgetID, view, newId/*, fields*/) {
            var obj = vis.objects[newId];
            var changed = [];
            var wData = vis.views[view].widgets[widgetID].data;
            var wwData = vis.widgets[widgetID].data;

            if (obj && obj.common && obj.type === 'state') {
                if (obj.common.min !== undefined && (wData.minValue === undefined || wData.minValue === '')) {
                    wData.minValue = obj.common.min;
                    wwData.minValue = obj.common.min;
                    changed.push('minValue');
                }
                if (obj.common.max !== undefined && (wData.maxValue === undefined || wData.maxValue === '')) {
                    wData.maxValue = obj.common.max;
                    wwData.maxValue = obj.common.max;
                    changed.push('maxValue');
                }
                if (obj.common.unit !== undefined && (wData.units === undefined || wData.units === '')) {
                    wData.units = obj.common.unit;
                    wwData.units = obj.common.unit;
                    changed.push('units');
                }
                if (obj.common.name && (wData.title === undefined || wData.title === '')) {
                    wData.title = obj.common.name;
                    wwData.title = obj.common.name;
                    changed.push('title');
                }
            }

            return changed.length ? changed : null;
        };
    }

    vis.binds['canvas-gauges'].showVersion();
</script>

<!--script id="tplCGlinearGauge"
        type="text/ejs"
        class="vis-tpl"
        data-vis-type="temperature,number"
        data-vis-set="canvas-gauges"
        data-vis-name="Linear"
        data-vis-update-style="true"
        data-vis-prev='<img src="widgets/canvas-gauges/img/prev/Prev_cgLinear.png"></img>'
        data-vis-attrs="oid/id/changedId;minValue;maxValue;units;title;factor[1];valueOffset[0];hCount[1]/slider,0,20,1;"
        data-vis-attrs0="group.highlights/byindex;highlightsFrom(1-hCount);highlightsTo(1-hCount);highlightsColor(1-hCount)/color;"
        data-vis-attrs1="group.ticks;majorTicks/slider,0,20,1;minorTicks/slider,0,20,1;strokeTicks/checkbox;majorTicksInt/slider,0,10,1;majorTicksDec/slider,0,10,1;"
        data-vis-attrs2="group.animation;animation[true]/checkbox;animationDuration/slider,0,2000,50;animationRule/select,linear,quad,quint,cycle,bounce,elastic,dequad,dequint,decycle,debounce,delastic;animatedValue/checkbox;animateOnInit/checkbox;"
        data-vis-attrs3="group.colorsGauge;colorPlate/color;colorPlateEnd/color;colorMajorTicks/color;colorMinorTicks/color;colorTitle/color;colorUnits/color;colorNumbers/color;colorNeedle/color;colorNeedleEnd/color;colorValueText/color;colorValueTextShadow/color;colorBorderShadow/color;colorBorderOuter/color;colorBorderOuterEnd/color;colorBorderMiddle/color;colorBorderMiddleEnd/color;colorBorderInner/color;colorBorderInnerEnd/color;colorValueBoxRect/color;colorValueBoxRectEnd/color;colorValueBoxBackground/color;colorValueBoxShadow/color;colorNeedleShadowUp/color;colorNeedleShadowDown/color;"
        data-vis-attrs4="group.needle;needle/checkbox;needleShadow/checkbox;needleType/select,arrow,line;needleStart/slider,0,20,1;needleEnd/slider,0,20,1;needleWidth/slider,0,20,1;"
        data-vis-attrs5="group.borders;borders[true]/checkbox;borderOuterWidth/slider,0,20,1;borderMiddleWidth/slider,0,20,1;borderInnerWidth/slider,0,20,1;borderShadowWidth/slider,0,20,1;;"
        data-vis-attrs6="group.valueBox;valueBox[false]/checkbox;valueBoxStroke/slider,0,20,1;valueText;valueTextShadow/checkbox;valueBoxBorderRadius/slider,0,20,1;valueInt/slider,0,20,1;valueDec/slider,0,20,1;"
        data-vis-attrs7="group.fonts;fontNumbers/fontname;fontTitle/fontname;fontUnits/fontname;fontValue/fontname;"
        data-vis-attrs8="fontNumbersSize/slider,0,100,1;fontTitleSize/slider,0,100,1;fontUnitsSize/slider,0,100,1;fontValueSize/slider,0,100,1;"
        data-vis-attrs9="fontNumbersStyle/nselect,normal,italic,oblique;fontTitleStyle/nselect,normal,italic,oblique;fontUnitsStyle/nselect,normal,italic,oblique;fontValueStyle/nselect,normal,italic,oblique;"
        data-vis-attrs10="fontNumbersWeight/auto,normal,bold,bolder,lighter;fontTitleWeight/auto,normal,bold,bolder,lighter;fontUnitsWeight/auto,normal,bold,bolder,lighter;fontValueWeight/auto,normal,bold,bolder,lighter;"
>
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible; width: 150px; height: 250px; border-radius: 10px" id="<%= this.data.attr('wid') %>"></div>
    <% vis.binds['canvas-gauges'].gauge(this.view, this.data, 'linear'); %>
</script-->
<script id="tplCGlinearGauge" type="text/ejs" class="vis-tpl" data-vis-type="temperature,number" data-vis-set="canvas-gauges" data-vis-name="Linear" data-vis-update-style="true" data-vis-prev="&lt;img src=&quot;widgets/canvas-gauges/img/prev/Prev_cgLinear.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid/id/changedId;minValue;maxValue;units;title;factor[1];valueOffset[0];hCount[1]/slider,0,20,1;" data-vis-attrs0="group.highlights/byindex;highlightsFrom(1-hCount);highlightsTo(1-hCount);highlightsColor(1-hCount)/color;" data-vis-attrs1="group.ticks;majorTicks/slider,0,20,1;minorTicks[5]/slider,0,20,1;strokeTicks/checkbox;majorTicksInt/slider,0,10,1;majorTicksDec/slider,0,10,1;" data-vis-attrs2="group.animation;animation[true]/checkbox;animationDuration/slider,0,2000,50;animationRule/select,linear,quad,quint,cycle,bounce,elastic,dequad,dequint,decycle,debounce,delastic;animatedValue/checkbox;animateOnInit/checkbox;" data-vis-attrs3="group.colorsGauge;colorPlate/color;colorPlateEnd/color;colorMajorTicks/color;colorMinorTicks/color;colorTitle/color;colorUnits/color;colorNumbers/color;colorNeedle/color;colorNeedleEnd/color;colorValueText/color;colorValueTextShadow/color;colorBorderShadow/color;colorBorderOuter/color;colorBorderOuterEnd/color;colorBorderMiddle/color;colorBorderMiddleEnd/color;colorBorderInner/color;colorBorderInnerEnd/color;colorValueBoxRect/color;colorValueBoxRectEnd/color;colorValueBoxBackground/color;colorValueBoxShadow/color;colorNeedleShadowUp/color;colorNeedleShadowDown/color;" data-vis-attrs4="group.needle;needle/checkbox;needleShadow/checkbox;needleType/select,arrow,line;needleStart/slider,0,100,1;needleEnd/slider,0,100,1;needleWidth/slider,0,50,1;" data-vis-attrs5="group.borders;borders[true]/checkbox;borderOuterWidth/slider,0,20,1;borderMiddleWidth/slider,0,20,1;borderInnerWidth/slider,0,20,1;borderShadowWidth/slider,0,20,1;" data-vis-attrs6="group.valueBox;valueBox[false]/checkbox;valueBoxStroke/slider,0,20,1;valueText;valueTextShadow/checkbox;valueBoxBorderRadius/slider,0,20,1;valueInt/slider,0,20,1;valueDec/slider,0,20,1;" data-vis-attrs7="group.fonts;fontNumbers/fontname;fontTitle/fontname;fontUnits/fontname;fontValue/fontname;" data-vis-attrs8="fontNumbersSize/slider,0,100,1;fontTitleSize/slider,0,100,1;fontUnitsSize/slider,0,100,1;fontValueSize/slider,0,100,1;" data-vis-attrs9="fontNumbersStyle/nselect,normal,italic,oblique;fontTitleStyle/nselect,normal,italic,oblique;fontUnitsStyle/nselect,normal,italic,oblique;fontValueStyle/nselect,normal,italic,oblique;" data-vis-attrs10="fontNumbersWeight/auto,normal,bold,bolder,lighter;fontTitleWeight/auto,normal,bold,bolder,lighter;fontUnitsWeight/auto,normal,bold,bolder,lighter;fontValueWeight/auto,normal,bold,bolder,lighter;" data-vis-attrs11="group.gaugeBar;barBeginCircle/slider,0,360,1;barWidth/slider,0,50,1;barLength/slider,0,100,1;barStrokeWidth/slider,0,50,0;barProgress[true]/checkbox;" data-vis-attrs12="group.colorsBar;colorBarStroke/color;colorBar/color;colorBarEnd/color;colorBarProgress/color;colorBarProgressEnd/color;" data-vis-attrs13="group.positions;tickSide/select,both,left,right;needleSide/select,both,left,right;numberSide/select,both,left,right;" data-vis-attrs14="group.ticksBar;ticksWidth/slider,0,50,1;ticksWidthMinor/slider,0,50,1;ticksPadding/slider,0,50,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible; width: 150px; height: 250px; border-radius: 10px" id="<%= this.data.attr('wid') %>"></div>
    <% vis.binds['canvas-gauges'].gauge(this.view, this.data, 'linear'); %>
</script>

<script id="tplCGradialGauge" type="text/ejs" class="vis-tpl" data-vis-type="number" data-vis-set="canvas-gauges" data-vis-name="Radial" data-vis-update-style="true" data-vis-prev="&lt;img src=&quot;widgets/canvas-gauges/img/prev/Prev_cgRadial.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid/id/changedId;minValue;maxValue;units;title;factor[1];valueOffset[0];hCount[1]/slider,0,20,1;" data-vis-attrs0="group.highlights/byindex;highlightsFrom(1-hCount);highlightsTo(1-hCount);highlightsColor(1-hCount)/color;" data-vis-attrs1="group.ticks;majorTicks/slider,0,20,1;minorTicks[4]/slider,0,20,1;strokeTicks/checkbox;majorTicksInt/slider,0,10,1;majorTicksDec/slider,0,10,1;" data-vis-attrs2="group.animation;animation[true]/checkbox;animationDuration/slider,0,2000,50;animationRule/select,linear,quad,quint,cycle,bounce,elastic,dequad,dequint,decycle,debounce,delastic;animatedValue/checkbox;animateOnInit/checkbox;animationTarget/select,needle,plate;" data-vis-attrs3="group.colorsGauge;colorPlate/color;colorPlateEnd/color;colorMajorTicks/color;colorMinorTicks/color;colorTitle/color;colorUnits/color;colorNumbers/color;colorNeedle/color;colorNeedleEnd/color;colorValueText/color;colorValueTextShadow/color;colorBorderShadow/color;colorBorderOuter/color;colorBorderOuterEnd/color;colorBorderMiddle/color;colorBorderMiddleEnd/color;colorBorderInner/color;colorBorderInnerEnd/color;colorValueBoxRect/color;colorValueBoxRectEnd/color;colorValueBoxBackground/color;colorValueBoxShadow/color;colorNeedleShadowUp/color;colorNeedleShadowDown/color;" data-vis-attrs4="group.needle;needle[true]/checkbox;needleShadow[true]/checkbox;needleType[select]/select,arrow,line;needleStart/slider,0,100,1;needleEnd/slider,0,100,1;needleWidth/slider,0,50,1;" data-vis-attrs5="group.borders;borders[true]/checkbox;borderOuterWidth[2]/slider,0,20,1;borderMiddleWidth[2]/slider,0,20,1;borderInnerWidth[2]/slider,0,20,1;borderShadowWidth[2]/slider,0,20,1;" data-vis-attrs6="group.valueBox;valueBox[false]/checkbox;valueBoxStroke/slider,0,20,1;valueText;valueTextShadow/checkbox;valueBoxBorderRadius/slider,0,20,1;valueInt/slider,0,20,1;valueDec/slider,0,20,1;" data-vis-attrs7="group.fonts;fontNumbers/fontname;fontTitle/fontname;fontUnits/fontname;fontValue/fontname;" data-vis-attrs8="fontNumbersSize/slider,0,100,1;fontTitleSize/slider,0,100,1;fontUnitsSize/slider,0,100,1;fontValueSize/slider,0,100,1;" data-vis-attrs9="fontNumbersStyle/nselect,normal,italic,oblique;fontTitleStyle/nselect,normal,italic,oblique;fontUnitsStyle/nselect,normal,italic,oblique;fontValueStyle/nselect,normal,italic,oblique;" data-vis-attrs10="fontNumbersWeight/auto,normal,bold,bolder,lighter;fontTitleWeight/auto,normal,bold,bolder,lighter;fontUnitsWeight/auto,normal,bold,bolder,lighter;fontValueWeight/auto,normal,bold,bolder,lighter;" data-vis-attrs11="group.gaugeRadial;ticksAngle[270]/slider,0,360,1;startAngle[45]/slider,0,360,1;" data-vis-attrs12="group.colorsRadial;colorNeedleCircleOuter/color;colorNeedleCircleOuterEnd/color;colorNeedleCircleInner/color;colorNeedleCircleInnerEnd/color;" data-vis-attrs13="group.needleRadial;needleCircleSize/slider,0,200,1;needleCircleInner/checkbox;needleCircleInner/checkbox;needleCircleOuter/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible; width: 200px; height: 200px;" id="<%= this.data.attr('wid') %>"></div>
    <% vis.binds['canvas-gauges'].gauge(this.view, this.data, 'radial'); %>
</script>

<script id="tplCGCompas" type="text/ejs" class="vis-tpl" data-vis-type="number" data-vis-set="canvas-gauges" data-vis-name="Compas" data-vis-update-style="true" data-vis-prev="&lt;img src=&quot;widgets/canvas-gauges/img/prev/Prev_cgCompas.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid/id/changedId;minValue[0];maxValue[360];units;title;factor[1];valueOffset[0];hCount[1]/slider,0,20,1;" data-vis-attrs0="group.highlights/byindex;highlightsFrom(1-hCount);highlightsTo(1-hCount);highlightsColor(1-hCount)/color;" data-vis-attrs1="group.ticks;majorTicks[N,NE,E,SE,S,SW,W,NW,N];minorTicks[22]/slider,0,20,1;strokeTicks[false]/checkbox;majorTicksInt/slider,0,10,1;majorTicksDec/slider,0,10,1;" data-vis-attrs2="group.animation;animation[true]/checkbox;animationDuration[1000]/slider,0,2000,50;animationRule/select,linear,quad,quint,cycle,bounce,elastic,dequad,dequint,decycle,debounce,delastic;animatedValue/checkbox;animateOnInit/checkbox;animationTarget/select,needle,plate;" data-vis-attrs3="group.colorsGauge;colorPlate[#222]/color;colorPlateEnd/color;colorMajorTicks[#f5f5f5]/color;colorMinorTicks[#ddd]/color;colorTitle/color;colorUnits/color;colorNumbers[#ccc]/color;colorNeedle[rgba(240,128,128,1)]/color;colorNeedleEnd[rgba(255,160,122,.9)]/color;colorValueText/color;colorValueTextShadow/color;colorBorderShadow/color;colorBorderOuter[#ccc]/color;colorBorderOuterEnd[#ccc]/color;colorBorderMiddle/color;colorBorderMiddleEnd/color;colorBorderInner/color;colorBorderInnerEnd/color;colorValueBoxRect/color;colorValueBoxRectEnd/color;colorValueBoxBackground/color;colorValueBoxShadow/color;colorNeedleShadowUp/color;colorNeedleShadowDown[#222]/color;" data-vis-attrs4="group.needle;needle/checkbox;needleShadow/checkbox;needleType[line]/select,arrow,line;needleStart[75]/slider,0,100,1;needleEnd[99]/slider,0,100,1;needleWidth[3]/slider,0,50,1;" data-vis-attrs5="group.borders;borders[true]/checkbox;borderOuterWidth[10]/slider,0,20,1;borderMiddleWidth[0]/slider,0,20,1;borderInnerWidth[0]/slider,0,20,1;borderShadowWidth[0]/slider,0,20,1;" data-vis-attrs6="group.valueBox;valueBox[false]/checkbox;valueBoxStroke/slider,0,20,1;valueText;valueTextShadow[false]/checkbox;valueBoxBorderRadius/slider,0,20,1;valueInt/slider,0,20,1;valueDec/slider,0,20,1;" data-vis-attrs7="group.fonts;fontNumbers/fontname;fontTitle/fontname;fontUnits/fontname;fontValue/fontname;" data-vis-attrs8="fontNumbersSize/slider,0,100,1;fontTitleSize/slider,0,100,1;fontUnitsSize/slider,0,100,1;fontValueSize/slider,0,100,1;" data-vis-attrs9="fontNumbersStyle/nselect,normal,italic,oblique;fontTitleStyle/nselect,normal,italic,oblique;fontUnitsStyle/nselect,normal,italic,oblique;fontValueStyle/nselect,normal,italic,oblique;" data-vis-attrs10="fontNumbersWeight/auto,normal,bold,bolder,lighter;fontTitleWeight/auto,normal,bold,bolder,lighter;fontUnitsWeight/auto,normal,bold,bolder,lighter;fontValueWeight/auto,normal,bold,bolder,lighter;" data-vis-attrs11="group.gaugeRadial;ticksAngle[360]/slider,0,360,1;startAngle[180]/slider,0,360,1;" data-vis-attrs12="group.colorsRadial;colorNeedleCircleOuter[#ccc]/color;colorNeedleCircleOuterEnd/color;colorNeedleCircleInner/color;colorNeedleCircleInnerEnd/color;" data-vis-attrs13="group.needleRadial;needleCircleSize[15]/slider,0,200,1;needleCircleInner/checkbox;needleCircleInner/checkbox;needleCircleOuter[false]/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible; width: 200px; height: 200px;" id="<%= this.data.attr('wid') %>"></div>
    <% vis.binds['canvas-gauges'].gauge(this.view, this.data, 'radial'); %>
</script>

<script id="tplCGflatGauge" type="text/ejs" class="vis-tpl" data-vis-type="temperature,number" data-vis-set="canvas-gauges" data-vis-name="Flat" data-vis-update-style="true" data-vis-prev="&lt;img src=&quot;widgets/canvas-gauges/img/prev/Prev_cgFlat.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid/id/changedId;minValue;maxValue;units;title;factor[1];valueOffset[0];hCount[1]/slider,0,20,1;" data-vis-attrs0="group.highlights/byindex;highlightsFrom(1-hCount);highlightsTo(1-hCount);highlightsColor(1-hCount)/color;" data-vis-attrs1="group.ticks;majorTicks/slider,0,20,1;minorTicks[10]/slider,0,20,1;strokeTicks[true]/checkbox;majorTicksInt/slider,0,10,1;majorTicksDec/slider,0,10,1;" data-vis-attrs2="group.animation;animation[true]/checkbox;animationDuration/slider,0,2000,50;animationRule/select,linear,quad,quint,cycle,bounce,elastic,dequad,dequint,decycle,debounce,delastic;animatedValue/checkbox;animateOnInit/checkbox;" data-vis-attrs3="group.colorsGauge;colorPlate[#fff]/color;colorPlateEnd/color;colorMajorTicks/color;colorMinorTicks/color;colorTitle/color;colorUnits/color;colorNumbers/color;colorNeedle[red]/color;colorNeedleEnd[rgba(255,0,0,0.7)]/color;colorValueText/color;colorValueTextShadow/color;colorBorderShadow/color;colorBorderOuter/color;colorBorderOuterEnd/color;colorBorderMiddle/color;colorBorderMiddleEnd/color;colorBorderInner/color;colorBorderInnerEnd/color;colorValueBoxRect/color;colorValueBoxRectEnd/color;colorValueBoxBackground/color;colorValueBoxShadow/color;colorNeedleShadowUp/color;colorNeedleShadowDown/color;" data-vis-attrs4="group.needle;needle/checkbox;needleShadow/checkbox;needleType[line]/select,arrow,line;needleStart/slider,0,100,1;needleEnd/slider,0,100,1;needleWidth[3]/slider,0,50,1;" data-vis-attrs5="group.borders;borders[false]/checkbox;borderOuterWidth[0]/slider,0,20,1;borderMiddleWidth[0]/slider,0,20,1;borderInnerWidth[0]/slider,0,20,1;borderShadowWidth[0]/slider,0,20,1;;" data-vis-attrs6="group.valueBox;valueBox[false]/checkbox;valueBoxStroke/slider,0,20,1;valueText;valueTextShadow/checkbox;valueBoxBorderRadius/slider,0,20,1;valueInt/slider,0,20,1;valueDec/slider,0,20,1;" data-vis-attrs7="group.fonts;fontNumbers/fontname;fontTitle/fontname;fontUnits/fontname;fontValue/fontname;" data-vis-attrs8="fontNumbersSize/slider,0,100,1;fontTitleSize/slider,0,100,1;fontUnitsSize/slider,0,100,1;fontValueSize/slider,0,100,1;" data-vis-attrs9="fontNumbersStyle/nselect,normal,italic,oblique;fontTitleStyle/nselect,normal,italic,oblique;fontUnitsStyle/nselect,normal,italic,oblique;fontValueStyle/nselect,normal,italic,oblique;" data-vis-attrs10="fontNumbersWeight/auto,normal,bold,bolder,lighter;fontTitleWeight/auto,normal,bold,bolder,lighter;fontUnitsWeight/auto,normal,bold,bolder,lighter;fontValueWeight/auto,normal,bold,bolder,lighter;" data-vis-attrs11="group.gaugeBar;barBeginCircle[0]/slider,0,360,1;barWidth[5]/slider,0,50,1;barLength/slider,0,100,1;barStrokeWidth/slider,0,50,0;barProgress[true]/checkbox;" data-vis-attrs12="group.colorsBar;colorBarStroke/color;colorBar/color;colorBarEnd/color;colorBarProgress[#db9994]/color;colorBarProgressEnd/color;" data-vis-attrs13="group.positions;tickSide[left]/select,both,left,right;needleSide[left]/select,both,left,right;numberSide[left]/select,both,left,right;" data-vis-attrs14="group.ticksBar;ticksWidth[50]/slider,0,50,1;ticksWidthMinor[15]/slider,0,50,1;ticksPadding/slider,0,50,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible; width: 360px; height: 100px;" id="<%= this.data.attr('wid') %>"></div>
    <% vis.binds['canvas-gauges'].gauge(this.view, this.data, 'linear'); %>
</script>
 

<!-- --------------canvas-gauges.html--- END -->
<!-- --------------chromecast.html--- START -->
<!--
    ioBroker.chromecast Widget-Set

    version: "2.0.0"

    Copyright 10.2015-2018 Vegetto<iobroker@angelnu.com>
-->
<!-- here you can include so many css as you want -->
<link rel="stylesheet" href="./vis_files/style.css">
<!-- here you can include so many js-files as you want -->
<script type="text/javascript" src="./vis_files/chromecast.js"></script>

<!-- the full description of format in data-vis-attrs can be found here: 
    https://github.com/ioBroker/ioBroker.vis/blob/master/www/js/visEditInspect.js#L39 
	
    ----------------------------------------------------------	
	Mandatory XML attributes:
		id="tplChromecastWIDGETNAME"
        type="text/ejs"
        class="vis-tpl"
		
		"type" and "class" are always the same. "id" is unique and must start with "tplSETNAME" and ends with widget name. Use camel-case for it.
		
    ----------------------------------------------------------	
	data-vis-attrs - divided with semicolon the list of attributes, like attr1/id;attr2/color
		Full format of one attribute is: attr_name(start-end)[default_value]/type,idFilter/onChangeFunc
			attr_name - the name of the attribute, e.g. "myID"
			start-end - creates automatically attributes from attr_namestart to attr_nameend, like "myID(1-3)" creates myID1, myID2, myID3
			default_value - by creation of widget this attribute will be filled with this value, e.g. "myID[#001122]/color"
			type - some predefined types have edit helpers, else it will be shown as text field
		
				Type format: 
					  id - Object ID Dialog
					  checkbox
					  image - image
					  number,min,max,step - non-float number. min,max,step are optional
					  color - color picker
					  views - Name of the view
					  effect - jquery UI show/hide effects
					  eff_opt - additional option to effect slide (up, down, left, right)
					  fontName - Font name
					  slider,min,max,step - Default step is ((max - min) / 100)
					  select,value1,value2,... - dropdown select
					  nselect,value1,value2,... - same as select, but without translation of items
					  style,fileFilter,nameFilter,attrFilter
					  custom,functionName,options,... - custom editor - functionName is starting from vis.binds.[widgetset.funct]. E.g. custom/timeAndWeather.editWeather,short
					  group.name - define new or old group. All following attributes belongs to new group till new group.xyz
					  group.name/byindex - like group, but all following attributes will be grouped by ID. Like group.windows/byindex;slide(1-4)/id;slide_type(1-4)/select,open,closed  Following groups will be created Windows1(slide1,slide_type1), Windows2(slide2,slide_type2), Windows3(slide3,slide_type3), Windows4(slide4,slide_type4)
					  text - dialog box with text editor
					  html - dialog box with html editor
				
				If type is "id", you can define filter for "Select ID Dialog", like "myID/id,level.temperature".
				Additionally you can define callback(onChangeFunc), which will be called if this attribute was changed by user for different purposes: validate entry, fill other attributes, ...
				
		You can define additional data-vis-attrs line: data-vis-attrs0, data-vis-attrs1. Anyway data-vis-attrs must be there. You may not skip numbers. 
		E.g. in "data-vis-attrs="A;" data-vis-attrs1="B" attribute B will be not parsed.
				
	--------------------------------------------------------
	data-vis-type
		Help information for user. Used for search. 
		You can define more than one type divided by comma.
		There are following common types, but you can use your own specific types:
			ctrl   - widget that can write some Object IDs
			val    - widget that shows some information from Object IDs
			static - widget do not read information from Object IDs or URL
			button - button widget
			dimmer - dimmer widget
			weather - weather widget
			...
			
	--------------------------------------------------------
	data-vis-set
		Name of the widget set. Must be equal to the name of this HTML file

	--------------------------------------------------------
	data-vis-prev
		Html code used as preview of this widget. If widget is complex you can just use image as preview: 
		data-vis-prev='<img src="widgets/hqwidgets/img/prev/Prev_tplChromecastShowInstance.png"></img>'
		Of course the image must exist.

	--------------------------------------------------------
	data-vis-name
		Readable name of widget shown in vis editor. 

	--------------------------------------------------------
	data-vis-beta="true"
		Shows "BETA" symbol in vis editor by preview
		
	--------------------------------------------------------
	data-vis-update-style="true"
		Call redraw of widget if some of the CSS styles in editor for this widget was changed


	You can read about Magic tags here: http://canjs.com/guides/EJS.html
	Following magic are exist:
        <% %> - execute javascript
        <%== %> - place unescaped result to HTML document
        <%== %> - place escaped result to HTML document

    You can do "if" conditions and "for" cycles.

-->

<script id="tplChromecastDevice" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplChromecastDevice&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;overflow: visible; width: 340px; height: 210px; left: 17px; top: 13px; position: absolute;&quot; &gt; &lt;select class=&quot;chromecastDeviceSelector&quot;&gt;&lt;option value=&quot;1&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-all&lt;/option&gt;&lt;option value=&quot;2&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-bedroom&lt;/option&gt;&lt;option value=&quot;3&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-guestroom&lt;/option&gt;&lt;option value=&quot;4&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-kids&lt;/option&gt;&lt;option value=&quot;5&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-kitchen&lt;/option&gt;&lt;option value=&quot;6&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-livingroom&lt;/option&gt;&lt;option value=&quot;7&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-playroom&lt;/option&gt;&lt;option value=&quot;8&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;audio-workroom&lt;/option&gt;&lt;option value=&quot;9&quot; class=&quot;chromecastDeviceSelectorValue&quot;&gt;video-kitchen&lt;/option&gt;&lt;/select&gt;&lt;div class=&quot;chromecastDevice_1 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_2 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;Default Media Receiver&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;Now Casting: Anime - Decisive Battle&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_3 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;TuneIn Pro&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;Ready to play&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_4 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;Default Media Receiver&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;Now Casting: http://edge.live.mp3.mdn.newmedia.nacamar.net/ps-dieneue_rock/livestream_hi.mp3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;THE ALL-AMERICAN REJECTS - GIVES YOU HELL&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_5 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;TuneIn Pro&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;Ready to play&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_6 chromecastDevice_div&quot; style=&quot;display: block;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;Default Media Receiver&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;Now Casting: FOOLS GARDEN - LEMON TREE&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;PLAYING&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;http://edge.live.mp3.mdn.newmedia.nacamar.net/ps-dieneue_rock/livestream_hi.mp3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;THE ALL-AMERICAN REJECTS - GIVES YOU HELL&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_7 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;Default Media Receiver&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;Now Casting: MANOWAR - KINGDOM COME&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;PLAYING&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;http://edge.live.mp3.mdn.newmedia.nacamar.net/ps-dieneue_rock/livestream_hi.mp3&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;THE ALL-AMERICAN REJECTS - GIVES YOU HELL&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_8 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;chromecastDevice_9 chromecastDevice_div&quot; style=&quot;display: none;&quot;&gt;&lt;p&gt;&lt;input class=&quot;chromecastConnected&quot; type=&quot;checkbox&quot;&gt;Connected&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastVolume&quot; type=&quot;range&quot; min=&quot;0&quot; max=&quot;100&quot;&gt;Volume&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastMuted&quot; type=&quot;checkbox&quot;&gt;Muted&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPlaying&quot; type=&quot;checkbox&quot;&gt;Playing&lt;/p&gt;&lt;p&gt;&lt;input class=&quot;chromecastPaused&quot; type=&quot;checkbox&quot;&gt;Paused&lt;/p&gt;&lt;p&gt;url2play: &lt;/p&gt;&lt;form&gt;&lt;input class=&quot;chromecastUrl2play&quot; type=&quot;url&quot;&gt;&lt;/form&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastDisplayName&quot;&gt;Backdrop&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span class=&quot;chromecastPlayerDescription&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Status: &lt;span class=&quot;chromecastPlayerState&quot;&gt;STOP&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Playing URL: &lt;span class=&quot;chromecastPlayerURL&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;p&gt;Title: &lt;span class=&quot;chromecastMetadataTitle&quot;&gt;Unknown&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="nDevs[1]/number,1; selDev[1]/number,1,nDevs;" data-vis-attrs0="oid_dev_(1-nDevs)/id,device/oidChanged;" data-vis-attrs1="group.device/byindex;" data-vis-attrs2="oid_connected_(1-nDevs)/id/oidChanged;" data-vis-attrs3="oid_volume_(1-nDevs)/id/oidChanged;" data-vis-attrs4="oid_muted_(1-nDevs)/id/oidChanged;" data-vis-attrs5="oid_playing_(1-nDevs)/id/oidChanged;" data-vis-attrs6="oid_paused_(1-nDevs)/id/oidChanged;" data-vis-attrs7="oid_url2play_(1-nDevs)/id/oidChanged;" data-vis-attrs8="oid_playerState_(1-nDevs)/id/oidChanged;" data-vis-attrs9="oid_title_(1-nDevs)/id/oidChanged;" data-vis-attrs10="oid_url_(1-nDevs)/id/oidChanged;" data-vis-attrs11="oid_displayName_(1-nDevs)/id/oidChanged;" data-vis-attrs12="oid_statusText_(1-nDevs)/id/oidChanged;" data-vis-set="chromecast" data-vis-type="ctr,val,button" data-vis-name="Chomecast dev">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 230px; height: 210px" id="<%= this.data.attr('wid') %>" >
        <% vis.binds.chromecast.device.init(this.data.wid, this.view, this.data, this.style); %>
    </div>
</script>



<!-- --------------chromecast.html--- END -->
<!-- --------------colorpicker.html--- START -->
<!--
    ioBroker.vis colorpicker Widget-Set

    version: "2.0.3"

    Copyright 2013-2023 hobbyquaker https://github.com/hobbyquaker, bluefox https://github.com/GermanBluefox
-->

<link rel="stylesheet" type="text/css" href="./vis_files/farbtastic.css">
<link rel="stylesheet" type="text/css" href="./vis_files/spectrum.css">

<script type="text/javascript">
    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "red-oid": {"en": "Red ID", "de": "Rot ID", "ru": "Красный ID"},
            "green-oid": {"en": "Green ID", "de": "Grün ID", "ru": "Зелёный ID"},
            "blue-oid": {"en": "Blue ID", "de": "Blau ID", "ru": "Синий ID"},
            "divisor": {"en": "divisor", "de": "Divisor", "ru": "Делитель"},
            "decimal": {"en": "Precision", "de": "Nach Komma", "ru": "Чисел посля запятой"},
            "command-oid": {"en": "Command ID", "de": "Command ID", "ru": "Command ID"},
            "xy-oid": {"en": "XY ID", "de": "XY ID", "ru": "XY ID"},
            "level-oid": {"en": "Level ID", "de": "Level ID", "ru": "Level ID"},
            "gamut": {"en": "Gamut/Model", "de": "Gamut/Model", "ru": "Gamut/Model"},
            "gamut_tooltip": {
                "en": "Gamut ID (A,B,C) or Model ID (LCT001 etc.)",
                "de": "Gamut ID (A,B,C) oder Model ID (LCT001 usw.)",
                "ru": "Gamut ID (A,B,C) or Model ID (LCT001 etc.)"
            },
            "transitionTime": {"en": "Transition Time", "de": "Übergangszeit", "ru": "Transition Time"},
            "transitionTime_tooltip": {
                "en": "Transition time in 1/10s",
                "de": "Übergangszeit in 1/10s",
                "ru": "Transition time in 1/10s"
            },
            "pickerBackground": {"en": "Background Color", "de": "Hintergrundfarbe", "ru": "Background Color"},
            "pickerWidth": {"en": "Picker Width", "de": "Farbwahl Breite", "ru": "Picker Width"},
            "pickerHeight": {"en": "Picker Height", "de": "Farbwahl Höhe", "ru": "Picker Height"},
            "buttonName": {"en": "Button Text", "de": "Buttontext", "ru": "Button Text"},
            "closeButton": {"en": "Close button", "de": "Schließen Button", "ru": "Close button"},
            "group_rgb": {"en": "R.G.B.", "de": "R.G.B.", "ru": "R.G.B."},
            "rgb-oid": {"en": "RGB ID", "de": "RGB ID", "ru": "RGB ID"},
            "group_hue": {"en": "H.S.L.", "de": "H.S.L.", "ru": "H.S.L."},
            "hue-oid": {"en": "HUE ID", "de": "HUE ID", "ru": "HUE ID"},
            "sat-oid": {"en": "Saturation ID", "de": "Sättigung ID", "ru": "ID Насыщенность"},
            "bri-oid": {"en": "Brightness ID", "de": "Helligkeit ID", "ru": "ID Яркость"}
        });
    }

    vis.binds.colorpicker = {
        version: "2.0.3",
        loadedJS: {},
        loadJS: function (url, cb) {
            if (vis.binds.colorpicker.loadedJS[url]) {
                if (vis.binds.colorpicker.loadedJS[url] === true) {
                    cb && cb();
                } else {
                    vis.binds.colorpicker.loadedJS[url].push(cb);
                }
                return;
            }
            vis.binds.colorpicker.loadedJS[url] = [cb];

            let scriptEle = document.createElement('script');

            scriptEle.setAttribute('src', url);
            scriptEle.setAttribute('type', 'text/javascript');

            document.body.appendChild(scriptEle);

            // success event
            scriptEle.addEventListener('load', function () {
                vis.binds.colorpicker.loadedJS[url].forEach(function (cb) {
                    try {
                        cb && cb();
                    } catch (e) {
                        console.error('Error on loading "' + url + '" file', e);
                    }
                });
                vis.binds.colorpicker.loadedJS[url] = true;
            });
            // error event
            scriptEle.addEventListener('error', function (ev) {
                console.log('Error on loading "' + url + '" file', ev);
            });
        },
        showVersion: function () {
            if (vis.binds.colorpicker.version) {
                console.log('Version vis-colorpicker: ' + vis.binds.colorpicker.version);
                vis.binds.colorpicker.version = null;
            }
        },
        _inited: false,
        init: function () {
            if (!vis.binds.colorpicker._inited) {
                vis.binds.colorpicker._inited = true;

                var localization;
                if (vis.language === 'de') {
                    localization = $.spectrum.localization.de = {
                        cancelText: 'Abbrechen',
                        chooseText: 'Wählen',
                        clearText: 'Farbauswahl zurücksetzen',
                        noColorSelectedText: 'Keine Farbe ausgewählt',
                        togglePaletteMoreText: 'Mehr',
                        togglePaletteLessText: 'Weniger'
                    };
                    $.extend($.fn.spectrum.defaults, localization);
                } else if (vis.language === 'ru') {
                    localization = $.spectrum.localization.ru = {
                        cancelText: 'отмена',
                        chooseText: 'выбрать',
                        clearText: 'сбросить',
                        noColorSelectedText: 'никакой цвет не выбран',
                        togglePaletteMoreText: 'больше',
                        togglePaletteLessText: 'меньше'
                    };
                    $.extend($.fn.spectrum.defaults, localization);
                }
            }
        },
        jscolor: function (el, data) {
            vis.binds.colorpicker.loadJS('widgets/colorpicker/js/jscolor.js', function () {
                data = data._data || data;
                var $this = $(el);
                var handler = [];
                var factor = parseFloat(data.factor) || 1;
                var decimal = parseInt(data.decimal || 0, 10) || 0;

                var picker = new window.jscolor($this[0], {
                    valueElement: data.showValue || false,
                    onFineChange: function () {
                        for (var h = 0; h < handler.length; h++) {
                            handler[h]();
                        }
                    },
                    closable: !!data.closeText,
                    closeText: data.closeText
                });

                $this.click(function () {
                    picker.show();
                });

                if (data['hue-oid'] && data['hue-oid'] !== 'nothing_selected' &&
                    data['sat-oid'] && data['sat-oid'] !== 'nothing_selected' &&
                    data['bri-oid'] && data['bri-oid'] !== 'nothing_selected'
                ) {
                    var hue = data['hue-oid'];
                    var sat = data['sat-oid'];
                    var bri = data['bri-oid'];

                    handler.push(function () {
                        vis.setValue(hue, parseFloat(picker.hsv[0]).toFixed(decimal));
                        vis.setValue(sat, parseFloat((picker.hsv[1] / factor).toFixed(decimal)));
                        vis.setValue(bri, parseFloat((picker.hsv[2] / factor).toFixed(decimal)));
                    });

                    var htimer = null;
                    var hueChanged = function () {
                        if (htimer) clearTimeout(htimer);
                        htimer = setTimeout(function () {
                            htimer = null;
                            picker.fromHSV(
                                Math.round(parseFloat(vis.states[hue + '.val'] || 0)),
                                Math.round(parseFloat(vis.states[sat + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[bri + '.val'] || 0) * factor)
                            );
                        }, 10);
                    };

                    vis.states.bind(hue + '.val', hueChanged);
                    vis.states.bind(sat + '.val', hueChanged);
                    vis.states.bind(bri + '.val', hueChanged);

                    hueChanged();
                }
                if (data['red-oid'] && data['red-oid'] !== 'nothing_selected' &&
                    data['green-oid'] && data['green-oid'] !== 'nothing_selected' &&
                    data['blue-oid'] && data['blue-oid'] !== 'nothing_selected'
                ) {
                    var r = data['red-oid'];
                    var g = data['green-oid'];
                    var b = data['blue-oid'];

                    handler.push(function () {
                        vis.setValue(r, parseFloat((picker.rgb[0] / factor).toFixed(decimal)));
                        vis.setValue(g, parseFloat((picker.rgb[1] / factor).toFixed(decimal)));
                        vis.setValue(b, parseFloat((picker.rgb[2] / factor).toFixed(decimal)));
                    });

                    var timer = null;
                    var rgbChanged = function () {
                        if (timer) clearTimeout(timer);
                        timer = setTimeout(function () {
                            timer = null;
                            picker.fromRGB(
                                Math.round(parseFloat(vis.states[r + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[g + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[b + '.val'] || 0) * factor)
                            );
                        }, 10);
                    };

                    vis.states.bind(r + '.val', rgbChanged);
                    vis.states.bind(g + '.val', rgbChanged);
                    vis.states.bind(b + '.val', rgbChanged);

                    rgbChanged();
                }
                if (data['rgb-oid'] && data['rgb-oid'] !== 'nothing_selected') {
                    var rgb = data['rgb-oid'];

                    handler.push(function () {
                        vis.setValue(rgb, picker.toHEXString());
                    });

                    var _rgbChanged = function () {
                        picker.fromString(vis.states[rgb + '.val'] || '');
                    };

                    vis.states.bind(rgb + '.val', _rgbChanged);

                    _rgbChanged();
                }
            });
        },
        rgb2hex: function (r, g, b) {
            return '#' + ('0' + r.toString(16)).slice(-2) + ('0' + g.toString(16)).slice(-2) + ('0' + b.toString(16)).slice(-2);
        },
        hex2rgb: function (hex) {
            var r = parseInt(hex.substr(1, 2), 16);
            var g = parseInt(hex.substr(3, 2), 16);
            var b = parseInt(hex.substr(5, 2), 16);
            return {r: r, g: g, b: b};
        },
        farbtastic: function (el, data) {
            var $this = $(el);
            $this.hide();
            vis.binds.colorpicker.loadJS('widgets/colorpicker/js/farbtastic.js', function () {
                data = data._data || data;
                var handler = [];
                var factor = parseFloat(data.factor) || 1;
                var decimal = parseInt(data.decimal || 0, 10) || 0;

                var ft = $.farbtastic($this.prev(), function () {
                    for (var h = 0; h < handler.length; h++) {
                        handler[h](this.color);
                    }
                });

                if (data['hue-oid'] && data['hue-oid'] !== 'nothing_selected' &&
                    data['sat-oid'] && data['sat-oid'] !== 'nothing_selected' &&
                    data['bri-oid'] && data['bri-oid'] !== 'nothing_selected') {
                    var hue = data['hue-oid'];
                    var sat = data['sat-oid'];
                    var bri = data['bri-oid'];

                    handler.push(function (hex) {
                        vis.setValue(hue, parseFloat(picker.hsv[0]).toFixed(decimal));
                        vis.setValue(sat, parseFloat((picker.hsv[1] / factor).toFixed(decimal)));
                        vis.setValue(bri, parseFloat((picker.hsv[2] / factor).toFixed(decimal)));
                    });

                    var htimer = null;
                    var hueChanged = function () {
                        if (htimer) clearTimeout(htimer);
                        htimer = setTimeout(function () {
                            htimer = null;
                            ft.setColor(vis.binds.colorpicker.rgb2hex(
                                Math.round(parseFloat(vis.states[hue + '.val'] || 0)),
                                Math.round(parseFloat(vis.states[sat + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[bri + '.val'] || 0) * factor)
                            ));
                        }, 10);
                    };

                    vis.states.bind(hue + '.val', hueChanged);
                    vis.states.bind(sat + '.val', hueChanged);
                    vis.states.bind(bri + '.val', hueChanged);

                    hueChanged();
                }
                if (data['red-oid'] && data['red-oid'] !== 'nothing_selected' &&
                    data['green-oid'] && data['green-oid'] !== 'nothing_selected' &&
                    data['blue-oid'] && data['blue-oid'] !== 'nothing_selected') {
                    var r = data['red-oid'];
                    var g = data['green-oid'];
                    var b = data['blue-oid'];

                    handler.push(function (hex) {
                        var color = vis.binds.colorpicker.hex2rgb(hex);
                        vis.setValue(r, parseFloat((color.r / factor).toFixed(decimal)));
                        vis.setValue(g, parseFloat((color.g / factor).toFixed(decimal)));
                        vis.setValue(b, parseFloat((color.b / factor).toFixed(decimal)));
                    });

                    var timer = null;
                    var rgbChanged = function () {
                        if (timer) clearTimeout(timer);
                        timer = setTimeout(function () {
                            timer = null;
                            ft.setColor(vis.binds.colorpicker.rgb2hex(
                                Math.round(parseFloat(vis.states[r + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[g + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[b + '.val'] || 0) * factor)
                            ));
                        }, 10);
                    };

                    vis.states.bind(r + '.val', rgbChanged);
                    vis.states.bind(g + '.val', rgbChanged);
                    vis.states.bind(b + '.val', rgbChanged);

                    rgbChanged();
                }
                if (data['rgb-oid'] && data['rgb-oid'] !== 'nothing_selected') {
                    var rgb = data['rgb-oid'];

                    handler.push(function (hex) {
                        vis.setValue(rgb, hex);
                    });

                    var _rgbChanged = function () {
                        ft.setColor(vis.states[rgb + '.val'] || '');
                    };

                    vis.states.bind(rgb + '.val', _rgbChanged);

                    _rgbChanged();
                }
            });
        },
        spectrum: function (el, data) {
			vis.binds.colorpicker.loadJS('widgets/colorpicker/js/spectrum.js', function () {
				vis.binds.colorpicker.init();
				data = data._data || data;
				var $this = $(el);
				var handler = [];
				var factor = parseFloat(data.factor) || 1;
				var decimal = parseInt(data.decimal || 0, 10) || 0;

				$this.spectrum({
					preferredFormat: 'rgb'
				});

				$this.change(function () {
					for (var h = 0; h < handler.length; h++) {
						handler[h]();
					}
				});
				if (data['hue-oid'] && data['hue-oid'] !== 'nothing_selected' &&
						data['sat-oid'] && data['sat-oid'] !== 'nothing_selected' &&
						data['bri-oid'] && data['bri-oid'] !== 'nothing_selected') {
					var hue = data['hue-oid'];
					var sat = data['sat-oid'];
					var bri = data['bri-oid'];


					handler.push(function () {
						var hsl = $this.spectrum('get').toHsl();
						vis.setValue(hue, parseFloat((hsl.h).toFixed(decimal)));
						vis.setValue(sat, parseFloat((hsl.s * factor).toFixed(decimal)));
						vis.setValue(bri, parseFloat((hsl.l * factor).toFixed(decimal)));
					});

					var htimer = null;
					var hueChanged = function () {
						if (htimer) clearTimeout(htimer);
						htimer = setTimeout(function () {
							htimer = null;
							$this.spectrum('set', {
								h: Math.round(parseFloat(vis.states[hue + '.val'] || 0)),
								s: Math.round(parseFloat(vis.states[sat + '.val'] || 0) / factor),
								l: Math.round(parseFloat(vis.states[bri + '.val'] || 0) / factor)
							});
						}, 10);
					};

					vis.states.bind(hue + '.val', hueChanged);
					vis.states.bind(sat + '.val', hueChanged);
					vis.states.bind(bri + '.val', hueChanged);

					hueChanged();
				}
				if (data['red-oid'] && data['red-oid'] !== 'nothing_selected' &&
						data['green-oid'] && data['green-oid'] !== 'nothing_selected' &&
						data['blue-oid'] && data['blue-oid'] !== 'nothing_selected') {
					var r = data['red-oid'];
					var g = data['green-oid'];
					var b = data['blue-oid'];

					handler.push(function () {
						var color = $this.spectrum('get').toRgb();
						vis.setValue(r, parseFloat((color.r / factor).toFixed(decimal)));
						vis.setValue(g, parseFloat((color.g / factor).toFixed(decimal)));
						vis.setValue(b, parseFloat((color.b / factor).toFixed(decimal)));
					});

					var timer = null;
					var rgbChanged = function () {
						if (timer) clearTimeout(timer);
						timer = setTimeout(function () {
							timer = null;
							$this.spectrum('set', {
								r: Math.round(parseFloat(vis.states[r + '.val'] || 0) * factor),
								g: Math.round(parseFloat(vis.states[g + '.val'] || 0) * factor),
								b: Math.round(parseFloat(vis.states[b + '.val'] || 0) * factor)
							});
						}, 10);
					};

					vis.states.bind(r + '.val', rgbChanged);
					vis.states.bind(g + '.val', rgbChanged);
					vis.states.bind(b + '.val', rgbChanged);

					rgbChanged();
				}
				if (data['rgb-oid'] && data['rgb-oid'] !== 'nothing_selected') {
					var rgb = data['rgb-oid'];

					handler.push(function () {
						vis.setValue(rgb, $this.spectrum('get').toHexString());
					});

					var _rgbChanged = function () {
						$this.spectrum('set', vis.states[rgb + '.val'] || '');
					};

					vis.states.bind(rgb + '.val', _rgbChanged);

					_rgbChanged();
				}
			});
        },
        spectrumHomematic: function (el, data) {
			vis.binds.colorpicker.loadJS('widgets/colorpicker/js/spectrum.js', function () {
				vis.binds.colorpicker.init();
				data = data._data || data;
				var $this = $(el);
				var handler = [];

				$this.spectrum({
					homematic: true,
					preferredFormat: "convert360To200",
					showInput: false,
					color: "hsv(360,0%,100%)",
					showPalette: true,
					palette: ["white"]
				});

				$this.change(function () {
					for (var h = 0; h < handler.length; h++) {
						handler[h]();
					}
				});


				if (data['color-oid'] && data['color-oid'] !== 'nothing_selected') {
					var color = data['color-oid'];

					handler.push(function () {
						vis.setValue(color, $this.spectrum('get').toHMString());
					});

					var _colorChanged = function () {
						var currentColor = vis.states[color + '.val'] === 0 ? 0 : vis.states[color + '.val'] || 200;
						var saturation = "100%";
						if (currentColor >= 200) {
							saturation = "0%";
							currentColor = 200;
						}
						var hsvVal = Math.round(currentColor / 200 * 360);
						$this.spectrum('set', "hsv(" + hsvVal + "," + saturation + ",100%)");
					};

					vis.states.bind(color + '.val', _colorChanged);

					_colorChanged();
				}
			});
        },
        jscolorcie: function (el, data) {
            vis.binds.colorpicker.loadJS('widgets/colorpicker/js/jscolor.js', function () {
                data = data._data ? JSON.parse(JSON.stringify(data._data)) : data;
                data.pickerWidth = parseInt(data.pickerWidth) || 100;
                data.pickerHeight = parseInt(data.pickerHeight) || 100;
                data.gamut = typeof data.gamut === 'string' ? data.gamut : 'default';
                var gamutZoom = true;
                data.transitionTime = parseInt(data.transitionTime) || 0;
                data.buttonName = typeof data.buttonName === 'string' ? data.buttonName : '';
                data.closeButton = typeof data.closeButton === 'string' ? data.closeButton : '';
                var factor = parseFloat(data.factor) || 1;
                var decimal = parseInt(data.decimal || 0, 10) || 0;

                var $this = $(el);
                $this.html(data.buttonName);
                var handler = [];

                var picker = new jscolor($this[0], {
                    valueElement: false,
                    onFineChange: function () {
                        for (var h = 0; h < handler.length; h++) {
                            handler[h]();
                        }
                    },
                    mode: 'CIE',
                    gamut: data.gamut,
                    gamutZoom: gamutZoom,
                    width: data.pickerWidth,
                    height: data.pickerHeight,
                    closable: !!data.closeButton,
                    closeText: data.closeButton,
                    padding: 0,
                    shadow: false,
                    borderWidth: 0,
                    backgroundColor: data.pickerBackground,
                    insetColor: '#000'
                });

                if (data['command-oid'] && data['command-oid'] !== 'nothing_selected' &&
                    data['xy-oid'] && data['xy-oid'] !== 'nothing_selected' &&
                    data['level-oid'] && data['level-oid'] !== 'nothing_selected') {
                    var cmd_id = data['command-oid'];
                    var xy_id = data['xy-oid'];
                    var level_id = data['level-oid'];

                    handler.push(function () {
                        if (cmd_id !== 'nothing_selected') {
                            var cmd = '{"transitiontime":' + data.transitionTime + ',"xy":"' + picker.xy[0] + ',' + picker.xy[1] + '",' + '"level":' + Math.round(picker.xy[2] * 100) + '}';
                            vis.setValue(cmd_id, cmd);
                        }
                    });

                    var onChange = function () {
                        var xy = vis.states[xy_id + '.val'] || '0.5,0.5';
                        if (typeof xy !== 'string') xy = '0.5,0.5';

                        var level = vis.states[level_id + '.val'] || 0;
                        xy = xy.split(',');
                        if (xy.length === 2) {
                            picker.fromXY(parseFloat(xy[0]), parseFloat(xy[1]), parseInt(level) / 100);
                        }
                    };


                    vis.states.bind(xy_id + '.val', onChange);
                    vis.states.bind(level_id + '.val', onChange);
                    onChange();
                }
                if (data['hue-oid'] && data['hue-oid'] !== 'nothing_selected' &&
                    data['sat-oid'] && data['sat-oid'] !== 'nothing_selected' &&
                    data['bri-oid'] && data['bri-oid'] !== 'nothing_selected') {
                    var hue = data['hue-oid'];
                    var sat = data['sat-oid'];
                    var bri = data['bri-oid'];

                    handler.push(function () {
                        vis.setValue(hue, parseFloat(picker.hsv[0]).toFixed(decimal));
                        vis.setValue(sat, parseFloat((picker.hsv[1] / factor).toFixed(decimal)));
                        vis.setValue(bri, parseFloat((picker.hsv[2] / factor).toFixed(decimal)));
                    });

                    var htimer = null;
                    var hueChanged = function () {
                        if (htimer) clearTimeout(htimer);
                        htimer = setTimeout(function () {
                            htimer = null;
                            picker.fromHSV(
                                Math.round(parseFloat(vis.states[hue + '.val'] || 0)),
                                Math.round(parseFloat(vis.states[sat + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[bri + '.val'] || 0) * factor)
                            );
                        }, 10);
                    };

                    vis.states.bind(hue + '.val', hueChanged);
                    vis.states.bind(sat + '.val', hueChanged);
                    vis.states.bind(bri + '.val', hueChanged);

                    hueChanged();
                }
                if (data['red-oid'] && data['red-oid'] !== 'nothing_selected' &&
                    data['green-oid'] && data['green-oid'] !== 'nothing_selected' &&
                    data['blue-oid'] && data['blue-oid'] !== 'nothing_selected') {
                    var r = data['red-oid'];
                    var g = data['green-oid'];
                    var b = data['blue-oid'];

                    handler.push(function () {
                        vis.setValue(r, parseFloat((picker.rgb[0] / factor).toFixed(decimal)));
                        vis.setValue(g, parseFloat((picker.rgb[1] / factor).toFixed(decimal)));
                        vis.setValue(b, parseFloat((picker.rgb[2] / factor).toFixed(decimal)));
                    });

                    var timer = null;
                    var rgbChanged = function () {
                        if (timer) clearTimeout(timer);
                        timer = setTimeout(function () {
                            timer = null;
                            picker.fromRGB(
                                Math.round(parseFloat(vis.states[r + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[g + '.val'] || 0) * factor),
                                Math.round(parseFloat(vis.states[b + '.val'] || 0) * factor)
                            );
                        }, 10);
                    };

                    vis.states.bind(r + '.val', rgbChanged);
                    vis.states.bind(g + '.val', rgbChanged);
                    vis.states.bind(b + '.val', rgbChanged);

                    rgbChanged();
                }
                if (data['rgb-oid'] && data['rgb-oid'] !== 'nothing_selected') {
                    var rgb = data['rgb-oid'];

                    handler.push(function () {
                        vis.setValue(rgb, picker.toHEXString());
                    });

                    var _rgbChanged = function () {
                        picker.fromString(vis.states[rgb + '.val'] || '');
                    };

                    vis.states.bind(rgb + '.val', _rgbChanged);

                    _rgbChanged();
                }
            });
        },
        huepickerxy: function (el, data) {
			vis.binds.colorpicker.loadJS('widgets/colorpicker/js/huepiHelper.js', function () {
				data = data._data ? JSON.parse(JSON.stringify(data._data)) : data;
				data.gamut = typeof data.gamut === 'string' ? data.gamut : 'default';
				data.transitionTime = parseInt(data.transitionTime) || 0;
				var gamutZoom = true;

				var $this = $(el);

				//build canvas
				var canvas = document.createElement('canvas');
				var img = document.createElement('img');
				canvas.appendChild(img);

				function redraw() {
					canvas.width = $this.width();
					canvas.height = $this.height();
					var ctx = canvas.getContext('2d');
					ctx.clearRect(0, 0, canvas.width, canvas.height);
					ctx.fillStyle = "#FFFFFF";
					ctx.fillRect(0, 0, canvas.width, canvas.height); // Need to Fill Canvas otherwise its unable to be modified...
					var XYImagedata = ctx.getImageData(0, 0, canvas.width, canvas.height);
					for (var x = 0; x < canvas.width; x++) { // Every Pixel on ScanLine
						for (var y = 0; y < canvas.height; y++) { // Every ScanLine
							var Index = (x + y * canvas.width) * 4; // Index of Pixel
							var xy;
							if (gamutZoom) {
								xy = huepi.HelperZoomXYforModel(x / canvas.width, 1 - (y / canvas.height), data.gamut);
							} else {
								xy = [
									x / canvas.width,
									1 - (y / canvas.height)
								]
							}
							var XYColor = huepi.HelperXYtoRGBforModel(xy[0], xy[1], 1, data.gamut);
							var TestColor = huepi.HelperXYtoRGB(xy[0], xy[1], 1);
							if (TestColor.Red !== XYColor.Red || TestColor.Green !== XYColor.Green || TestColor.Blue !== XYColor.Blue) {
								XYImagedata.data[Index] = XYColor.Red * 240;
								XYImagedata.data[Index + 1] = XYColor.Green * 240;
								XYImagedata.data[Index + 2] = XYColor.Blue * 240;
							} else {
								XYImagedata.data[Index] = XYColor.Red * 255;
								XYImagedata.data[Index + 1] = XYColor.Green * 255;
								XYImagedata.data[Index + 2] = XYColor.Blue * 255;
							}
						}
					}
					ctx.putImageData(XYImagedata, 0, 0);
					img.src = canvas.toDataURL("image/png");

					var xyGet = vis.states[xy_id + '.val'] || '0.5,0.5';
					if (typeof xyGet !== 'string') xyGet = '0.5,0.5';
					xyGet = xyGet.split(',');
					xyGet = huepi.HelperUnzoomXYforModel(xyGet[0], xyGet[1], data.gamut);
					var centerX = xyGet[0] * canvas.width;
					var centerY = canvas.height - (xyGet[1] * canvas.height);
					var radius = 6;
					ctx.beginPath();
					ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
					ctx.lineWidth = 2;
					ctx.strokeStyle = '#000000';
					ctx.stroke();
					$this.html(canvas);
				}

				$this.parent().parent().resize(function () {
					redraw();
				});
				$this.show(function () {
					redraw();
				});

				if (data['command-oid'] && data['command-oid'] !== 'nothing_selected' &&
						data['xy-oid'] && data['xy-oid'] !== 'nothing_selected') {
					var cmd_id = data['command-oid'];
					var xy_id = data['xy-oid'];

					$this.click(function (e) {
						var xy = [e.offsetX / canvas.width, 1 - (e.offsetY / canvas.height)];
						if (gamutZoom) {
							xy = huepi.HelperZoomXYforModel(xy[0], xy[1], data.gamut);
						}
						var cmd = '{"transitiontime":' + data.transitionTime + ',"xy":"' + xy[0] + ',' + xy[1] + '"}';
						vis.setValue(cmd_id, cmd);
					});

					var onChange = function () {
						redraw();
					};

					vis.states.bind(xy_id + '.val', onChange);
				}
			});
        },
        hueindicatorxy: function (el, data) {
			vis.binds.colorpicker.loadJS('widgets/colorpicker/js/huepiHelper.js', function () {
				data = data._data ? JSON.parse(JSON.stringify(data._data)) : data;
				data.gamut = typeof data.gamut === 'string' ? data.gamut : 'default';
				var $this = $(el);

				if (data['xy-oid'] && data['xy-oid'] !== 'nothing_selected') {
					var xy_id = data['xy-oid'];

					var onChange = function () {
						var xyGet = vis.states[xy_id + '.val'] || '0.5,0.5';
						if (typeof xyGet !== 'string') xyGet = '0.5,0.5';
						xyGet = xyGet.split(',');
						var rgb = huepi.HelperXYtoRGBforModel(xyGet[0], xyGet[1], 1, data.gamut);
						$this.css("background-color", huepi.HelperRGBToHEX(rgb));
					};

					vis.states.bind(xy_id + '.val', onChange);
					onChange();
				}
			});
        },
        huepickerct: function (el, data) {
			vis.binds.colorpicker.loadJS('widgets/colorpicker/js/huepiHelper.js', function () {
				data = data._data ? JSON.parse(JSON.stringify(data._data)) : data;
				data.transitionTime = parseInt(data.transitionTime) || 0;
				var ctMin = 2000;
				var ctMax = 6500;

				var $this = $(el);

				//build canvas
				var canvas = document.createElement('canvas');
				var img = document.createElement("img");
				canvas.appendChild(img);

				function redraw() {
					canvas.width = $this.width();
					canvas.height = $this.height();
					var ctx = canvas.getContext('2d');
					ctx.clearRect(0, 0, canvas.width, canvas.height);
					ctx.fillStyle = "#FFFFFF";
					ctx.fillRect(0, 0, canvas.width, canvas.height); // Need to Fill Canvas otherwise its unable to be modified...
					var XYImagedata = ctx.getImageData(0, 0, canvas.width, canvas.height);
					for (var x = 0; x < canvas.width; x++) { // Every Pixel on ScanLine
						var ctColor = huepi.HelperColortemperaturetoRGB(ctMin + (x / canvas.width * (ctMax - ctMin)));
						for (var y = 0; y < canvas.height; y++) { // Every ScanLine
							var Index = (x + y * canvas.width) * 4; // Index of Pixel
							XYImagedata.data[Index] = ctColor.Red * 255;
							XYImagedata.data[Index + 1] = ctColor.Green * 255;
							XYImagedata.data[Index + 2] = ctColor.Blue * 255;
						}
					}
					ctx.putImageData(XYImagedata, 0, 0);
					img.src = canvas.toDataURL("image/png");
					var ctGet = parseInt(vis.states[ct_id + '.val']) || 153;
					ctGet = Math.max(2000, Math.min(6500, Math.round(Math.pow(10, 6) / ctGet)));
					ctGet = canvas.width / ((ctMax - ctMin) / (ctGet - ctMin));
					ctx.beginPath();
					ctx.lineWidth = 2;
					ctx.strokeStyle = '#000000';
					ctx.moveTo(ctGet, 0);
					ctx.lineTo(ctGet, canvas.height);
					ctx.stroke();
					$this.html(canvas);
				}

				$this.parent().parent().resize(function () {
					redraw();
				});
				$this.show(function () {
					redraw();
				});

				if (data['command-oid'] && data['command-oid'] !== 'nothing_selected' &&
						data['ct-oid'] && data['ct-oid'] !== 'nothing_selected') {
					var cmd_id = data['command-oid'];
					var ct_id = data['ct-oid'];

					$this.click(function (e) {
						var ct = e.offsetX / canvas.width;
						ct = Math.round(ctMin + (ctMax - ctMin) * ct);
						ct = Math.max(153, Math.min(500, Math.round(Math.pow(10, 6) / ct)));
						var cmd = '{"transitiontime":' + data.transitionTime + ',"ct":"' + ct + '"}';
						vis.setValue(cmd_id, cmd);
					});

					var onChange = function () {
						redraw();
					};

					vis.states.bind(ct_id + '.val', onChange);
				}
			});
        },
        hueindicatorct: function (el, data) {
			vis.binds.colorpicker.loadJS('widgets/colorpicker/js/huepiHelper.js', function () {
				data = data._data ? JSON.parse(JSON.stringify(data._data)) : data;
				var $this = $(el);

				if (data['ct-oid'] && data['ct-oid'] !== 'nothing_selected') {
					var ct_id = data['ct-oid'];

					var onChange = function () {
						var ctGet = parseInt(vis.states[ct_id + '.val']) || 153;
						ctGet = Math.max(2000, Math.min(6500, Math.round(Math.pow(10, 6) / ctGet)));
						var rgb = huepi.HelperColortemperaturetoRGB(ctGet);
						$this.css('background-color', huepi.HelperRGBToHEX(rgb));
					};

					vis.states.bind(ct_id + '.val', onChange);
					onChange();
				}
			});
        }
    };

    if (vis.editMode) {
        vis.binds.colorpicker.changedHUE = function (widgetID, view, newId, fields) {
            var cmd = vis.objects[newId];
            var changed = [];

            // If it is real object and state
            if (cmd && cmd.common && cmd.type === 'state') {
                var light = vis.objects[newId.split('.').slice(0, -1).join('.')];
                var xy = vis.objects[newId.split('.').slice(0, -1).join('.') + '.xy'];
                var level = vis.objects[newId.split('.').slice(0, -1).join('.') + '.level'];

                if (xy && xy.type === 'state' && !vis.views[view].widgets[widgetID].data['xy-oid']) {
                    changed.push('xy-oid');
                    vis.views[view].widgets[widgetID].data['xy-oid'] = newId.split('.').slice(0, -1).join('.') + '.xy';
                    vis.widgets[widgetID].data['xy-oid'] = newId.split('.').slice(0, -1).join('.') + '.xy';
                }
                if (level && level.type === 'state' && !vis.views[view].widgets[widgetID].data['level-oid']) {
                    changed.push('level-oid');
                    vis.views[view].widgets[widgetID].data['level-oid'] = newId.split('.').slice(0, -1).join('.') + '.level';
                    vis.widgets[widgetID].data['level-oid'] = newId.split('.').slice(0, -1).join('.') + '.level';
                }
                if (light.native.modelid !== undefined && !vis.views[view].widgets[widgetID].data.gamut) {
                    changed.push('gamut');
                    vis.views[view].widgets[widgetID].data.gamut = light.native.modelid;
                    vis.widgets[widgetID].data.gamut = light.native.modelid;
                }
            }
            return changed;
        };
        vis.binds.colorpicker.changedHUEPickerXY = function (widgetID, view, newId, fields) {
            var cmd = vis.objects[newId];
            var changed = [];

            // If it is real object and state
            if (cmd && cmd.common && cmd.type === 'state') {
                var light = vis.objects[newId.split('.').slice(0, -1).join('.')];
                var xy = vis.objects[newId.split('.').slice(0, -1).join('.') + '.xy'];

                if (xy && xy.type === 'state' && !vis.views[view].widgets[widgetID].data['xy-oid']) {
                    changed.push('xy-oid');
                    vis.views[view].widgets[widgetID].data['xy-oid'] = newId.split('.').slice(0, -1).join('.') + '.xy';
                    vis.widgets[widgetID].data['xy-oid'] = newId.split('.').slice(0, -1).join('.') + '.xy';
                }
                if (light.native.modelid !== undefined && !vis.views[view].widgets[widgetID].data.gamut) {
                    changed.push('gamut');
                    vis.views[view].widgets[widgetID].data.gamut = light.native.modelid;
                    vis.widgets[widgetID].data.gamut = light.native.modelid;
                }
            }
            return changed;
        };
        vis.binds.colorpicker.changedHUEPickerCT = function (widgetID, view, newId, fields) {
            var cmd = vis.objects[newId];
            var changed = [];

            // If it is real object and state
            if (cmd && cmd.common && cmd.type === 'state') {
                var light = vis.objects[newId.split('.').slice(0, -1).join('.')];
                var ct = vis.objects[newId.split('.').slice(0, -1).join('.') + '.ct'];

                if (ct && ct.type === 'state' && !vis.views[view].widgets[widgetID].data['ct-oid']) {
                    changed.push('ct-oid');
                    vis.views[view].widgets[widgetID].data['ct-oid'] = newId.split('.').slice(0, -1).join('.') + '.ct';
                    vis.widgets[widgetID].data['ct-oid'] = newId.split('.').slice(0, -1).join('.') + '.ct';
                }
            }
            return changed;
        };
        vis.binds.colorpicker.changedHUEIndicatorXY = function (widgetID, view, newId, fields) {
            var xy = vis.objects[newId];
            var changed = [];

            // If it is real object and state
            if (xy && xy.common && xy.type === 'state') {
                var light = vis.objects[newId.split('.').slice(0, -1).join('.')];

                if (xy && xy.type === 'state' && !vis.views[view].widgets[widgetID].data['xy-oid']) {
                    changed.push('xy-oid');
                    vis.views[view].widgets[widgetID].data['xy-oid'] = newId.split('.').slice(0, -1).join('.') + '.xy';
                    vis.widgets[widgetID].data['xy-oid'] = newId.split('.').slice(0, -1).join('.') + '.xy';
                }
                if (light.native.modelid !== undefined && !vis.views[view].widgets[widgetID].data.gamut) {
                    changed.push('gamut');
                    vis.views[view].widgets[widgetID].data.gamut = light.native.modelid;
                    vis.widgets[widgetID].data.gamut = light.native.modelid;
                }
            }
            return changed;
        };
    }

    vis.binds.colorpicker.showVersion();
</script>

<script id="tplRGBSpectrum" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplRGBSpectrum.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="RGB spectrum" data-vis-attrs="rgb-oid/id;" data-vis-attrs0="group.rgb;red-oid/id;green-oid/id;blue-oid/id;" data-vis-attrs1="group.hue;hue-oid/id;sat-oid/id;bri-oid/id;" data-vis-attrs2="group.extra;factor[1];decimal[0]/slider,0,5,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 50px; height: 32px" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true}'>
        <div class="vis-widget-body">
            <input style="width: 100%; height: 100%" <%= (el) -> vis.binds.colorpicker.spectrum(el, data) %> />
        </div>
    </div>

</script>

<script id="tplSpectrumHomematic" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplRGBSpectrum.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="Homematic spectrum" data-vis-attrs="color-oid/id;" data-vis-resize-locked="true">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 50px; height: 32px"  id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true}'>
        <div class="vis-widget-body">
            <input style="width: 100%; height: 100%" <%= (el) -> vis.binds.colorpicker.spectrumHomematic(el, data) %> />
        </div>
    </div>

</script>

<script id="tplRGBFarbtastic" class="vis-tpl" type="text/ejs" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplRGBFarbtastic.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="farbtastic" data-vis-attrs="rgb-oid/id;" data-vis-attrs0="group.rgb;red-oid/id;green-oid/id;blue-oid/id;" data-vis-attrs1="group.hue;hue-oid/id;sat-oid/id;bri-oid/id;" data-vis-attrs2="group.extra;factor[1];decimal[0]/slider,0,5,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 196px; height: 196px;" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true}'>
        <div class="vis-widget-body">
            <div></div>
            <input <%= (el) -> vis.binds.colorpicker.farbtastic(el, data) %> />
        </div>
    </div>

</script>

<script id="tplHUEjscolor" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplHUEjscolor.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="Philips HUE" data-vis-attrs="command-oid/id/changedHUE;xy-oid/id;level-oid/id;gamut;transitionTime[4]/number,0,30000,1;pickerWidth[100]/number,0,500,1;pickerHeight[100]/number,0,500,1;pickerBackground/color;buttonName[HUE]/html;closeButton[close];" data-vis-attrs0="group.rgb;red-oid/id;green-oid/id;blue-oid/id;divisor[1];decimal[0]/slider,0,5,1;rgb-oid/id;" data-vis-attrs1="group.hue;hue-oid/id;sat-oid/id;bri-oid/id;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="display:table;">
            <div class="ui-button ui-state-default ui-corner-all" style="width:100%;height:100%;display:table-cell;" <%= (el) -> vis.binds.colorpicker.jscolorcie(el, data) %> ></div>
        </div>
    </div>

</script>

<script id="tplHUEPickerXY" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplHUEPickerXY.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="Philips HUE XY-Picker" data-vis-attrs="command-oid/id/changedHUEPickerXY;xy-oid/id;gamut;transitionTime[4]/number,0,30000,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div class="hue-canvas" style="width:100%;height:100%;cursor:crosshair;" <%= (el) -> vis.binds.colorpicker.huepickerxy(el, data) %> ></div>
        </div>
    </div>

</script>

<script id="tplHUEIndicatorXY" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplHUEIndicatorXY.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="value,color" data-vis-name="Philips HUE XY-Indicator" data-vis-attrs="xy-oid/id/changedHUEIndicatorXY;gamut;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div class="hue-indicator-xy" style="width:100%;height:100%;" <%= (el) -> vis.binds.colorpicker.hueindicatorxy(el, data) %> ></div>
        </div>
    </div>

</script>

<script id="tplHUEPickerCT" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplHUEPickerCT.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="Philips HUE CT-Picker" data-vis-attrs="command-oid/id/changedHUEPickerCT;ct-oid/id;transitionTime[4]/number,0,30000,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div class="hue-canvas-ct" style="width:100%;height:100%;cursor:crosshair;" <%= (el) -> vis.binds.colorpicker.huepickerct(el, data) %> ></div>
        </div>
    </div>

</script>

<script id="tplHUEIndicatorCT" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplHUEIndicatorCT.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="value,color" data-vis-name="Philips HUE CT-Indicator" data-vis-attrs="ct-oid/id;" data-vis-2-ignore="true">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div class="hue-indicator-xy" style="width:100%;height:100%;" <%= (el) -> vis.binds.colorpicker.hueindicatorct(el, data) %> ></div>
        </div>
    </div>

</script>

<script id="tplJscolor" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/colorpicker/img/Prev_tplJscolor.png&quot;&gt;&lt;/img&gt;" data-vis-set="colorpicker" data-vis-type="ctrl,color" data-vis-name="RGBColor" data-vis-attrs="title[RGB: ];closeText[X];rgb-oid/id;" data-vis-attrs0="group.rgb;red-oid/id;green-oid/id;blue-oid/id;" data-vis-attrs1="group.hue;hue-oid/id;sat-oid/id;bri-oid/id;" data-vis-attrs2="group.extra;factor[1];decimal[0]/slider,0,5,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 96px; height: 50px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="display: inline-block">
            <table style="border: 0; border-spacing: 0; width: 100%; height: 100%" class="vis-no-spaces">
            	<tr class="vis-no-spaces">
					<td class="vis-no-spaces"><%== this.data.attr('title') %></td>
					<td class="vis-no-spaces"><input style="width: calc(100% - 5px); height: 100%" readonly <%= (el) -> vis.binds.colorpicker.jscolor(el, this.data) %> /></td>
				</tr>
			</table>
        </div>
    </div>

</script>


<!-- --------------colorpicker.html--- END -->
<!-- --------------echarts.html--- START -->
<!--
    ioBroker.echarts high quality Widget-Set

    version: "1.9.0"

    Copyright 2019-2024 bluefox <dogafox@gmail.com>

-->
<script type="text/javascript">
    if (vis.editMode) {
        $.extend(true, systemDictionary, {
            "echart_oid": {
                "en": "EChart ID",
                "de": "EChart ID",
                "ru": "EChart ID",
                "pt": "EChart ID",
                "nl": "EChart ID",
                "fr": "ID de graphique",
                "it": "ID EChart",
                "es": "EChart ID",
                "pl": "Identyfikator EChart",
                "zh-cn": "图表ID"
            },
            "noChartBackground": {
                "en": "No background",
                "de": "Kein Hintergrund",
                "ru": "Без фона",
                "pt": "Sem fundo",
                "nl": "Geen achtergrond",
                "fr": "Pas de fond",
                "it": "Nessuno sfondo",
                "es": "Sin antecedentes",
                "pl": "Bez tła",
                "zh-cn": "没有背景"
            },
        });
    }
</script>

<script id="tplEchartsChart" type="text/ejs" class="vis-tpl" data-vis-set="echarts" data-vis-name="Chart" data-vis-type="chart" data-vis-prev="&lt;img src=&quot;widgets/echarts/img/Prev_tplEchartsChart.png&quot;/&gt;" data-vis-attrs="echart_oid[nothing_selected]/id/filterTypeChart;noChartBackground/checkbox;" data-vis-filter="chart">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: visible; width: 320px; height: 160px" id="<%= this.data.attr('wid') %>">
         <iframe style="width: 100%; height: 100%; border: 0" src="../echarts/index.html?preset=<%== this.data.attr('echart_oid') %>&noBG=<%== this.data.attr('noChartBackground') %>"></iframe>
    </div>
</script>

<!-- --------------echarts.html--- END -->
<!-- --------------fancyswitch.html--- START -->
<!--
    ioBroker.vis fancyswitch Widget-Set

    version: "1.0.0"

    Copyright 2013-2015 hobbyquaker, bluefox<dogafox@gmail.com>
-->
<style type="text/css">
    .fancy-switch{
        border:none;
        background:left no-repeat;
        width:105px;
        height:46px;
        padding:0;
        margin:0;
        white-space: nowrap;
    }

    .fancy-on, .fancy-off{
        width:50px;
        height:40px;
        display:inline-block;
        cursor:pointer;
    }


</style>
<link rel="stylesheet" type="text/css" href="./vis_files/jquery.ibutton.min.css">

<script type="text/javascript" src="./vis_files/jquery-ui.toggleSwitch.js"></script>
<script type="text/javascript" src="./vis_files/jquery.ibutton.min.js"></script>

<script type="text/javascript">
    "use strict";

    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "text_true":        {"en": "Label for true",             "de": "Text für TRUE",      "ru": "Текст для 1"},
            "text_false":       {"en": "Label for false",            "de": "Text für FALSE",     "ru": "Текст для 0"},
            "width":            {"en": "Width",                      "de": "Breite",             "ru": "Ширина"},
            "auto":             {"en": "auto",                       "de": "auto",               "ru": "автоматически"},
            "true":             {"en": "true",                       "de": "true",               "ru": "да"},
            "false":            {"en": "false",                      "de": "false",              "ru": "нет"},
            "labelOn":          {"en": "Label for 'ON'",             "de": "Text für AN",        "ru": "Подпись для 'истина/1'"},
            "labelOff":         {"en": "Label for 'OFF'",            "de": "Text für AUS",       "ru": "Подпись для 'ложь/0'"},
            "resizeHandle":     {"en": "resizeHandle",               "de": "Hebelgröße",         "ru": "Изменить размер клавиши"},
            "resizeContainer":  {"en": "resizeContainer",            "de": "Konteinergröße",     "ru": "Изменить размер виджета"},
            "enableDrag":       {"en": "Enable drag",                "de": "Ziehen erlaubt",     "ru": "Можно тащить мышкой"},
            "enableFx":         {"en": "Animation",                  "de": "Animation",          "ru": "Анимация"},
            "duration":         {"en": "Effect duration(ms)",        "de": "Umschaltdauer(ms)",  "ru": "Длительность анимации"},
            "highlight_switch": {"en": "Highlight switch",           "de": "Highlight Schalter", "ru": "Подсветить выключатель"},
            "invert":           {"en": "Invert state",               "de": "Zustand invertieren", "ru": "Инвертировать состояние"},
            "test":             {"en": "Test",                       "de": "Testen",             "ru": "Тест"},
            "valFalse":         {"en": "False value",                "de": "Falsch-Wert",        "ru": "False-значение"},
            "valTrue":          {"en": "True value",                 "de": "Wahr-Wert",          "ru": "True-значение"},
            "lightStyle":       {"en": "Light style",                "de": "Hellstil",           "ru": "Светлый стиль"},
            "autoOff":          {"en": "Auto OFF in (ms)",           "de": "Auto AUS(ms)",       "ru": "Авто Выкл.(мс)"},
            "autoOff_tooltip":  {
                "en": "Chnage to previous state after given interval automatically",
                "de": "Ändert Zustand auf vorheriger nach eingegebenem Intervall",
                "ru": "Меняет состояние на обратное по истечении указанного времени"
            }
        });
    }

    vis.binds.fancyswitch = {
	    version: "1.0.0",
		showVersion: function () {
			if (vis.binds.fancyswitch.version) {
				console.log('Version vis-fancyswitch:' + vis.binds.fancyswitch.version);
				vis.binds.fancyswitch.version = null;
			}
		},
        fancyswitch: function (el, options) {
			vis.binds.fancyswitch.showVersion();
            var $this = $(el).parent().find('.fancy-switch');
            var oid   = $this.attr('data-oid');
            options.valTrue = (options.valTrue === null || options.valTrue === '' || options.valTrue === undefined) ? null: options.valTrue;
            options.valFalse = (options.valFalse === null || options.valFalse === '' || options.valFalse === undefined) ? null: options.valFalse;
            if (options.valTrue === null) options.valTrue = 1;
            if (options.valTrue === "true") options.valTrue = true;
            if (options.valTrue === "false") options.valTrue = false;
            if (options.valFalse === null) options.valFalse = 0;
            if (options.valFalse === "true") options.valFalse = true;
            if (options.valFalse === "false") options.valFalse = false;
            if (oid && oid != 'nothing_selected') {
                vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                    if (newVal === null || newVal === undefined) newVal = options.valFalse;
                    var num = newVal;
                    if (num === "true") num = true;
                    if (num === "false") num = false;
                    if (num !== true && num !== false) {
                        if (typeof num === 'string') {
                            var f = parseFloat(num);
                            if (f == num) {
                                num = f;
                            }
                        }
                        if ((typeof num === 'number' && num > 0) || (options.valTrue === 1 && newVal === true) || newVal.toString() === options.valTrue) {
                            num = true;
                        }
                        else {
                            num = false;
                        }
                    }
                    else {
                        if (num === options.valTrue) num = true;
                            else num = false;
                    }

                    if (options.invert) {
                        num = !num;
                    }
                    $this.css('background-position', num ? 'left' : 'right');
                    $this.find('input.fancy-on_off[value="' + options.valFalse + '"]').prop('checked', !num);
                    $this.find('input.fancy-on_off[value="' + options.valTrue + '"]').prop('checked', num);
                });
            }
            $this.css('background', 'url("' + options.src + '")');
            $this.find('.fancy-on_off').css('display', 'none');
            $this.find('.fancy-on, .fancy-off').css('text-indent', '-10000px');

            var newVal = vis.states.attr(oid + '.val');
            if (newVal === null || newVal === undefined) newVal = options.valFalse;
            var num = newVal;
            if (num === "true") num = true;
            if (num === "false") num = false;
            if (num !== true && num !== false) {
                if (typeof num === 'string') {
                    var f = parseFloat(num);
                    if (f == num) {
                        num = f;
                    }
                }
                if ((typeof num === 'number' && num > 0) || (options.valTrue === 1 && newVal === true) || newVal.toString() === options.valTrue) {
                    num = true;
                }
                else {
                    num = false;
                }
            }
            else {
                if (num === options.valTrue) num = true;
                    else num = false;
            }
            if (options.invert) {
                num = !num;
            }
            $this.css('background-position', num ? 'left' : 'right');

            if (!vis.editMode && oid && oid != 'nothing_selected') {
                options.autoOff = parseInt(options.autoOff, 10) || 0;

                $this.find("input.fancy-on_off").change(function() {
                    var newVal = $(this).val();
                    if (newVal === null || newVal === undefined) newVal = options.valFalse;
                    var num = newVal;
                    if (num === "true") num = true;
                    if (num === "false") num = false;
                    if (num !== true && num !== false) {
                        if (typeof num === 'string') {
                            var f = parseFloat(num);
                            if (f == num) {
                                num = f;
                            }
                        }
                        if ((typeof num === 'number' && num > 0) || (options.valTrue === 1 && newVal === true) || newVal.toString() === options.valTrue) {
                            num = true;
                        }
                        else {
                            num = false;
                        }
                    }
                    else {
                        if (num === options.valTrue) num = true;
                            else num = false;
                    }
                    if (options.invert) {
                        num = !num;
                    }

                    $this.css('background-position', num ? 'left' : 'right');
                    vis.setValue(oid, num ? options.valTrue : options.valFalse);
                    if (options.autoOff) {
                        setTimeout(function () {
                            vis.setValue(oid, num ? options.valFalse : options.valTrue);
                        }, options.autoOff);
                    }
                });
            }
        },
        toggleSwitch: function (el, options) {
 			vis.binds.fancyswitch.showVersion();
            var $this = $(el).prev();
            $this.toggleSwitch({
                highlight: options.highlight,
                width:     parseInt(options.width, 10) || 40/*,
                change: function (e) {
                    console.log(e);
                }*/
            });

            if (vis.editMode) {
                if (options.test) {
                    $this.val(!parseInt($this.val(), 10) ? '1' : '0').trigger('change');
                }
                setTimeout(function () {
                    var id = $this.attr('id');
                    id = id.substring(0, id.length - '_select'.length);
                    $('#' + id).find('.ui-toggle-switch').css({'pointer-events': 'none'});
                }, 100);
            }
        },
        iButton: function (el, options) {
			vis.binds.fancyswitch.showVersion();
            var $this = $(el);

            setTimeout(function () {
                $this.iButton(options);
            }, 20);

            if (!options.enableFx)   options.enableFx   = false;
            if (!options.enableDrag) options.enableDrag = false;
            if (options.resizeHandle === 'false') options.resizeHandle = false;
            if (options.resizeContainer === 'false') options.resizeContainer = false;

            var oid = $this.attr('data-oid');
            if (oid != 'nothing_selected') {
                vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                    var num = (parseFloat(newVal) > 0 || newVal === 'true' || newVal === true);
                    $this.prop('checked', num).trigger('change');
                });
            }

            if (vis.editMode) {
                if (options.test) $this.prop('checked', !$this.prop('checked')).trigger('change');
                setTimeout(function () {
                    var id = $this.attr('id');
                    id = id.substring(0, id.length - '_checkbox'.length);
                    $('#' + id).find('.ibutton-container').css({'pointer-events': 'none'});
                }, 100);
            }
        }
    };
</script>

<script id="tplFancySwitch1" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFancySwitch1&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 104px; height: 40px; left: 179.5px; top: 46px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;fieldset class=&quot;fancy-switch&quot; data-o style=&quot;background-image: url(widgets/fancyswitch/img/fancyswitch-1.png); background-position: 100% 50%; background-repeat: initial initial;&quot;&gt; &lt;label class=&quot;fancy-off&quot; style=&quot;text-indent: -10000px;&quot;&gt;Off&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00004_on_off&quot; value=&quot;0&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;label class=&quot;fancy-on&quot; style=&quot;text-indent: -10000px;&quot;&gt;On&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00004_on_off&quot; value=&quot;1&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;/fieldset&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Switch light Off/On" data-vis-attrs="oid;invert/checkbox;valFalse[0];valTrue[1];autoOff/slider,0,5000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:105px; height:46px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <fieldset id="<%= this.data.attr('wid') %>_fancy" class="fancy-switch" data-oid="<%= this.data.attr('oid') %>">
                <label class="fancy-off">Off<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valFalse') !== undefined) ? this.data.attr('valFalse') : 0 %>"/></label>
                <label class="fancy-on">On<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valTrue') === '' || this.data.attr('valTrue') === null || this.data.attr('valTrue') === undefined) ? 1 : this.data.attr('valTrue') %>"/></label>
            </fieldset>
            <div <%= (el) -> vis.binds.fancyswitch.fancyswitch(el, {src: "widgets/fancyswitch/img/fancyswitch-1.png", invert: data.attr('invert'), valTrue: this.data.attr('valTrue'), valFalse: this.data.attr('valFalse'), autoOff: this.data.attr('autoOff')}) %>></div>
        </div>
    </div>
</script>

<script id="tplFancySwitch2" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFancySwitch2&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee&quot; style=&quot;width: 105px; height: 46px; left: 408px; top: 404px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;fieldset class=&quot;fancy-switch&quot; data-o style=&quot;background-image: url(widgets/fancyswitch/img/fancyswitch-2.png); background-position: 100% 50%; background-repeat: initial initial;&quot;&gt; &lt;label class=&quot;fancy-off&quot; style=&quot;text-indent: -10000px;&quot;&gt;Off&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00005_on_off&quot; value=&quot;0&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;label class=&quot;fancy-on&quot; style=&quot;text-indent: -10000px;&quot;&gt;On&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00005_on_off&quot; value=&quot;1&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;/fieldset&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Slider dark Off/On" data-vis-attrs="oid;invert/checkbox;valFalse[0];valTrue[1];autoOff/slider,0,5000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:105px; height:46px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <fieldset id="<%= this.data.attr('wid') %>_fancy" class="fancy-switch" data-oid="<%= this.data.attr('oid') %>">
                <label class="fancy-off">Off<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valFalse') !== undefined) ? this.data.attr('valFalse') : 0 %>"/></label>
                <label class="fancy-on">On<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valTrue') === '' || this.data.attr('valTrue') === null || this.data.attr('valTrue') === undefined) ? 1 : this.data.attr('valTrue') %>"/></label>
            </fieldset>
            <div <%= (el) -> vis.binds.fancyswitch.fancyswitch(el, {src: "widgets/fancyswitch/img/fancyswitch-2.png", invert: data.attr('invert'), valTrue: this.data.attr('valTrue'), valFalse: this.data.attr('valFalse'), autoOff: this.data.attr('autoOff')}) %>></div>
        </div>
    </div>
</script>

<script id="tplFancyDarkAnAus" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFancyDarkAnAus&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 105px; height: 46px; left: 136px; top: 613px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;fieldset class=&quot;fancy-switch&quot; data-o style=&quot;background-image: url(widgets/fancyswitch/img/fancyswitch-3.png); background-position: 100% 50%; background-repeat: initial initial;&quot;&gt; &lt;label class=&quot;fancy-off&quot; style=&quot;text-indent: -10000px;&quot;&gt;Off&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00006_on_off&quot; value=&quot;0&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;label class=&quot;fancy-on&quot; style=&quot;text-indent: -10000px;&quot;&gt;On&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00006_on_off&quot; value=&quot;1&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;/fieldset&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Schieber dunkel Ein/Aus" data-vis-attrs="oid;invert/checkbox;valFalse[0];valTrue[1];autoOff/slider,0,5000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:105px; height:46px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <fieldset id="<%= this.data.attr('wid') %>_fancy" class="fancy-switch" data-oid="<%= this.data.attr('oid') %>">
                <label class="fancy-off">Off<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valFalse') !== undefined) ? this.data.attr('valFalse') : 0 %>"/></label>
                <label class="fancy-on">On<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valTrue') === '' || this.data.attr('valTrue') === null || this.data.attr('valTrue') === undefined) ? 1 : this.data.attr('valTrue') %>"/></label>
            </fieldset>
            <div <%= (el) -> vis.binds.fancyswitch.fancyswitch(el, {src: "widgets/fancyswitch/img/fancyswitch-3.png", invert: data.attr('invert'), valTrue: this.data.attr('valTrue'), valFalse: this.data.attr('valFalse'), autoOff: this.data.attr('autoOff')}) %>></div>
        </div>
    </div>
</script>

<script id="tplFancyDarkAnAusRev" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFancyDarkAnAusRev&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 105px; height: 46px; left: 278px; top: 527px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;fieldset class=&quot;fancy-switch&quot; data-o style=&quot;background-image: url(widgets/fancyswitch/img/fancyswitch-4.png); background-position: 100% 50%; background-repeat: initial initial;&quot;&gt; &lt;label class=&quot;fancy-off&quot; style=&quot;text-indent: -10000px;&quot;&gt;Off&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00007_on_off&quot; value=&quot;0&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;label class=&quot;fancy-on&quot; style=&quot;text-indent: -10000px;&quot;&gt;On&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00007_on_off&quot; value=&quot;1&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;/fieldset&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Schieber dunkel Aus/Ein" data-vis-attrs="oid;invert/checkbox;valFalse[0];valTrue[1];autoOff/slider,0,5000,100">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:105px; height:46px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <fieldset id="<%= this.data.attr('wid') %>_fancy" class="fancy-switch" data-oid="<%= this.data.attr('oid') %>">
                <label class="fancy-off">Off<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valFalse') !== undefined) ? this.data.attr('valFalse') : 0 %>"/></label>
                <label class="fancy-on">On<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valTrue') === '' || this.data.attr('valTrue') === null || this.data.attr('valTrue') === undefined) ? 1 : this.data.attr('valTrue') %>"/></label>
            </fieldset>
            <div <%= (el) -> vis.binds.fancyswitch.fancyswitch(el, {src: "widgets/fancyswitch/img/fancyswitch-4.png", invert: data.attr('invert'), valTrue: this.data.attr('valTrue'), valFalse: this.data.attr('valFalse'), autoOff: this.data.attr('autoOff')}) %>></div>
        </div>
    </div>
</script>

<script id="tplFancyDarkAnAusWippe" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFancyDarkAnAusWippe&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee&quot; style=&quot;width: 102px; height: 49px; left: 73px; top: 232px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;fieldset class=&quot;fancy-switch&quot; data-o style=&quot;background-image: url(widgets/fancyswitch/img/fancyswitch-5.png); background-position: 100% 50%; background-repeat: initial initial;&quot;&gt; &lt;label class=&quot;fancy-off&quot; style=&quot;text-indent: -10000px;&quot;&gt;Off&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00002_on_off&quot; value=&quot;0&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;label class=&quot;fancy-on&quot; style=&quot;text-indent: -10000px;&quot;&gt;On&lt;input type=&quot;radio&quot; class=&quot;fancy-on_off&quot; name=&quot;w00002_on_off&quot; value=&quot;1&quot; style=&quot;display: none;&quot;&gt;&lt;/label&gt; &lt;/fieldset&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Wippe dunkel Aus/Ein" data-vis-attrs="oid;invert/checkbox;valFalse[0];valTrue[1];autoOff/slider,0,5000,100;lightStyle/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:105px; height:46px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <fieldset id="<%= this.data.attr('wid') %>_fancy" class="fancy-switch" data-oid="<%= this.data.attr('oid') %>">
                <label class="fancy-off">Off<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valFalse') !== undefined) ? this.data.attr('valFalse') : 0 %>"/></label>
                <label class="fancy-on">On<input type="radio" class="fancy-on_off" name="<%= this.data.attr('wid') %>_on_off" value="<%= (this.data.attr('valTrue') === '' || this.data.attr('valTrue') === null || this.data.attr('valTrue') === undefined) ? 1 : this.data.attr('valTrue') %>"/></label>
            </fieldset>
            <div <%= (el) -> vis.binds.fancyswitch.fancyswitch(el, {src: data.attr('lightStyle') ? "widgets/fancyswitch/img/fancyswitch-6.png" : "widgets/fancyswitch/img/fancyswitch-5.png", invert: data.attr('invert'), valTrue: this.data.attr('valTrue'), valFalse: this.data.attr('valFalse'), autoOff: this.data.attr('autoOff')}) %>></div>
        </div>
    </div>
</script>

<script id="tplFancyGivaIButton" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplFancyGivaIButton&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee&quot; style=&quot;top: 514px; left: 186px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;div class=&quot;ibutton-container&quot; style=&quot;pointer-events: none;&quot;&gt;&lt;input type=&quot;checkbox&quot; name=&quot;w00004_checkbox&quot; data-o value=&quot;1&quot;&gt;&lt;div class=&quot;ibutton-handle&quot; style=&quot;left: 0px;&quot;&gt;&lt;div class=&quot;ibutton-handle-right&quot;&gt;&lt;div class=&quot;ibutton-handle-middle&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ibutton-label-off&quot;&gt;&lt;span style=&quot;margin-right: 0px;&quot;&gt;&lt;label&gt;OFF&lt;/label&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;ibutton-label-on&quot; style=&quot;width: 4px;&quot;&gt;&lt;span style=&quot;margin-left: -50px;&quot;&gt;&lt;label&gt;ON&lt;/label&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;ibutton-padding-left&quot;&gt;&lt;/div&gt;&lt;div class=&quot;ibutton-padding-right&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Giva Labs iButton" data-vis-attrs="oid;labelOn[ON];labelOff[OFF];resizeHandle[auto]/select,auto,true,false;resizeContainer[auto]/select,auto,true,false;enableDrag/checkbox;enableFx/checkbox;duration[200]/slider,0,5000,100;test/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left:0px;" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body">
            <input type="checkbox" name="<%= this.data.attr('wid') %>_checkbox"
                   id="<%= this.data.attr('wid') %>_checkbox"
                   data-oid="<%= this.data.attr('oid') %>"
                   value="1"
                    <%= (el) -> vis.binds.basic.checkbox(el); vis.binds.fancyswitch.iButton(el, {duration: data.attr('duration'), labelOn: data.attr('labelOn'), labelOff: data.attr('labelOff'), resizeHandle: data.attr('resizeHandle'), resizeContainer: data.attr('resizeContainer'), enableDrag: data.attr('enableDrag'), enableFx: data.attr('enableFx'), test: data.attr('test')}); %>/>
        </div>
    </div>
</script>

<script id="tplFancyToggleswitch" type="text/ejs" data-vis-prev="&lt;div id=&quot;prev_tplFancyToggleswitch&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee&quot; style=&quot;padding-left: 10px; left: 109px; top: 604px; position: absolute; height: 62px; width: 45px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding-top:5px; text-align: center&quot;&gt; &lt;select data-oid=&quot;&quot; class=&quot;ui-toggle-switch&quot; style=&quot;display: none; pointer-events: none;&quot;&gt; &lt;option value=&quot;0&quot;&gt;OFF&lt;/option&gt; &lt;option value=&quot;1&quot;&gt;ON&lt;/option&gt; &lt;/select&gt; &lt;div&gt;&lt;/div&gt; &lt;div class=&quot;ui-toggle-switch&quot; style=&quot;pointer-events: none;&quot;&gt;&lt;label style=&quot;border: 0px&quot; class=&quot;ui-state-active&quot;&gt;OFF&lt;/label&gt;&lt;div class=&quot;ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all&quot; aria-disabled=&quot;false&quot; style=&quot;width: 40px;&quot;&gt;&lt;div class=&quot;ui-slider-range ui-widget-header ui-corner-all ui-slider-range-max&quot; style=&quot;width: 100%;&quot;&gt;&lt;/div&gt;&lt;a class=&quot;ui-slider-handle ui-state-default ui-corner-all&quot; href=&quot;#&quot; style=&quot;left: 0%;&quot;&gt;&lt;/a&gt;&lt;/div&gt;&lt;label style=&quot;border: 0px&quot;&gt;ON&lt;/label&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;" class="vis-tpl" data-vis-set="fancyswitch" data-vis-type="ctrl - Bool" data-vis-name="Taitem jqui Toggleswitch" data-vis-attrs="html_prepend;html_append;oid;text_true[ON];text_false[OFF];highlight_switch/checkbox;width[40]/slider,10,500,1;test/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="padding-left:10px;" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body" style="padding-top:5px; text-align: center">
            <%== this.data.attr("html_prepend") %>
            <select id="<%= this.data.attr('wid') %>_select" data-oid="<%= (this.data.attr('oid') == 'nothing_selected' ? '' : this.data.attr('oid')) %>">
                <option value="0"><%= this.data.attr('text_false') %></option>
                <option value="1"><%= this.data.attr('text_true') %></option>
            </select>
            <div <%= (el) -> vis.binds.basic.select(el); vis.binds.fancyswitch.toggleSwitch(el, {highlight: data.attr('highlight_switch'), width: data.attr('width'), test: data.attr('test')}); %>></div>
            <%== this.data.attr("html_append") %>
        </div>
    </div>
</script>

<!-- --------------fancyswitch.html--- END -->
<!-- --------------google-fonts.html--- START -->
<!--
ioBroker.vis google fonts Widget-Set

version: "1.0.0"

Copyright 2015-2021 bluefox<dogafox@gmail.com>

-->
<style>
/* following text generated automatically -- START STYLE--*/
@font-face {
	font-family: Alegreya-Black;
	src: url(widgets/google-fonts/fonts/Alegreya/Alegreya-Black.ttf);
}
@font-face {
	font-family: Alegreya-BlackItalic;
	src: url(widgets/google-fonts/fonts/Alegreya/Alegreya-BlackItalic.ttf);
}
@font-face {
	font-family: Alegreya-Bold;
	src: url(widgets/google-fonts/fonts/Alegreya/Alegreya-Bold.ttf);
}
@font-face {
	font-family: Alegreya-BoldItalic;
	src: url(widgets/google-fonts/fonts/Alegreya/Alegreya-BoldItalic.ttf);
}
@font-face {
	font-family: Alegreya-Italic;
	src: url(widgets/google-fonts/fonts/Alegreya/Alegreya-Italic.ttf);
}
@font-face {
	font-family: Alegreya-Regular;
	src: url(widgets/google-fonts/fonts/Alegreya/Alegreya-Regular.ttf);
}
@font-face {
	font-family: Anton;
	src: url(widgets/google-fonts/fonts/Anton/Anton.ttf);
}
@font-face {
	font-family: Arimo-Bold;
	src: url(widgets/google-fonts/fonts/Arimo/Arimo-Bold.ttf);
}
@font-face {
	font-family: Arimo-BoldItalic;
	src: url(widgets/google-fonts/fonts/Arimo/Arimo-BoldItalic.ttf);
}
@font-face {
	font-family: Arimo-Italic;
	src: url(widgets/google-fonts/fonts/Arimo/Arimo-Italic.ttf);
}
@font-face {
	font-family: Arimo-Regular;
	src: url(widgets/google-fonts/fonts/Arimo/Arimo-Regular.ttf);
}
@font-face {
	font-family: BadScript-Regular;
	src: url(widgets/google-fonts/fonts/Bad_Script/BadScript-Regular.ttf);
}
@font-face {
	font-family: Bangers;
	src: url(widgets/google-fonts/fonts/Bangers/Bangers.ttf);
}
@font-face {
	font-family: Candal;
	src: url(widgets/google-fonts/fonts/Candal/Candal.ttf);
}
@font-face {
	font-family: Comfortaa-Bold;
	src: url(widgets/google-fonts/fonts/Comfortaa/Comfortaa-Bold.ttf);
}
@font-face {
	font-family: Comfortaa-Light;
	src: url(widgets/google-fonts/fonts/Comfortaa/Comfortaa-Light.ttf);
}
@font-face {
	font-family: Comfortaa-Regular;
	src: url(widgets/google-fonts/fonts/Comfortaa/Comfortaa-Regular.ttf);
}
@font-face {
	font-family: DancingScript-Bold;
	src: url(widgets/google-fonts/fonts/Dancing_Script/DancingScript-Bold.ttf);
}
@font-face {
	font-family: DancingScript-Regular;
	src: url(widgets/google-fonts/fonts/Dancing_Script/DancingScript-Regular.ttf);
}
@font-face {
	font-family: IndieFlower;
	src: url(widgets/google-fonts/fonts/Indie_Flower/IndieFlower.ttf);
}
@font-face {
	font-family: Jura-DemiBold;
	src: url(widgets/google-fonts/fonts/Jura/Jura-DemiBold.ttf);
}
@font-face {
	font-family: Jura-Light;
	src: url(widgets/google-fonts/fonts/Jura/Jura-Light.ttf);
}
@font-face {
	font-family: Jura-Medium;
	src: url(widgets/google-fonts/fonts/Jura/Jura-Medium.ttf);
}
@font-face {
	font-family: Jura-Regular;
	src: url(widgets/google-fonts/fonts/Jura/Jura-Regular.ttf);
}
@font-face {
	font-family: Lobster-Regular;
	src: url(widgets/google-fonts/fonts/Lobster/Lobster-Regular.ttf);
}
@font-face {
	font-family: MarckScript-Regular;
	src: url(widgets/google-fonts/fonts/Marck_Script/MarckScript-Regular.ttf);
}
@font-face {
	font-family: Neucha;
	src: url(widgets/google-fonts/fonts/Neucha/Neucha.ttf);
}
@font-face {
	font-family: OpenSans-CondBold;
	src: url(widgets/google-fonts/fonts/Open_Sans_Condensed/OpenSans-CondBold.ttf);
}
@font-face {
	font-family: OpenSans-CondLight;
	src: url(widgets/google-fonts/fonts/Open_Sans_Condensed/OpenSans-CondLight.ttf);
}
@font-face {
	font-family: OpenSans-CondLightItalic;
	src: url(widgets/google-fonts/fonts/Open_Sans_Condensed/OpenSans-CondLightItalic.ttf);
}
@font-face {
	font-family: Pacifico;
	src: url(widgets/google-fonts/fonts/Pacifico/Pacifico.ttf);
}
@font-face {
	font-family: Play-Bold;
	src: url(widgets/google-fonts/fonts/Play/Play-Bold.ttf);
}
@font-face {
	font-family: Play-Regular;
	src: url(widgets/google-fonts/fonts/Play/Play-Regular.ttf);
}
@font-face {
	font-family: PoiretOne-Regular;
	src: url(widgets/google-fonts/fonts/Poiret_One/PoiretOne-Regular.ttf);
}
@font-face {
	font-family: PressStart2P-Regular;
	src: url(widgets/google-fonts/fonts/Press_Start_2P/PressStart2P-Regular.ttf);
}
@font-face {
	font-family: RobotoCondensed-Bold;
	src: url(widgets/google-fonts/fonts/Roboto_Condensed/RobotoCondensed-Bold.ttf);
}
@font-face {
	font-family: RobotoCondensed-BoldItalic;
	src: url(widgets/google-fonts/fonts/Roboto_Condensed/RobotoCondensed-BoldItalic.ttf);
}
@font-face {
	font-family: RobotoCondensed-Italic;
	src: url(widgets/google-fonts/fonts/Roboto_Condensed/RobotoCondensed-Italic.ttf);
}
@font-face {
	font-family: RobotoCondensed-Light;
	src: url(widgets/google-fonts/fonts/Roboto_Condensed/RobotoCondensed-Light.ttf);
}
@font-face {
	font-family: RobotoCondensed-LightItalic;
	src: url(widgets/google-fonts/fonts/Roboto_Condensed/RobotoCondensed-LightItalic.ttf);
}
@font-face {
	font-family: RobotoCondensed-Regular;
	src: url(widgets/google-fonts/fonts/Roboto_Condensed/RobotoCondensed-Regular.ttf);
}
@font-face {
	font-family: RubikMonoOne-Regular;
	src: url(widgets/google-fonts/fonts/Rubik_Mono_One/RubikMonoOne-Regular.ttf);
}
@font-face {
	font-family: RubikOne-Regular;
	src: url(widgets/google-fonts/fonts/Rubik_One/RubikOne-Regular.ttf);
}
@font-face {
	font-family: RuslanDisplay;
	src: url(widgets/google-fonts/fonts/Ruslan_Display/RuslanDisplay.ttf);
}
@font-face {
	font-family: RussoOne-Regular;
	src: url(widgets/google-fonts/fonts/Russo_One/RussoOne-Regular.ttf);
}
@font-face {
	font-family: ShadowsIntoLight;
	src: url(widgets/google-fonts/fonts/Shadows_Into_Light/ShadowsIntoLight.ttf);
}
@font-face {
	font-family: SigmarOne;
	src: url(widgets/google-fonts/fonts/Sigmar_One/SigmarOne.ttf);
}
@font-face {
	font-family: StalinistOne-Regular;
	src: url(widgets/google-fonts/fonts/Stalinist_One/StalinistOne-Regular.ttf);
}
@font-face {
	font-family: Ubuntu-Bold;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-Bold.ttf);
}
@font-face {
	font-family: Ubuntu-BoldItalic;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-BoldItalic.ttf);
}
@font-face {
	font-family: Ubuntu-Italic;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-Italic.ttf);
}
@font-face {
	font-family: Ubuntu-Light;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-Light.ttf);
}
@font-face {
	font-family: Ubuntu-LightItalic;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-LightItalic.ttf);
}
@font-face {
	font-family: Ubuntu-Medium;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-Medium.ttf);
}
@font-face {
	font-family: Ubuntu-MediumItalic;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-MediumItalic.ttf);
}
@font-face {
	font-family: Ubuntu-Regular;
	src: url(widgets/google-fonts/fonts/Ubuntu/Ubuntu-Regular.ttf);
}

/* following text generated automatically -- END STYLE--*/
</style>


<script>
    "use strict";
    if (vis.editMode) {
        var fonts =
/* following text generated automatically -- START LIST--*/
[
    "Alegreya-Black",
    "Alegreya-BlackItalic",
    "Alegreya-Bold",
    "Alegreya-BoldItalic",
    "Alegreya-Italic",
    "Alegreya-Regular",
    "Anton",
    "Arimo-Bold",
    "Arimo-BoldItalic",
    "Arimo-Italic",
    "Arimo-Regular",
    "BadScript-Regular",
    "Bangers",
    "Candal",
    "Comfortaa-Bold",
    "Comfortaa-Light",
    "Comfortaa-Regular",
    "DancingScript-Bold",
    "DancingScript-Regular",
    "IndieFlower",
    "Jura-DemiBold",
    "Jura-Light",
    "Jura-Medium",
    "Jura-Regular",
    "Lobster-Regular",
    "MarckScript-Regular",
    "Neucha",
    "OpenSans-CondBold",
    "OpenSans-CondLight",
    "OpenSans-CondLightItalic",
    "Pacifico",
    "Play-Bold",
    "Play-Regular",
    "PoiretOne-Regular",
    "PressStart2P-Regular",
    "RobotoCondensed-Bold",
    "RobotoCondensed-BoldItalic",
    "RobotoCondensed-Italic",
    "RobotoCondensed-Light",
    "RobotoCondensed-LightItalic",
    "RobotoCondensed-Regular",
    "RubikMonoOne-Regular",
    "RubikOne-Regular",
    "RuslanDisplay",
    "RussoOne-Regular",
    "ShadowsIntoLight",
    "SigmarOne",
    "StalinistOne-Regular",
    "Ubuntu-Bold",
    "Ubuntu-BoldItalic",
    "Ubuntu-Italic",
    "Ubuntu-Light",
    "Ubuntu-LightItalic",
    "Ubuntu-Medium",
    "Ubuntu-MediumItalic",
    "Ubuntu-Regular"
]
/* following text generated automatically -- END LIST--*/
                ;
        // wait till visEditInspect loaded
        setTimeout(function () {
            for (var f = 0; f < fonts.length; f++) {
                vis.addFont(fonts[f]);
            }
        }, 100);
        vis.binds['google-fonts'] = {
            version: "0.0.1",
            showVersion: function () {
                if (vis.binds['google-fonts'].version) {
                    console.log('Version vis-google-fonts: ' + vis.binds['google-fonts'].version);
                    vis.binds['google-fonts'].version = null;
                }
            }
        };
        vis.binds['google-fonts'].showVersion();
    }
</script>

<!-- --------------google-fonts.html--- END -->
<!-- --------------history.html--- START -->
<!--
    ioBroker.vis history widgets

    version: "1.0.0"

    Copyright 2016-2019 bluefox<dogafox@gmail.com>

-->
<script type="text/javascript" src="./vis_files/jquery.sparkline.min.js"></script>

<script type="text/javascript">
    'use strict';
    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "format_date":          {"en": "Dateformat",        "de": "Datumformat",            "ru": "Формат даты"},
            "format_date_tooltip": {
                "en": "Dateformat",
                "de": "Datumformat",
                "ru": "Формат даты"
            },
            "1 second":         {"en": "1 second",              "de": "1 Sekunde",              "ru": "1 секунда"},
            "10 seconds":       {"en": "10 seconds",            "de": "10 Sekunden",            "ru": "10 секунд"},
            "30 seconds":       {"en": "30 seconds",            "de": "30 Sekunden",            "ru": "30 секунд"},
            "1 minute":         {"en": "1 minute",              "de": "1 Minute",               "ru": "1 минута"},
            "2 minutes":        {"en": "2 minutes",             "de": "2 Minuten",              "ru": "2 минуты"},
            "5 minutes":        {"en": "5 minutes",             "de": "5 Minuten",              "ru": "5 минут"},
            "10 minutes":       {"en": "10 minutes",            "de": "10 Minuten",             "ru": "10 минут"},
            "30 minutes":       {"en": "30 minutes",            "de": "30 Minuten",             "ru": "30 минут"},
            "1 hour":           {"en": "1 hour",                "de": "1 Stunde",               "ru": "1 час"},
            "2 hours":          {"en": "2 hours",               "de": "2 Stunden",              "ru": "2 часа"},
            "4 hours":          {"en": "4 hours",               "de": "4 Stunden",              "ru": "4 часа"},
            "8 hours":          {"en": "8 hours",               "de": "8 Stunden",              "ru": "8 часов"},
            "12 hours":         {"en": "12 hours",              "de": "12 Stunden",             "ru": "12 часов"},
            "24 hours":         {"en": "24 hours",              "de": "24 Stunden",             "ru": "24 часа"},
            "instance":         {"en": "history instance",      "de": "Historyinstanz",         "ru": "Экземпляр"},
            "group_advanced":   {"en": "Advanced",              "de": "Erweitert",              "ru": "Дополнительно"},
            "max_lines":        {"en": "Max. event amount",     "de": "max. Ereignisse",        "ru": "Макс. кол-во событий"},
            "time_interval_min": {"en": "Not older than",       "de": "Nicht älter als",        "ru": "Не позже чем"},
            "timeAsInterval":   {"en": "Time as interval",      "de": "Zeit als Intervall",     "ru": "Время, как интервал"},
            "inverseOrder":     {"en": "Inverse order",         "de": "Reihenfolge invertieren", "ru": "Обратный порядок"},
            "group_columns":    {"en": "Columns",               "de": "Spalten",                "ru": "Колонки"},
            "table_attr":       {"en": "Table CSS style",       "de": "CSS Stil - Tabelle",     "ru": "Таблица - CSS стиль"},
            "header_attr":      {"en": "Header CSS style",      "de": "CSS Stil - Beschriftung", "ru": "Заголовок - CSS стиль"},
            "time_name":        {"en": "Time - name",           "de": "Zeit - Name",            "ru": "Время - имя"},
            "time_hide":        {"en": "Time - hide",           "de": "Zeit - nicht zeigen",    "ru": "Время - скрыть"},
            "time_width":       {"en": "Time - width",          "de": "Zeit - Breite",          "ru": "Время - ширина"},
            "time_attr":        {"en": "Time - CSS style",      "de": "Zeit - CSS Stil",        "ru": "Время - CSS стиль"},
            "time_unit":        {"en": "Time - suffix",         "de": "Zeit - Suffix",          "ru": "Время - суффикс"},
            "val_name":         {"en": "Val- name",             "de": "Wert - Name",            "ru": "Значение - имя"},
            "val_hide":         {"en": "Val - hide",            "de": "Wert - nicht zeigen",    "ru": "Значение - скрыть"},
            "val_width":        {"en": "Val - width",           "de": "Wert - Breite",          "ru": "Значение - ширина"},
            "val_attr":         {"en": "Val - CSS style",       "de": "Wert - CSS Stil",        "ru": "Значение - CSS стиль"},
            "val_unit":         {"en": "Val - units",           "de": "Wert - Einheit",         "ru": "Значение - единицы"},
            "from_name":        {"en": "From - name",           "de": "Von - Name",             "ru": "От - имя"},
            "from_hide":        {"en": "From - hide",           "de": "Von - nicht zeigen",     "ru": "От - скрыть"},
            "from_width":       {"en": "From - width",          "de": "Von - Breite",           "ru": "От - ширина"},
            "from_attr":        {"en": "From - CSS style",      "de": "Von - CSS Stil",         "ru": "От - CSS стиль"},
            "from_unit":        {"en": "From - suffix",         "de": "Von - Suffix",           "ru": "От - суффикс"},
            "average":          {"en": "average",               "de": "Mittelwert",             "ru": "среднее"},
            "total":            {"en": "total",                 "de": "Summe",                  "ru": "сумма"},
            "line":             {"en": "line",                  "de": "Linie",                  "ru": "Линия"},
            "aggregate":        {"en": "Aggregation",           "de": "Aggregation",            "ru": "Аггрегирование"},
            "chartType":        {"en": "chartType",             "de": "Charttyp",               "ru": "Тип графика"},
            "points":           {"en": "points",                "de": "Anzahl Werten",          "ru": "Кол-во точек"},
            "time_interval":    {"en": "Time interval",         "de": "Zeitintervall",          "ru": "Интервал"},
            "group_line":       {"en": "Line",                  "de": "Linie-Chart",            "ru": "Линия"},
            "lineColor":        {"en": "Line color",            "de": "Linie-Farbe",            "ru": "Цвет линии"},
            "fillColor":        {"en": "Fill color",            "de": "Füllfarbe",              "ru": "Цвет заливки"},
            "lineWidth":        {"en": "Line width",            "de": "Liniendicke",            "ru": "Ширина линии"},
            "group_bar":        {"en": "Bar",                   "de": "Bar-Chart",              "ru": "Столбцы"},
            "barColor":         {"en": "Positive color",        "de": "Positivfarbe",           "ru": "Цвет положительных столбцов"},
            "negBarColor":      {"en": "negative color",        "de": "Negativfarbe",           "ru": "Цвет отрицательных столбцов"},
            "zeroColor":        {"en": "Zero color",            "de": "0-Farbe",                "ru": "Цвер нулевых значений"},
            "barSpacing":       {"en": "Bar's spacing",         "de": "Abstand",                "ru": "Расстояние между столбцами"},
            "disableTooltips":  {"en": "Hide tooltips",         "de": "Kein Tooltips",          "ru": "Нет подсказки"},
            "history":          {"en": "history",               "de": "history",                "ru": "history"}
        });
    }

    vis.binds.history = {
        version: "1.0.0",
        showVersion: function () {
            if (vis.binds.history.version) {
                console.log('Version vis-history: ' + vis.binds.history.version);
                vis.binds.history.version = null;
            }
        },
        updateWidgets: [],
        updateIntervalTimer: null,
        startIntervalUpdate: function () {
            if (vis.editMode) return;
            if (vis.binds.history.updateWidgets.length && !vis.binds.history.updateIntervalTimer) {
                vis.binds.history.updateIntervalTimer = setInterval(vis.binds.history.updateInterval, 30000);
            } else if (!vis.binds.history.updateWidgets.length && vis.binds.history.updateIntervalTimer) {
                clearInterval(vis.binds.history.updateIntervalTimer);
                vis.binds.history.updateIntervalTimer = null;
            }
        },
        updateInterval: function () {
            for (var wid = 0; wid < vis.binds.history.updateWidgets.length; wid++) {
                vis.binds.history.eventList.update($('#' + vis.binds.history.updateWidgets[wid]).find('.vis-widget-body'));
            }
        },
        eventList: {
            intervals: {
                '1 second':     1000,
                '10 seconds':   10000,
                '30 seconds':   30000,
                '1 minute':     60000,
                '2 minutes':    120000,
                '5 minutes':    300000,
                '10 minutes':   600000,
                '30 minutes':   1800000,
                '1 hour':       3600000,
                '2 hours':      7200000,
                '4 hours':      14400000,
                '8 hours':      28800000,
                '12 hours':     43200000,
                '24 hours':     86400000

            },
            header: function (data) {
                var text = data.title ? '<div style="text-align: center; width: 100%;' + (data.title_attr || '') + '">' + data.title + '</div>' : '';
                text += '<table class="vis-no-spaces">\n';
                var table_attr = (data.table_attr || '');
                var attrTime = (data.time_width ? 'width: ' + data.time_width + 'px;' : '');
                var attrVal  = (data.val_width  ? 'width: ' + data.val_width  + 'px;' : '');
                var attrFrom = (data.from_width ? 'width: ' + data.from_width + 'px;' : '');

                if ((!data.time_hide && data.time_name) ||
                    (!data.val_hide  && data.val_name) ||
                    (!data.from_hide && data.from_name)) {
                    text += '<tr style="' + (data.header_attr || '') + ';' + table_attr + '">';
                    if (!data.time_hide) text += '<th style="' + attrTime + table_attr + '">' + (data.time_name || '') + '</th>';
                    if (!data.val_hide)  text += '<th style="' + attrVal  + table_attr + '">' + (data.val_name  || '') + '</th>';
                    if (!data.from_hide) text += '<th style="' + attrFrom + table_attr + '">' + (data.from_name || '') + '</th>';
                    attrTime = '';
                    attrVal  = '';
                    attrFrom = '';
                }
                return {text: text, attrTime: attrTime, attrVal: attrVal, attrFrom: attrFrom, table_attr: table_attr};
            },
            renderLine: function (header, data, result, line) {
                var resLine = result[line] || {val: '&nbsp;', from: '&nbsp;'};
                var text = '<tr style="' + header.table_attr + '">';
                var time;
                if (resLine.ts) {
                    time = data.timeAsInterval ? vis.binds.basic.getTimeInterval(resLine.ts) : vis.binds.basic.formatDate(resLine.ts, data.format_date);
                } else {
                    time = '&nbsp;';
                }

                if (time !== '&nbsp;' && data.time_unit) time += data.time_unit;
                if (data.val_unit && resLine.val !== '&nbsp;' && resLine.val !== null && resLine.val !== undefined && resLine.val !== '') resLine.val += data.val_unit;
                if (data.from_unit && resLine.from !== '&nbsp;' && resLine.from !== null && resLine.from !== undefined && resLine.from !== '') resLine.from += data.from_unit;

                if (!data.time_hide) text += '<td style="' + header.attrTime + (data.time_attr || '') + ';' + header.table_attr + '">' + time + '</td>';
                if (!data.val_hide) {
                    if (resLine.val && typeof resLine.val === 'string' && resLine.val.match(/https?:\/\//)) resLine.val = '<a href="' + resLine.val + '" target="eventList">' + resLine.val.split('/').pop() + '</a>';
                    text += '<td style="' + header.attrVal  + (data.val_attr  || '') + ';' + header.table_attr + '">' + resLine.val + '</td>';
                }
                if (!data.from_hide) text += '<td style="' + header.attrFrom + (data.from_attr || '') + ';' + header.table_attr + '">' + (resLine.from || '') + '</td>';

                text += '</tr>\n';
                return text;
            },
            update: function ($div) {
                var data = $div.data('options');
                if (!data.oid || !data.instance) {
                    var header = vis.binds.history.eventList.header(data);
                    if (data.max_lines) {
                        for (var e = 0; e < data.max_lines; e++) {
                            header.text += vis.binds.history.eventList.renderLine(header, data, [], e);
                        }
                    }
                    header.text += '</table>';
                    $div.html(header.text);
                } else {
                    vis.getHistory(data.oid, {
                        instance:   data.instance,
                        count:      parseInt(data.max_lines, 10) || 10,
                        aggregate:  'none',
                        from:       !data.from_hide,
                        start:      vis.binds.history.eventList.intervals[data.time_interval_min] ? new Date().getTime() - vis.binds.history.eventList.intervals[data.time_interval_min] : undefined,
                        timeout:    2000
                    }, function (err, result) {
                        var e;
                        if (err) console.log(err);
                        if (result && result.length) {
                            var header = vis.binds.history.eventList.header(data);
                            var cnt = 0;
                            if (data.inverseOrder) {
                                for (e = 0; e < result.length; e++) {
                                    header.text += vis.binds.history.eventList.renderLine(header, data, result, e);
                                    if (data.max_lines && ++cnt >= data.max_lines) break;
                                }
                            } else {
                                for (e = result.length - 1; e >= 0; e--) {
                                    header.text += vis.binds.history.eventList.renderLine(header, data, result, e);
                                    if (data.max_lines && ++cnt >= data.max_lines) break;
                                }
                            }

                            if (data.max_lines) {
                                for (e = result.length; e < data.max_lines; e++) {
                                    header.text += vis.binds.history.eventList.renderLine(header, data, result, e);
                                }
                            }
                            header.text += '</table>';
                            $div.html(header.text);
                        } else {
                            var header = vis.binds.history.eventList.header(data);
                            header.text += '<tr><td colspan="3">' + (err || _('no data')) + '</td></tr>';
                            if (data.max_lines) {
                                for (e = 1; e < data.max_lines; e++) {
                                    header.text += vis.binds.history.eventList.renderLine(header, data, [], e);
                                }
                            }
                            header.text += '</table>';
                            $div.html(header.text);
                        }
                    });
                }
            },
            init: function (el, view, data) {
                var $div = $(el);

                var _data = {};
                for (var s  in data) {
                    if (s[0] !== '_' && data.hasOwnProperty(s) && typeof data[s] !== 'object' && typeof data[s] !== 'function') {
                        _data[s] = data[s];
                    }
                }
                data = null;
                $div.data('options', _data);

                if (_data.oid && _data.instance) {
                    if (_data.timeAsInterval && vis.binds.history.updateWidgets.indexOf(_data.wid) === -1) {
                        vis.binds.history.updateWidgets.push(_data.wid);
                        vis.binds.history.startIntervalUpdate();
                    }

                    var updateTimer = null;
                    function onChange () {
                        if (!updateTimer) {
                            updateTimer = setTimeout(function () {
                                updateTimer = null;
                                vis.binds.history.eventList.update($div);
                            }, 100);
                        }
                    }

                    vis.states.bind(_data.oid + '.val', onChange);
                    vis.states.bind(_data.oid + '.ts', onChange);

                    $div.data('bound', [_data.oid + '.val', _data.oid + '.ts'])
                        // remember bind handler
                        .data('bindHandler', onChange);
                }
                vis.binds.history.eventList.update($div);
            }
        },
        sparkLine: {
            update: function ($div) {
                var data = $div.data('options');
                if (!data.oid || !data.instance) {
                    $div.sparkline([0,0], {
                        width: $div.width(),
                        height: $div.height(),
                        lineColor: data.lineColor,
                        fillColor: data.fillColor,
                        chartRangeMin: data.min === '' || data.min === null || data.min === 'undefined' ? undefined : parseFloat(data.min),
                        chartRangeMax: data.max === '' || data.max === null || data.max === 'undefined' ? undefined : parseFloat(data.max),
                        lineWidth: parseInt(data.lineWidth, 10) || 1
                    });
                } else {
                    vis.getHistory(data.oid, {
                        instance:   data.instance,
                        count:      parseInt(data.points, 10) || 10,
                        step:       parseInt(data.time_interval_min, 10) || 60000,
                        aggregate:  data.aggregate || 'average',
                        start:      vis.binds.history.eventList.intervals[data.time_interval] ? new Date().getTime() - vis.binds.history.eventList.intervals[data.time_interval] : undefined,
                        end:        new Date().getTime() + 5000,
                        timeout:    2000
                    }, function (err, result) {
                        var data = $div.data('options');
                        if (err) console.log(err);
                        if (result && result.length) {
                            var values = [];
                            for (var i = 0; i < result.length; i++) {
                                values.push(result[i].val)
                            }
                            var barWidth = $div.width() / result.length - (parseFloat(data.barSpacing) || 1);

                            $div.sparkline(values, {
                                type: data.chartType || 'line',
                                width: $div.width(),
                                height: $div.height(),
                                lineColor: data.lineColor || undefined,
                                barColor: data.barColor || undefined,
                                negBarColor: data.negBarColor || undefined,
                                zeroColor: data.zeroColor || undefined,
                                fillColor: data.fillColor || undefined,
                                barWidth: barWidth,
                                disableTooltips: data.disableTooltips || undefined,
                                barSpacing: parseFloat(data.barSpacing) || 1,
                                chartRangeMin: data.min === '' || data.min === null || data.min === 'undefined' ? undefined : parseFloat(data.min),
                                chartRangeMax: data.max === '' || data.max === null || data.max === 'undefined' ? undefined : parseFloat(data.max),
                                lineWidth: parseInt(data.lineWidth, 10) || 1
                            });
                        } else {
                            $div.sparkline([0,0], {
                                width: $div.width(),
                                height: $div.height(),
                                lineColor: data.lineColor || undefined,
                                fillColor: data.fillColor || undefined,
                                chartRangeMin: data.min === '' || data.min === null || data.min === 'undefined' ? undefined : parseFloat(data.min),
                                chartRangeMax: data.max === '' || data.max === null || data.max === 'undefined' ? undefined : parseFloat(data.max),
                                lineWidth: parseInt(data.lineWidth, 10) || 1
                            });
                        }
                    });
                }

            },
            init: function (el, view, data) {
                var $div = $(el);

                var _data = {};
                for (var s  in data) {
                    if (s[0] !== '_' && data.hasOwnProperty(s) && typeof data[s] !== 'object' && typeof data[s] !== 'function') {
                        _data[s] = data[s];
                    }
                }
                data = null;
                $div.data('options', _data);

                if (_data.oid && _data.instance) {
                    var updateTimer = null;
                    function onChange () {
                        if (!updateTimer) {
                            updateTimer = setTimeout(function () {
                                updateTimer = null;
                                vis.binds.history.sparkLine.update($div);
                            }, 100);
                        }
                    }

                    vis.states.bind(_data.oid + '.val', onChange);
                    vis.states.bind(_data.oid + '.ts', onChange);

                    $div.data('bound', [_data.oid + '.val', _data.oid + '.ts'])
                    // remember bind handler
                        .data('bindHandler', onChange);

                    // update every x seconds
                    if (!vis.editMode) {
                        $div.data('timer', setInterval(function () {
                            vis.binds.history.sparkLine.update($div);
                        }, parseInt(vis.binds.history.eventList.intervals[_data.time_interval] / (parseInt(_data.points, 10) || 10), 10)));
                    }
                }
                vis.binds.history.sparkLine.update($div);
            }
        }
    };

    if (vis.editMode) {
        vis.binds.history.onHidChanged = function (widgetID, view, newId, fields) {
            var obj = vis.objects[newId];
            if (!obj || !obj.common) return null;
            var changed = [];
            var actualInstance = vis.views[view].widgets[widgetID].data.instance;
            // Check if actual instance still in options
            var firstInstance = '';
            var found = false;
            var custom = obj.common.custom || obj.common.history;
            for (var h in custom) {
                if (!custom.hasOwnProperty(h)) continue;
                if (custom[h].enabled) {
                    if (firstInstance === '') firstInstance = h;
                    if (h === actualInstance) {
                        found = true;
                        break;
                    }
                }
            }
            if (!found) {
                changed.push('instance');
                vis.views[view].widgets[widgetID].data.instance = firstInstance;
            }
            return changed.length ? changed : null;
        };
    }

    vis.binds.history.showVersion();
</script>

<script id="tplHistoryEventList" type="text/ejs" class="vis-tpl" data-vis-set="history" data-vis-name="Event list" data-vis-type="history" data-vis-prev="&lt;img src=&quot;widgets/history/img/Prev_tplHistoryEventList.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid/hid/onHidChanged;instance/history;" data-vis-attrs0="group.advanced;max_lines[6]/slider,1,100,1;time_interval_min/select,none,1 second,10 seconds,30 seconds,1 minute,2 minutes,5 minutes,10 minutes,30 minutes,1 hour,2 hours,4 hours,8 hours,12 hours,24 hours;" data-vis-attrs1="format_date[hh:mm:ss.sss]/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY.MM.DD,DD.MM.YYYY,YYYY/MM/DD hh:mm:ss,YYYY/MM/DD,hh:mm:ss;timeAsInterval/checkbox;inverseOrder/checkbox;" data-vis-attrs2="group.columns;table_attr;header_attr;" data-vis-attrs3="time_name[Time];time_hide/checkbox;time_width[100]/slider,0,300,1;time_attr;time_unit;" data-vis-attrs4="val_name[Value];val_hide/checkbox;val_width/slider,0,300,1;val_attr[text-align: center§];val_unit;" data-vis-attrs5="from_name[Form];from_hide[true]/checkbox;from_width/slider,0,300,1;from_attr;from_unit;" data-vis-attrs6="class[vis-style-green-gray]/hidden">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: hidden; width: 210px; height: 170px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.history.eventList.init(el, this.view, this.data) %>></div>
    </div>
</script>

<script id="tplHistorySparkLIne" type="text/ejs" class="vis-tpl" data-vis-set="history" data-vis-name="Sparkline" data-vis-type="history" data-vis-update-style="true" data-vis-prev="&lt;img src=&quot;widgets/history/img/Prev_tplHistorySparkLine.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid/hid/onHidChanged;instance/history;aggregate[average]/select,average,min,max,total;chartType[line]/select,line,bar;" data-vis-attrs0="points[20]/slider,1,100,1;time_interval[10 minutes]/select,1 second,10 seconds,30 seconds,1 minute,2 minutes,5 minutes,10 minutes,30 minutes,1 hour,2 hours,4 hours,8 hours,12 hours,24 hours;;min;max;disableTooltips/checkbox;" data-vis-attrs1="group.line;lineColor/color;fillColor/color;lineWidth/slider,1,10,1;" data-vis-attrs2="group.bar;barColor/color;negBarColor/color;zeroColor/color;min;max;barSpacing/slider,1,10,1;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: hidden; width: 210px; height: 170px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.history.sparkLine.init(el, this.view, this.data) %>></div>
    </div>
</script>

<!-- --------------history.html--- END -->
<!-- --------------hqwidgets.html--- START -->
<!--
    ioBroker.vis high quality Widget-Set

    version: "1.5.1"

    Copyright 6'2014-2024 bluefox <dogafox@gmail.com>

-->
<link rel="stylesheet" type="text/css" href="./vis_files/hqwidgets.css">
<link rel="stylesheet" type="text/css" href="./vis_files/hqwidgetsButtons.css">
<link rel="stylesheet" type="text/css" href="./vis_files/checkbox.css">
<link rel="stylesheet" type="text/css" href="./vis_files/glossy.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-car.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-default.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-digital.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-minimal.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-plaza.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-slot-machine.css">
<link rel="stylesheet" type="text/css" href="./vis_files/odometer-theme-train-station.css">

<script type="text/javascript" src="./vis_files/jquery.knob.js"></script>
<script type="text/javascript" src="./vis_files/odometer.min.js"></script>
<script type="text/javascript" src="./vis_files/hqwidgets.js"></script>

<style>
        .odometer-leading .odometer-inside .odometer-digit:first-child,
        /*, .odometer-leading .odometer-inside .odometer-formatting-mark:nth-child(2),*/
        .odometer-leading .odometer-inside .odometer-digit:last-child {
            display: none
        }
</style>

<script id="tplHqButton" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="On/Off" data-vis-update-style="true" data-vis-type="ctrl,bool,button,state" data-vis-prev="&lt;div id=&quot;prev_tplHqButton&quot; style=&quot;position: relative; text-align: initial;padding: 10px !important&quot;&gt;&lt;div class=&quot;vis-widget_prev vis-hq-button-base&quot; style=&quot;overflow: visible; width: 64px; height: 64px; border-radius: 64px; left: 543px; top: 37px; position: absolute;&quot;&gt;&lt;div class=&quot;vis-hq-main vis-hq-button-base-on&quot; style=&quot;z-index: 1; border-radius: 64px;&quot;&gt;&lt;div class=&quot;vis-hq-middle&quot;&gt;&lt;table class=&quot;vis-hq-table hq-no-space&quot; style=&quot;position: absolute; left: 4px; top: 2px;&quot;&gt;&lt;tbody&gt;&lt;tr class=&quot;hq-no-space&quot;&gt;&lt;td class=&quot;hq-no-space&quot;&gt;&lt;div class=&quot;vis-hq-icon&quot; style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;vis-hq-icon-img&quot; style=&quot;height: 56px; width: auto;&quot; src=&quot;img/bulb_off.png&quot;&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid[nothing_selected]/id/changedButtonId;oid-working;oid-battery;oid-signal;readOnly/checkbox;" data-vis-attrs0="group.value;min[false];max[true];pushButton/checkbox;" data-vis-attrs1="group.center;caption;captionOn;iconName[img~bulb_off.png]/image;iconOn/image;btIconWidth[56]/slider,0,400,1;offsetAuto[true]/checkbox;leftOffset[15]/slider,0,100,1;topOffset[55]/slider,0,100,1;" data-vis-attrs2="group.leftRight;hoursLastAction/nselect,,1,2,3,6,12,24,1024;timeAsInterval[true]/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY/MM/DD hh:mm:ss,hh:mm:ss,hh:mm;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;infoRight;infoFontRightSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;infoRightPaddingLeft/slider,0,100,1;infoRightPaddingRight[15]/slider,0,100,1;" data-vis-attrs3="group.styles;styleNormal/style,hqwidgetsButtons glossy,-button,background;styleActive/style,hqwidgetsButtons glossy,-button,background;usejQueryStyle/checkbox;changeEffect/nselect,,waves,wobble,tada,swing,shake,rubberBand,pulse,flash,bounce;waveColor/color;testActive/checkbox;" data-vis-attrs4="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;oidTrueValue;oidFalseValue;" data-vis-filter="HM-LC-Sw1-Pl,HM-LC-Sw1-FM,HM-Dis-TD-T,HM-LC-Sw2-FM,HM-LC-Sw1PBU-FM,HM-LC-Sw1-SM,HM-LC-Sw1-FM,HM-LC-Sw2-FM,HM-LC-Sw4-PCB,HM-LC-Sw4-SM,HM-LC-Sw4-DR,HM-LC-Sw4-WM,HM-Sec-SFA-SM,HM-OU-CF-Pl,HM-OU-CFM-Pl,HMW-LC-Sw2-DR,HM-LC-Sw1-PB-FM,HM-LC-Sw2-PB-FM,HMW-IO-12-Sw14-DR,HMW-IO-12-Sw7-DR,HM-ES-PMSw1-Pl">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px; border-radius: 64px" id="<%= this.data.attr('wid') %>"><%
         vis.binds.hqwidgets.button.init(this.data.wid, this.view, this.data, this.style);
    %></div>
</script>

<script id="tplHqDimmer" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Dimmer" data-vis-type="ctrl,dimmer,button" data-vis-prev="&lt;img src=&quot;widgets/hqwidgets/img/prev/Prev_hqwidgetsDimmer.png&quot;&gt;&lt;/img&gt;" data-vis-update-style="true" data-vis-attrs="oid[nothing_selected]/id/changedButtonId;oid-working;oid-battery;oid-signal;" data-vis-attrs0="group.value;unit[%];min[0];max[100];digits[0]/number;step[1];is_comma[true]/checkbox;set_by_click/number;" data-vis-attrs1="group.center;caption;iconName[img~bulb_off.png]/image;iconOn/image;btIconWidth[56]/slider,0,400,1;offsetAuto[true]/checkbox;leftOffset[15]/slider,0,100,1;topOffset[55]/slider,0,100,1;circleWidth[50]/slider,1,200,1;showValue[true]/checkbox;alwaysShow/checkbox;" data-vis-attrs2="group.leftRight;hoursLastAction/nselect,,1,2,3,6,12,24,1024;timeAsInterval[true]/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY/MM/DD hh:mm:ss,hh:mm:ss,hh:mm;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;infoFontRightSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;infoRightPaddingLeft/slider,0,100,1;infoRightPaddingRight[15]/slider,0,100,1;" data-vis-attrs3="group.styles;styleNormal/style,hqwidgetsButtons glossy,-button,background;styleActive/style,hqwidgetsButtons glossy,-button,background;usejQueryStyle/checkbox;changeEffect/nselect,,waves,wobble,tada,swing,shake,rubberBand,pulse,flash,bounce;waveColor/color;testActive/checkbox" data-vis-filter="light.dimmer">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px; border-radius: 64px" id="<%= this.data.attr('wid') %>"><%
        vis.binds.hqwidgets.button.init(this.data.wid, this.view, this.data, this.style, 'number');
    %></div>
</script>

<script id="tplHqInTemp" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Inner temperature" data-vis-type="ctrl,temperature" data-vis-prev="&lt;img src=&quot;widgets/hqwidgets/img/prev/Prev_hqwidgetsInTemp.png&quot;&gt;&lt;/img&gt;" data-vis-update-style="true" data-vis-attrs="oid[nothing_selected]/id,level.temperature/changedTempId;oid-humidity/id,value.humidity;oid-actual/id,value.temperature/changedTemperatureId;oid-drive/id,value.valve;valveBinary/checkbox;valve1/checkbox;oid-battery/id,indicator.battery;" data-vis-attrs0="group.value;unit[°C];min[6];max[30];digits[0]/number;step[1];is_comma[true]/checkbox;" data-vis-attrs1="group.center;caption;iconName[img~Heating.png]/image;btIconWidth[45]/slider,0,400,1;offsetAuto[true]/checkbox;leftOffset[25]/slider,0,100,1;topOffset[55]/slider,0,100,1;circleWidth[50]/slider,1,100,1;showValue[true]/checkbox;alwaysShow/checkbox;midTextColor/color;" data-vis-attrs2="group.leftRight;hoursLastAction/nselect,,1,2,3,6,12,24,1024;timeAsInterval[true]/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY/MM/DD hh:mm:ss,hh:mm:ss,hh:mm;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;infoFontRightSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;infoRightPaddingLeft/slider,0,100,1;infoRightPaddingRight[15]/slider,0,100,1;" data-vis-attrs3="group.styles;styleNormal[hq-button-base-intemp]/style,hqwidgetsButtons,-button,background;usejQueryStyle/checkbox;changeEffect/nselect,,waves,wobble,tada,swing,shake,rubberBand,pulse,flash,bounce;waveColor/color;testActive/checkbox;" data-vis-attrs4="group.chart;url;dialog_title;dialog_width;dialog_height;dialog_effect/effect;dialog_timeout/number,0,3600000,100;dialog_modal/checkbox;dialog_open/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px; border-radius: 64px" id="<%= this.data.attr('wid') %>"><%
        this.data.temperature = true;
        vis.binds.hqwidgets.button.init(this.data.wid, this.view, this.data, this.style, 'number');
    %></div>
</script>

<script id="tplHqOutTemp" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Outdoor temperature" data-vis-type="value,temperature" data-vis-prev="&lt;img src=&quot;widgets/hqwidgets/img/prev/Prev_hqwidgetsOutTemp.png&quot;&gt;&lt;/img&gt;" data-vis-update-style="true" data-vis-attrs="oid-actual/id,value.temperature/changedTempId;oid-humidity/id,value.humidity;oid-battery/id,indicator.battery;" data-vis-attrs0="group.value;unit[°C];min[6];max[30];digits[0]/number;step[1];is_comma[true]/checkbox;" data-vis-attrs1="group.center;caption;iconName[img~Heating.png]/image;btIconWidth[45]/slider,0,400,1;offsetAuto[true]/checkbox;leftOffset[25]/slider,0,100,1;topOffset[55]/slider,0,100,1;circleWidth[50]/slider,1,100,1;showValue[true]/checkbox;alwaysShow/checkbox;midTextColor/color;" data-vis-attrs2="group.leftRight;hoursLastAction/nselect,,1,2,3,6,12,24,1024;timeAsInterval[true]/checkbox;format_date/auto,YYYY.MM.DD hh:mm:ss,DD.MM.YYYY hh:mm:ss,YYYY/MM/DD hh:mm:ss,hh:mm:ss,hh:mm;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;infoFontRightSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;infoRightPaddingLeft/slider,0,100,1;infoRightPaddingRight[15]/slider,0,100,1;" data-vis-attrs3="group.styles;styleNormal[hq-button-base-outtemp]/style,hqwidgetsButtons,-button,background;usejQueryStyle/checkbox;changeEffect/nselect,,waves,wobble,tada,swing,shake,rubberBand,pulse,flash,bounce;waveColor/color;testActive/checkbox;" data-vis-attrs4="group.chart;url;dialog_title;dialog_width;dialog_height;dialog_effect/effect;dialog_timeout/number,0,3600000,100;dialog_modal/checkbox;dialog_open/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px; border-radius: 64px" id="<%= this.data.attr('wid') %>"><%
        this.data.temperature = true;
        vis.binds.hqwidgets.button.init(this.data.wid, this.view, this.data, this.style, 'number');
    %></div>
</script>

<script id="tplHqShutter" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-type="ctrl;window;shutter" data-vis-name="Window and Shutter" data-vis-prev="&lt;div id=&quot;prev_tplHqShutter&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev hq-blind-base vis-hq-button-base&quot; style=&quot;overflow: visible; width: 110px; height: 90px; left: 109px; top: 74px; position: absolute; padding: 3px 4px 2px;&quot;&gt;&lt;table class=&quot;hq-blind hq-no-space&quot; style=&quot;width: 100%; height: 100%&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;&lt;div class=&quot;hq-blind-blind1&quot; style=&quot;border-width: 3px;border-color: #a9a7a8;&quot;&gt;&lt;div class=&quot;hq-blind-blind2&quot; style=&quot;border-width: 3px; &quot;&gt;&lt;div class=&quot;hq-blind-blind3&quot;&gt;&lt;table class=&quot;hq-no-space&quot; style=&quot;width: 100%; height: 100%; position: absolute&quot;&gt;&lt;tbody&gt;&lt;tr class=&quot;hq-no-space hq-blind-position&quot; style=&quot;height: 20%&quot;&gt;&lt;td class=&quot;hq-no-space hq-blind-blind&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;hq-no-space&quot;&gt;&lt;td class=&quot;hq-no-space&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div class=&quot;hq-blind-blind4&quot; style=&quot;border-width: 3px;border-color: #a5aaad;&quot;&gt;&lt;div class=&quot;hq-blind-handle hq-blind-handle-bg&quot; style=&quot;border-width: 1px;top: 50%; width: 3px; height: 15%;left: calc(100% - 5px);&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td&gt;&lt;div class=&quot;hq-blind-blind1&quot; style=&quot;border-width: 3px;border-color: #a9a7a8;&quot;&gt;&lt;div class=&quot;hq-blind-blind2&quot; style=&quot;border-width: 3px; &quot;&gt;&lt;div class=&quot;hq-blind-blind3&quot;&gt;&lt;table class=&quot;hq-no-space&quot; style=&quot;width: 100%; height: 100%; position: absolute&quot;&gt;&lt;tbody&gt;&lt;tr class=&quot;hq-no-space hq-blind-position&quot; style=&quot;height: 20%&quot;&gt;&lt;td class=&quot;hq-no-space hq-blind-blind&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;hq-no-space&quot;&gt;&lt;td class=&quot;hq-no-space&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;div class=&quot;hq-blind-blind4 hq-blind-blind4-opened-left&quot; style=&quot;border-width: 3px;border-color: #a5aaad;&quot;&gt;&lt;div class=&quot;hq-blind-handle hq-blind-handle-bg&quot; style=&quot;border-width: 1px;top: 50%; width: 3px; height: 15%;-moz-transform-origin: 3px 3px;-ms-transform-origin: 3px 3px;-o-transform-origin: 3px 3px;-webkit-transform-origin: 3px 3px;transform-origin: 3px 3px;-moz-transform: rotate(-90deg);-ms-transform: rotate(-90deg);-o-transform: rotate(-90deg);-webkit-transform: rotate(-90deg);transform: rotate(-90deg);&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,level.blind/changedWindowId;oid-working/id,indicator.working;min[0];max[100];border_width/slider,0,10,1;slide_count[1]/nselect,1,2,3,4,5,6;invert/checkbox;hide_timeout[2000];noAnimate/checkbox;popupHorizontalPos[center]/select,top,center,bottom;popupVerticalPos[center]/select,left,center,right;" data-vis-attrs0="group.leftRight;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;show_value/checkbox;infoFontRightSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;infoRightPaddingLeft/slider,0,100,1;infoRightPaddingRight[15]/slider,0,100,1;" data-vis-attrs1="group.slides/byindex;slide_type(1-slide_count)/select,,left,right,top,bottom;oid-slide-sensor(1-slide_count)/id/changedSensorId;oid-slide-sensor-lowbat(1-slide_count)/id,indicator.battery;oid-slide-handle(1-slide_count)/id/changedSensorId;oid-slide-handle-lowbat(1-slide_count)/id,indicator.battery;">
    <div class="vis-widget hq-blind-base <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px" id="<%= this.data.attr('wid') %>"><%
        vis.binds.hqwidgets.window.init(this.data.wid, this.view, this.data, this.style);
    %></div>
</script>

<script id="tplHqDoor" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-type="state;door" data-vis-name="Door" data-vis-prev="&lt;div id=&quot;prev_tplHqDoor&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev hq-blind-base vis-hq-button-base&quot; style=&quot;overflow: visible; width: 47px; height: 93px; padding: 3px 4px 2px;&quot;&gt;&lt;table class=&quot;vis-hq-main vis-hq-door vis-hq-no-space&quot; style=&quot;border: 2px #8E8D8D solid;&quot;&gt;&lt;tbody&gt;&lt;tr class=&quot;vis-hq-no-space&quot;&gt;&lt;td class=&quot;vis-hq-no-space vis-hq-door-empty-right&quot;&gt;&lt;/td&gt;&lt;td class=&quot;vis-hq-no-space vis-hq-door-sheet&quot; style=&quot;width: 100%;&quot;&gt;&lt;div class=&quot;vis-hq-door-handle&quot; style=&quot;left: 75%;&quot;&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;vis-hq-no-space vis-hq-door-empty-left&quot; style=&quot;width: 0px; background: rgb(81, 81, 81);&quot;&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,state/changedButtonId;oid-battery/id,indicator.battery;border_width/slider,0,10,1;invert/checkbox;door_type/select,,left,right;noAnimate/checkbox;" data-vis-attrs0="group.leftRight;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;">
    <div class="vis-widget hq-blind-base <%== this.data.attr('class') %>" style="overflow:visible; width: 50px; height: 100px" id="<%= this.data.attr('wid') %>"><%
        vis.binds.hqwidgets.door.init(this.data.wid, this.view, this.data, this.style);
    %></div>
</script>

<script id="tplHqLock" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplHqLock&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-hq-lock-base vis-hq-button-base hq-button-no-background&quot; style=&quot;overflow: visible; width: 30px; height: 30px;&quot; &gt;&lt;img src=&quot;widgets/hqwidgets/img/lockUnlocked.png&quot; class=&quot;vis-hq-lock1&quot; style=&quot;width: 100%; height:100%;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-set="hqwidgets" data-vis-type="control;lock" data-vis-name="Lock" data-vis-attrs="oid/id,state/changedLockId;oid-open/id;oid-battery/id,indicator.battery;noAnimate/checkbox;" data-vis-attrs0="group.image;closedIcon[widgets~hqwidgets~img~lockLocked.png]/image;openedIcon[widgets~hqwidgets~img~lockUnlocked.png]/image;" data-vis-attrs1="group.popup;popupRadius[75]/slider,50,150,1;buttonRadius[50]/slider,0,150,1;closeIcon[widgets~hqwidgets~img~lockLocked.png]/image;closeValue;closeStyle/style,hqwidgetsButtons glossy,-button,background;" data-vis-attrs2="openIcon[widgets~hqwidgets~img~lockUnlocked.png]/image;openValue;openStyle/style,hqwidgetsButtons glossy,-button,background;" data-vis-attrs3="openDoorIcon[widgets~hqwidgets~img~openDoor.png]/image;openDoorValue;openDoorStyle/style,hqwidgetsButtons glossy,-button,background;showTimeout[5000]/slider,0,30000,100;" data-vis-attrs4="group.leftRight;descriptionLeftDisabled/checkbox;descriptionLeft;infoLeftFontSize[12]/slider,6,50,1;infoFontRightSize[12]/slider,6,50,1;infoColor/color;infoBackground/color;infoLeftPaddingLeft[15]/slider,0,100,1;infoLeftPaddingRight[50]/slider,0,100,1;infoRightPaddingLeft/slider,0,100,1;infoRightPaddingRight[15]/slider,0,100,1;" data-vis-attrs5="group.styles;styleNormal[hq-button-no-background]/style,hqwidgetsButtons glossy,-button,background;styleActive[hq-button-no-background]/style,hqwidgetsButtons glossy,-button,background;usejQueryStyle/checkbox;changeEffect/nselect,,waves,wobble,tada,swing,shake,rubberBand,pulse,flash,bounce;waveColor/color;testActive/checkbox;">
    <div class="vis-widget vis-hq-lock-base <%== this.data.attr('class') %>" style="overflow:visible; width: 30px; height: 30px" id="<%= this.data.attr('wid') %>"><%
        vis.binds.hqwidgets.lock.init(this.data.wid, this.view, this.data, this.style);
    %></div>
</script>


<!--script type="text/ejs" id="tplHqText" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Text" data-vis-render-visible="true" data-vis-attrs="hqoptions">
    <%
    if (this && this.data && this.data.attr) {
        if (this.data.attr('hqoptions')){
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
        }
        else {
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqText", this.view);
        }
    }
    %>
</script>
<script type="text/ejs" id="tplHqInfo" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Info" data-vis-render-visible="true" data-vis-attrs="hm_id;hqoptions">
    <%
    if (this && this.data && this.data.attr) {
        if (this.data.attr('hqoptions')){
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
        }
        else {
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqInfo", this.view);
        }
    }
    %>
</script>
<script type="text/ejs" id="tplHqImage" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Image" data-vis-render-visible="true" data-vis-attrs="hqoptions">
    <%
    if (this && this.data && this.data.attr) {
        if (this.data.attr('hqoptions')){
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
        }
        else {
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqImage", this.view);
        }
    }
    %>
</script>
<script type="text/ejs" id="tplHqCam" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="IpCamera" data-vis-render-visible="true" data-vis-attrs="hm_id;hqoptions" data-hqwidgets-filter="HM-OU-CFM-Pl,HM-Sec-SFA-SM,HM-OU-CF-Pl,HM-Sec-SC,HM-SCI-3-FM,HMW-Sen-SC-12-DR,HMW-IO-12-Sw14-DR;.STATE,.OPEN,HM-Sec-Key-S,HM-LC-Sw4-WM,HM-LC-Sw1-Pl,HM-LC-SW1-FM,HM-LC-Sw2-FM,HM-LC-Sw1-SM,HM-LC-Sw4-PCB,HM-LC-Sw4-PCB,HM-LC-Sw4-SM,HM-LC-Sw1-BA-PCB">
    <%
    if (this && this.data && this.data.attr) {
        if (this.data.attr('hqoptions')){
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
        }
        else {
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqCam", this.view);
        }
    }
    %>
</script>
<script type="text/ejs" id="tplHqGong" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Gong" data-vis-render-visible="true" data-vis-attrs="hm_id;hqoptions" data-hqwidgets-filter="HM-OU-CFM-Pl,HM-Sec-SFA-SM,HM-OU-CF-Pl,HM-Sec-SC,HM-SCI-3-FM,HMW-Sen-SC-12-DR,HMW-IO-12-Sw14-DR;.STATE,.OPEN,HM-Sec-Key-S,HM-LC-Sw4-WM,HM-LC-Sw1-Pl,HM-LC-SW1-FM,HM-LC-Sw2-FM,HM-LC-Sw1-SM,HM-LC-Sw4-PCB,HM-LC-Sw4-SM,HM-LC-Sw1-BA-PCB">
    <%
    if (this && this.data && this.data.attr) {
        if (this.data.attr('hqoptions')){
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
        }
        else {
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqGong", this.view);
        }
    }
    %>
</script>
<script type="text/ejs" id="tplHqGauge" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Gauge" data-vis-render-visible="true" data-vis-attrs="hm_id;hqoptions">
    <%
    if (this && this.data && this.data.attr) {
		if (this.data.attr('hqoptions')){
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
		}
		else {
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqGauge", this.view);
		}
    }
    %>
</script>
<script type="text/ejs" id="tplHqMotion" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Motion Detector" data-vis-render-visible="true" data-vis-attrs="hm_id;hqoptions" data-hqwidgets-filter=".STATE,.MOTION;">
    <%
    if (this && this.data && this.data.attr) {
		if (this.data.attr('hqoptions')){
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
		}
		else {
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqMotion", this.view);
		}
    }
    %>
</script>
<script type="text/ejs" id="tplHqLowbat" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Battery Indicator" data-vis-render-visible="true" data-vis-attrs="hqoptions" data-hqwidgets-filter=".LOWBAT">
    <%
    if (this && this.data && this.data.attr) {
        if (this.data.attr('hqoptions')){
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
        }
        else {
            vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqLowbat", this.view);
        }
    }
    %>
</script>
<script type="text/ejs" id="tplHqIp" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Ping device" data-vis-render-visible="true" data-vis-attrs="hqoptions" data-hqwidgets-filter="PING">
    <%
    if (this && this.data && this.data.attr) {
		if (this.data.attr('hqoptions')){
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
		} else {
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqIp", this.view);
		}
    }
    %>
</script>
<script type="text/ejs" id="tplHqCharts" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Charts" data-vis-render-visible="true" data-vis-attrs="hqoptions">
    <%
    if (this && this.data && this.data.attr) {
		if (this.data.attr('hqoptions')){
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
		} else {
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqCharts", this.view);
		}
    }
    %>
</script>
<script type="text/ejs" id="tplHqEventlist" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Eventlist" data-vis-render-visible="true" data-vis-attrs="hqoptions">
    <%
    if (this && this.data && this.data.attr) {
		if (this.data.attr('hqoptions')){
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, this.data.attr('hqoptions'), undefined, this.view);
		} else {
			vis.binds.hqWidgetsExt.hqButtonExt (this.data.wid, undefined, "tplHqEventlist", this.view);
		}
    }
    %>
</script-->

<script id="tplHqCheckbox" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Checkbox" data-vis-type="ctrl,checkbox" data-vis-prev="&lt;div id=&quot;prev_tplHqCheckbox&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;overflow: visible; width: 108px; height: 35px&quot;&gt;&lt;div class=&quot;checkbox-small-orange-wrap&quot;&gt;&lt;div class=&quot;checkbox-small-orange-button&quot;&gt;&lt;input type=&quot;checkbox&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-update-style="true" data-vis-attrs="oid[nothing_selected]/id;val_false[false];val_true[true];staticValue;" data-vis-attrs0="checkboxSize[big]/select,big,small;checkboxColor[grey]/select,orange,blue,green,grey;checkboxColorOn[orange]/select,orange,blue,green,grey;readOnly/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 216px; height: 68px" id="<%= this.data.attr('wid') %>"  data-vis-resizable='{"disabled":true, "handles":"e"}'><%
            vis.binds.hqwidgets.checkbox.init(this.data.wid, this.view, this.data, this.style);
    %></div>
</script>

<script id="tplHqCircle" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="CircleKnob" data-vis-update-style="true" data-vis-type="ctrl,number,dimmer,knob" data-vis-prev="&lt;img src=&quot;widgets/hqwidgets/img/prev/Prev_hqwidgetsCircleKnob.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid[nothing_selected]/id/changedButtonId;oid-working;oid-battery;oid-signal;" data-vis-attrs0="group.value;unit;min[0];max[100];digits[0]/number;step[1];is_comma[true]/checkbox;readOnly/checkbox;" data-vis-attrs1="group.center;caption;hideNumber/checkbox;" data-vis-attrs2="group.arc;angleOffset/slider,0,360,1;angleArc/slider,0,360,1;displayPrevious[true]/checkbox;" data-vis-attrs3="group.style;cursor/slider,1,350,1;thickness/slider,0.05,1,0.05;color/color;bgcolor/color;linecap/checkbox;anticlockwise/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 64px; height: 64px" id="<%= this.data.attr('wid') %>"><%
        vis.binds.hqwidgets.circle.init(this.data.wid, this.view, this.data);
        %><input type="text" style="display: none"/></div>
</script>
<script id="tplHqOdometer" type="text/ejs" class="vis-tpl" data-vis-set="hqwidgets" data-vis-name="Odometer" data-vis-beta="true" data-vis-update-style="true" data-vis-type="val,number" data-vis-prev="&lt;img src=&quot;widgets/hqwidgets/img/prev/Prev_hqOdometer.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;style[car]/nselect,car,default,digital,minimal,plaza,slot-machine,train-station;group.extended;format[(ddd),dd];factor[1];leadingZeros[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 125px; height: 42px; font-size: 24px" id="<%= this.data.attr('wid') %>"></div>
    <% vis.binds.hqwidgets.odometer(this.view, this.data) %>
</script>

<!-- --------------hqwidgets.html--- END -->
<!-- --------------jqplot.html--- START -->
<link rel="stylesheet" type="text/css" href="./vis_files/jquery.jqplot.min.css">

<script type="text/javascript" src="./vis_files/jquery.jqplot.min.js"></script>

<script type="text/javascript">

    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "background":           {"en": "Background",            "de": "Hintergrund",                    "ru": "Фон"},
            "group_ticks":          {"en": "Ticks",                 "de": "Tick",                           "ru": "Штрихи"},
            "ticks":                {"en": "Ticks-Namen",           "de": "Tick-Beschriftungen",            "ru": "Подписи штрихов"},
            "ticks_tooltip":        {"en": "Divide with semicolon, e.g '10;50;70'", "de": "Mit Semikolon trennen, z.B. '10;50;70'", "ru": "Разделять точкой запятой, например '10;50;70'"},
            "showTickLabels":       {"en": "Show tick labels",      "de": "Zeige Tick-Beschriftungen",      "ru": "Показать подписи"},
            "tickPadding":          {"en": "Tick padding",          "de": "Tick-Abstand",                   "ru": "Отступ штрихов"},
            "group_intervals":      {"en": "Intervals",             "de": "Intervalle",                     "ru": "Интервалы"},
            "intervals":            {"en": "Intervals",             "de": "Intervalle",                     "ru": "Отрезки"},
            "intervals_tooltip":    {"en": "Divide with semicolon, e.g '10;50;70'", "de": "Mit Semikolon trennen, z.B. ''10;50;70'", "ru": "Разделять точкой запятой, например '10;50;70'"},
            "intervalColors":       {"en": "Interval colors",       "de": "Intervallfarben",                "ru": "Цвета интервалов"},
            "intervalColors_tooltip": {"en": "Divide with semicolon, e.g 'green;#0000FF;red'", "de": "Mit Semikolon trennen, z.B. 'green;#0000FF;red'", "ru": "Разделять точкой запятой, например 'green;#0000FF;red'"},
            "intervalInnerRadius":  {"en": "Inner interval raduis", "de": "Intervall-Radius innen",         "ru": "Внутренний радиус интервалов"},
            "intervalOuterRadius":  {"en": "Outer interval radius", "de": "Intervall-Radius außen",         "ru": "Внешний радиус интервалов"},
            "diameter":             {"en": "Diameter",              "de": "Durchmesser",                    "ru": "Диаметер"},
            "padding":              {"en": "Padding",               "de": "Abstand",                        "ru": "Отступ"},
            "group_shadow":         {"en": "Shadow",                "de": "Schatten",                       "ru": "Тень"},
            "shadowOffset":         {"en": "shadowOffset",          "de": "Schatten offset",                "ru": "Сдвиг тени"},
            "shadowAlpha":          {"en": "Shadow transparence",   "de": "Schatten Alpha",                 "ru": "Прозрачость тени"},
            "shadowDepth":          {"en": "Shadow depth",          "de": "Schattentiefe",                  "ru": "Глубина тени"},
            "group_ring":           {"en": "Ring",                  "de": "Rand",                           "ru": "Кайма"},
            "ringColor":            {"en": "Ring color",            "de": "Randfarbe",                      "ru": "Цвет окантовки"},
            "ringWidth":            {"en": "Ring width",            "de": "Randbreite",                     "ru": "Ширина окантовки"},
            "group_needle":         {"en": "Needle",                "de": "Zeiger",                         "ru": "Стрелка"},
            "needleThickness":      {"en": "Needle thickness",      "de": "Zeigerdicke",                    "ru": "Ширина стрелки"},
            "needlePad":            {"en": "Needle pad",            "de": "Zeigeroffset",                   "ru": "Радиус основания"},
            "hubRadius":            {"en": "Hub radius",            "de": "Zeigerbasis-Radius",             "ru": "Основание стрелки"}
        });
    }

    vis.binds.jqplot = {
        gauge: function (el, data) {
            var $this = $(el).find('.jqplot-gauge');

            var id = $(el).attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$this.length || !$this.is(':visible')) {
                setTimeout(function () {
                    vis.binds.jqplot.gauge(el, data);
                }, 100);
                return;
            }

            if (!data) return;

            var options = {
                title: data.title,
                seriesDefaults: {
                    rendererOptions: {
                        min:            (data.min ? parseFloat(data.min) : undefined),
                        max:            (data.max ? parseFloat(data.max) : undefined),
                        ticks:          (data.ticks ? jQuery.map(data.ticks.split(';'), Number) : undefined),
                        intervals:      (data.intervals ? jQuery.map(data.intervals.split(';'), Number) : undefined),
                        intervalColors: (data.intervalColors ? data.intervalColors.split(';') : undefined),
                        label:          data.label,
                        showTickLabels: ((data.showTickLabels === 'false' || data.showTickLabels === false) ? false : undefined),
                        intervalInnerRadius: (!data.intervalInnerRadius ? undefined : parseInt(data.intervalInnerRadius, 10)),
                        intervalOuterRadius: (!data.intervalOuterRadius ? undefined : parseInt(data.intervalOuterRadius, 10)),
                        diameter:       (!data.diameter ? undefined : parseInt(data.diameter, 10)),
                        padding:        (!data.padding ? undefined : parseInt(data.padding, 10)),
                        shadowOffset:   (!data.shadowOffset ? undefined : parseInt(data.shadowOffset, 10)),
                        shadowAlpha:    (!data.shadowAlpha ? undefined : parseInt(data.shadowAlpha, 10)),
                        shadowDepth:    (!data.shadowDepth ? undefined : parseInt(data.shadowDepth, 10)),
                        background:     data.background, ringColor: data.ringColor,
                        tickColor:      data.tickColor,
                        ringWidth:      (!data.ringWidth ? undefined : parseInt(data.ringWidth, 10)),
                        hubRadius:      (!data.hubRadius ? undefined : parseInt(data.hubRadius, 10)),
                        tickPadding:    (!data.tickPadding ? undefined : parseInt(data.tickPadding, 10)),
                        needleThickness: (!data.needleThickness ? undefined : parseInt(data.needleThickness, 10)),
                        needlePad:      (!data.needlePad ? undefined : parseInt(data.needlePad, 10))
                    }
                }
            };
            if (options.seriesDefaults.rendererOptions.ticks && options.seriesDefaults.rendererOptions.ticks.length === 1) {
                options.seriesDefaults.rendererOptions.ticks[1] = options.seriesDefaults.rendererOptions.ticks[0];
            }

            $(el).data('options', data);
            $this.html('');

            try {
                var jqplotOptions = $.extend(true, {
                    title: {show: false},
                    grid: {
                        background: 'transparent'
                    },
                    seriesDefaults: {
                        renderer: $.jqplot.MeterGaugeRenderer,
                        rendererOptions: {
                            min: 0,
                            max: 100
                        }
                    }
                }, options);

                var oid = $this.attr('data-oid');
                var series;
                if (oid !== 'nothing_selected' && vis.states[oid + '.val'] !== undefined) {
                    series = [[vis.states[oid + '.val']]];
                } else {
                    series = [[1, 0]];
                }

                function onChange(e, newVal/* , oldVal */) {
                    plot.series[0].data = [[1, newVal]];
                    plot.redraw();
                }

                var bound = [];

                if (oid) {
                    vis.states.bind(oid + '.val', onChange);
                    bound.push(oid + '.val');
                }
                var plot = $.jqplot($this.attr('id'), series, jqplotOptions);

                if (bound.length) {
                    // remember all ids, that bound
                    $(el).data('bound', bound);
                    // remember bind handler
                    $(el).data('bindHandler', onChange);
                }
            } catch(e) {
                servConn.logError('Cannot render widget jqplot: ' + e);
            }

            if (vis.editMode) {
                $(el).resize(function () {
                    var timer = $(this).data('timer');
                    if (timer) {
                        clearTimeout(timer);
                    }
                    var that = this;
                    $(this).data('timer', setTimeout(function () {
                        $(that).data('timer', null);
                        $('#' + $(that).attr('id') + '_gauge').html('');
                        vis.binds.jqplot.gauge(that, $(that).data('options'));
                    }, 300));
                });

                $(el).data('destroy', function (id, $widget) {
                    $widget.off('resize');
                });
            }
        }
    };
</script>

<script type="text/ejs" id="tplJqplotGauge" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/jqplot/img/Prev_MeterGauge.png&quot;&gt;&lt;/img&gt;" data-vis-set="jqplot" data-vis-type="number" data-vis-name="MeterGauge" data-vis-attrs="oid;title;min/number;max/number;label;background/color;padding/slider,0,50,1;group.ticks;ticks;showTickLabels[true]/checkbox;tickPadding/slider,0,50,1;group.intervals;intervals;intervalColors;intervalInnerRadius/slider,0,550,1;intervalOuterRadius/slider,0,550,1;group.shadow;shadowOffset/slider,0,50,1;shadowAlpha/slider,0,1,0.05;shadowDepth/slider,0,50,1;group.ring;ringColor/color;ringWidth/slider,0,150,1;group.needle;needleThickness/slider,0,50,1;needlePad/slider,0,150,1;hubRadius/slider,0,150,1">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:460px; height:280px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqplot.gauge(el, data) %>>
        <div class="vis-widget-body" style="width: 100%; height: 100%">
            <div class="jqplot-gauge" id="_<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" style="width: 100%; height: 100%"/>
        </div>
    </div>
</script>

<!-- --------------jqplot.html--- END -->
<!-- --------------jqui-mfd.html--- START -->
<!--
    ioBroker.vis JQuery widgets with MFD icons

    version: "1.0.12"

    Copyright 6'2014-2018 bluefox<dogafox@gmail.com>,
                     2014 hobbyquaker<hobbyquaker@ccu.io>

-->
 <style type="text/css">
 .hue-slider-hue.ui-slider {
     background-image: url(widgets/jqui/img/hue.png);
     background-size: 100%;
 }

 .hue-slider-ct.ui-slider {
     background-image: url(widgets/jqui/img/ct.png);
     background-size: 100%;
 }
</style>

<script type="text/javascript">
    'use strict';

    if (vis.editMode) {
        $.extend(systemDictionary, {
            "autoclose":    	{"en": "Auto close",            "de": "Auto-zu",                "ru": "Автозакрытие"},
            "modal":        	{"en": "Modal",                 "de": "Modal",                  "ru": "Модальное"},
            "invert_state": 	{"en": "Invert state",          "de": "Invertiere Zustand",     "ru": "Инвертировать состояние"},
            "asButton":     	{"en": "Button rectangle",      "de": "Knopf-Viereck",          "ru": "Фон кнопки"},
            "icon_off":     	{"en": "Icon for OFF",          "de": "Symbol für AUS",         "ru": "Иконка для ВЫКЛ"},
            "iconColor_off":	{"en": "Icon color for OFF",    "de": "Symbolfarbe für AUS",    "ru": "Цвет иконки для ВЫКЛ"},
            "icon_on":      	{"en": "Icon for ON",           "de": "Symbol für AN",          "ru": "Иконка для ВКЛ"},
            "iconColor_on": 	{"en": "Icon color for ON",     "de": "Symbolfarbe für AN",     "ru": "Цвет иконки для ВКЛ"},
            "closed_value": 	{"en": "Value for CLOSED",      "de": "Wert für ZU",            "ru": "Значение для ЗАКРЫТО"},
            "tilted_value": 	{"en": "Value for TILTED",      "de": "Wert für GEKIPPT",       "ru": "Значение для ОТКИНУТО"},
            "opened_value": 	{"en": "Value for OPENED",      "de": "Wert für AUF",           "ru": "Значение для ОТКРЫТО"},
            "closed_icon":  	{"en": "Icon for CLOSED",       "de": "Symbol für ZU",          "ru": "Иконка для ЗАКРЫТО"},
            "closed_iconColor":	{"en": "Icon color for CLOSED", "de": "Symbolfarbe für ZU",  "ru": "Цвет иконки для ЗАКРЫТО"},
            "tilted_icon":  	{"en": "Icon for TILTED",       "de": "Symbol für GEKIPPT",     "ru": "Иконка для ОТКИНУТО"},
            "tilted_iconColor":	{"en": "Icon color for TILTED", "de": "Symbolfarbe für GEKIPPT", "ru": "Цвет иконки для ОТКИНУТО"},
            "opened_icon":  	{"en": "Icon for OPENED",       "de": "Symbol für AUF",         "ru": "Иконка для ОТКРЫТО"},
            "opened_iconColor":	{"en": "Icon color for OPENED", "de": "Symbolfarbe für AUF", "ru": "Цвет иконки для ОТКРЫТО"},
            "invert_value": 	{"en": "Invert value",          "de": "Invertiere Wert",        "ru": "Инвертировать значение"},
            "show_active":  	{"en": "Show active background", "de": "Zeige aktiven Hintergrund", "ru": "Показать активный фон"},
            "set_oid":      	{"en": "Set temperature ID",    "de": "Soll-Temperature ID",    "ru": "ID задаваемой температуры"},
            "temp_oid":     	{"en": "Actual temperature ID", "de": "Ist-Temperature ID",     "ru": "ID актуальной температуры"},
            "drive_oid":    	{"en": "Valve position ID",     "de": "VentilID",               "ru": "ID Положения вентиля"},
            "label_set":    	{"en": "Label for 'set'",       "de": "Beschriftung für 'Soll'", "ru": "Надпись для 'задаваемой'"},
            "label_temp":   	{"en": "Label for 'actual'",    "de": "Beschriftung für 'Ist'", "ru": "Надпись для 'актуальной'"},
            "label_drive":  	{"en": "Label for position",    "de": "Beschriftung für Ventil", "ru": "Надпись для вентиля"},
            "src_url":      	{"en": "Stream URL",            "de": "Stream URL",             "ru": "URL потока"},
            "qtsrc_url":    	{"en": "Stream URL (qtsrc)",    "de": "Stream URL (qtsrc)",     "ru": "URL потока (qtsrc)"},
            "type_application": {"en": "Application mime-type", "de": "Applikationstyp (mime)",   "ru": "Тип приложения (mime)"},
            "plugin":       	{"en": "Plug-in",               "de": "Plugin",                 "ru": "Плагин"},
            "autoplay":     	{"en": "Auto-play",             "de": "Automatisch abspielen",  "ru": "Автостарт"},
            "url":          	{"en": "URL",                   "de": "URL",                    "ru": "URL"},
            "interval":     	{"en": "Update interval(ms)",   "de": "Update-Intervall(ms)",   "ru": "Интервал обновления (мс)"},
            "group_icons":  	{"en": "Icons",                 "de": "Symbole",                "ru": "Иконки"},
            "group_values": 	{"en": "Values",                "de": "Werte",                  "ru": "Значения"},
            "icon_interval": 	{"en": "Update interval(ms)",        "de": "Updateintervall(ms)", "ru": "Интервал обновления (мс)"},
            "iconColor":    	{"en": "Icon color",            "de": "Symbolfarbe",            "ru": "Цвет иконки"},
            "group_images": 	{"en": "Icons",                 "de": "Symbole",                "ru": "Картинки"},
            "group_colors": 	{"en": "Icon colors (SVG)",     "de": "Symbolfarben (SVG)",     "ru": "Цвета картинки (SVG)"},
            "icon0":        	{"en": "Icon 0%",               "de": "Symbol für 0%",          "ru": "Картинка для 0%"},
            "iconColor0":   	{"en": "Icon color 0%",         "de": "Symbolfarbe bei 0%",     "ru": "Цвет для 0%"},
            "iconValue0":   	{"en": "Icon value 0%",         "de": "Symbolwert für 0%",      "ru": "Значение для 0%"},
            "iconValue0_tooltip":   {
                "en": "Icon value when defined picture must be shown",
                "de": "Symbolwert bei welchem sollte das Bild erscheinen",
                "ru": "Значение, когда должна появлятся эта иконка"
            },
            "icon1":        	  {"en": "Icon 10%",              "de": "Symbol für 10%",         "ru": "Картинка 10%"},
            "iconColor1":   	  {"en": "Icon color 10%",        "de": "Symbolfarbe bei 10%",    "ru": "Цвет для 0%"},
            "iconValue1":   	  {"en": "Icon value 10%",        "de": "Symbolwert für 10%",     "ru": "Значение для 0%"},
            "icon2":        	  {"en": "Icon 20%",              "de": "Symbol für 20%",         "ru": "Картинка 20%"},
            "iconColor2":   	  {"en": "Icon color 20%",        "de": "Symbolfarbe bei 20%",    "ru": "Цвет для 0%"},
            "iconValue2":   	  {"en": "Icon value 20%",        "de": "Symbolwert für 20%",     "ru": "Значение для 0%"},
            "icon3":        	  {"en": "Icon 30%",              "de": "Symbol für 30%",         "ru": "Картинка 30%"},
            "iconColor3":   	  {"en": "Icon color 30%",        "de": "Symbolfarbe bei 30%",    "ru": "Цвет для 0%"},
            "iconValue3":   	  {"en": "Icon value 30%",        "de": "Symbolwert für 30%",     "ru": "Значение для 0%"},
            "icon4":        	  {"en": "Icon 40%",              "de": "Symbol für 40%",         "ru": "Картинка 40%"},
            "iconColor4":   	  {"en": "Icon color 40%",        "de": "Symbolfarbe bei 40%",    "ru": "Цвет для 0%"},
            "iconValue4":   	  {"en": "Icon value 40%",        "de": "Symbolwert für 40%",     "ru": "Значение для 0%"},
            "icon5":        	  {"en": "Icon 50%",              "de": "Symbol für 50%",         "ru": "Картинка 50%"},
            "iconColor5":   	  {"en": "Icon color 50%",        "de": "Symbolfarbe bei 50%",    "ru": "Цвет для 0%"},
            "iconValue5":   	  {"en": "Icon value 50%",        "de": "Symbolwert für 50%",     "ru": "Значение для 0%"},
            "icon6":        	  {"en": "Icon 60%",              "de": "Symbol für 60%",         "ru": "Картинка 60%"},
            "iconColor6":   	  {"en": "Icon color 60%",        "de": "Symbolfarbe bei 60%",    "ru": "Цвет для 0%"},
            "iconValue6":   	  {"en": "Icon value 60%",        "de": "Symbolwert für 60%",     "ru": "Значение для 0%"},
            "icon7":        	  {"en": "Icon 70%",              "de": "Symbol für 70%",         "ru": "Картинка 70%"},
            "iconColor7":   	  {"en": "Icon color 70%",        "de": "Symbolfarbe bei 70%",    "ru": "Цвет для 0%"},
            "iconValue7":   	  {"en": "Icon value 70%",        "de": "Symbolwert für 70%",     "ru": "Значение для 0%"},
            "icon8":        	  {"en": "Icon 80%",              "de": "Symbol für 80%",         "ru": "Картинка 80%"},
            "iconColor8":   	  {"en": "Icon color 80%",        "de": "Symbolfarbe bei 80%",    "ru": "Цвет для 0%"},
            "iconValue8":   	  {"en": "Icon value 80%",        "de": "Symbolwert für 80%",     "ru": "Значение для 0%"},
            "icon9":        	  {"en": "Icon 90%",              "de": "Symbol für 90%",         "ru": "Картинка 90%"},
            "iconColor9":   	  {"en": "Icon color 90%",        "de": "Symbolfarbe bei 90%",    "ru": "Цвет для 0%"},
            "iconValue9":   	  {"en": "Icon value 90%",        "de": "Symbolwert für 90%",     "ru": "Значение для 0%"},
            "icon10":       	  {"en": "Icon 100%",             "de": "Symbol für 100%",        "ru": "Картинка 100%"},
            "iconColor10":  	  {"en": "Icon color 100%",       "de": "Symbolfarbe bei 100%",   "ru": "Цвет для 0%"},
            "iconValue10":  	  {"en": "Icon value 100%",       "de": "Symbolwert für 100%",    "ru": "Значение для 0%"},
            "iconOff":      	  {"en": "Inactive Icon",         "de": "Inaktivbild",            "ru": "Неактиваня картинка"},
            "textOff":      	  {"en": "Text for Off",          "de": "Text für Aus",           "ru": "Надпись для Выкл"},
            "textOn":       	  {"en": "Text for On",           "de": "Text für Ein",           "ru": "Надпись для Вкл"},
            "iconColorOff": 	  {"en": "Inactive Icon color",   "de": "Inaktive Symbolfarbe",   "ru": "Цвет не активной иконки"},
            "iconColorOn":  	  {"en": "Active Icon color",     "de": "Aktive Symbolfarbe",     "ru": "Цвет активной иконки"},
            "show_value":   	  {"en": "Show value",            "de": "Wert zeigen",            "ru": "Показывать значение"},
            "units":        	  {"en": "Units",                 "de": "Einheit",                "ru": "Единицы измерения"},
            "roundnumber":  	  {"en": "Decimal Place",         "de": "Nachkommastellen",       "ru": "Decimal Place"},
			      "slide_count":  	  {"en": "Slides count",      	  "de": "Flügelanzahl",           "ru": "Кол-во створок"},
			      "slide_type":       {"en": "Slide type",        	  "de": "Flügeltyp",              "ru": "Тип створки"},
			      "oid-slide-sensor": {"en": "Slide sensor",          "de": "Fensterblatt-Sensor",    "ru": "Сенсор на створке"}
        });
    }

    $.extend(systemDictionary, {
        "off":      {"en": "off",       "de": "aus",    "ru": "выкл"},
        "on":       {"en": "on",        "de": "an",     "ru": "вкл"},
        "closed":   {"en": "closed",    "de": "zu",     "ru": "закр."},
        "open":     {"en": "open",      "de": "auf",    "ru": "откр."}
    });

vis.binds['jqui-mfd'] = {
    version: "1.0.12",
    isNotEmpty: function (val) {
        return val !== '' && val !== null && val !== undefined;
    },
    removeSvg: function (wid) {
        $('#' + wid).find('svg').remove();
    },
    showVersion: function () {
        if (vis.binds['jqui-mfd'].version) {
            console.log('Version vis-jqui-mfd: ' + vis.binds['jqui-mfd'].version);
            vis.binds['jqui-mfd'].version = null;
        }
    }
};
vis.binds['jqui-mfd'].showVersion();
</script>

<script id="tplMfdLight" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val;light;state" data-vis-prev="&lt;div id=&quot;prev_tplMfdLight&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/light_light_dim.png&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-name="Light/Dimmer" data-vis-attrs="oid;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default ui-state-active' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" data-min="<%= this.data.attr('min') %>" data-max="<%= this.data.attr('max') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.active(el) : '' %> >
        <div class="vis-widget-body" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']);  %>>
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
            var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

            var str = vis.states.attr(this.data.oid + '.val');
            var val = parseFloat(str);
            if (str === true  || str === 'true')  val = max;
            if (str === false || str === 'false') val = min;
            var image = '';
            var imageColor = null;
            if (val >= max) {
               image = "light_light_dim_100";
               imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.9) {
               image = "light_light_dim_90";
               imageColor = this.data.attr('iconColor9');
            } else if (val >= min + (max - min) * 0.8) {
               image = "light_light_dim_80";
               imageColor = this.data.attr('iconColor8');
            } else if (val >= min + (max - min) * 0.7) {
               image = "light_light_dim_70";
               imageColor = this.data.attr('iconColor7');
            } else if (val >= min + (max - min) * 0.6) {
               image = "light_light_dim_60";
               imageColor = this.data.attr('iconColor6');
            } else if (val >= min + (max - min) * 0.5) {
               image = "light_light_dim_50";
               imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.4) {
               image = "light_light_dim_40";
               imageColor = this.data.attr('iconColor4');
            } else if (val >= min + (max - min) * 0.3) {
               image = "light_light_dim_30";
               imageColor = this.data.attr('iconColor3');
            } else if (val >= min + (max - min) * 0.2) {
               image = "light_light_dim_20";
               imageColor = this.data.attr('iconColor2');
            } else if (val >= min + (max - min) * 0.1) {
               image = "light_light_dim_10";
               imageColor = this.data.attr('iconColor1');
            } else if (val >= min + (max - min) * 0.01) {
               image = "light_light_dim_00";
               imageColor = this.data.attr('iconColor0');
            } else {
               image = "light_light_dim";
               imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
               imageColor = this.data.attr('iconColor');
            }

            if (imageColor) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
               } else {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
        </div>
    </div>
</script>

<script id="tplMfdLightCtrl" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMfdLight&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev  vis-widget ui-widget ui-button ui-corner-all ui-state-default ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/light_light_dim.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui-mfd" data-vis-type="light;ctrl" data-vis-name="ctrl - Light" data-vis-attrs="oid;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" data-min="<%= this.data.attr('min') %>" data-max="<%= this.data.attr('max') %>" <%= (el) -> vis.binds.basic.toggle(el); this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div class="vis-widget-body" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']);  %>>
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }
            var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
            var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

            var str = vis.states.attr(this.data.oid + '.val');
            var val = parseFloat(str);
            if (str === true  || str === 'true')  val = max;
            if (str === false || str === 'false') val = min;
            var image = '';
            var imageColor = null;
            if (val >= max) {
               image = "light_light_dim_100";
               imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.9) {
               image = "light_light_dim_90";
               imageColor = this.data.attr('iconColor9');
            } else if (val >= min + (max - min) * 0.8) {
               image = "light_light_dim_80";
               imageColor = this.data.attr('iconColor8');
            } else if (val >= min + (max - min) * 0.7) {
               image = "light_light_dim_70";
               imageColor = this.data.attr('iconColor7');
            } else if (val >= min + (max - min) * 0.6) {
               image = "light_light_dim_60";
               imageColor = this.data.attr('iconColor6');
            } else if (val >= min + (max - min) * 0.5) {
               image = "light_light_dim_50";
               imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.4) {
               image = "light_light_dim_40";
               imageColor = this.data.attr('iconColor4');
            } else if (val >= min + (max - min) * 0.3) {
               image = "light_light_dim_30";
               imageColor = this.data.attr('iconColor3');
            } else if (val >= min + (max - min) * 0.2) {
               image = "light_light_dim_20";
               imageColor = this.data.attr('iconColor2');
            } else if (val >= min + (max - min) * 0.1) {
               image = "light_light_dim_10";
               imageColor = this.data.attr('iconColor1');
            } else if (val >= min + (max - min) * 0.01) {
               image = "light_light_dim_00";
               imageColor = this.data.attr('iconColor0');
            } else {
               image = "light_light_dim";
               imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
               imageColor = this.data.attr('iconColor');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
               } else {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
        </div>
    </div>
</script>

<script id="tplMfdLightOnOffDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-prev="&lt;img src=&quot;widgets/jqui-mfd/img/Prev_Light_jquiDialog.png&quot;&gt;&lt;/img&gt;" data-vis-type="light;ctrl;dialog" data-vis-name="OnOff + jqui Dialog" data-vis-attrs="oid;oid-working;min;max;" data-vis-attrs0="group.style;iconOff/image;iconColorOff/color;iconOn/image;iconColorOn/color;invert_icon/checkbox;asButton[true]/checkbox;" data-vis-attrs1="group.dialog;textOff;textOn;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[440];dialog_height[200];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <div data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }
            var isFalse = vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'), this.data.attr('min'), this.data.attr('max'));
            var image = '';
            if (!isFalse) {
                image = this.data.attr('iconOn')  || "widgets/jqui-mfd/img/light_light_dim_100.svg";
                imageColor = this.data.attr('iconColorOn');
            } else {
                image = this.data.attr('iconOff') || "widgets/jqui-mfd/img/light_light_dim.svg";
                imageColor = this.data.attr('iconColorOff');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
               } else {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>">
            <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <%
                    var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                    var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                    if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                    if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
                    if (max === 'true')  max = true;
                    if (max === 'false') max = false;
                    if (min === 'true')  min = true;
                    if (min === 'false') min = false;
                %>
                <input type="radio" id="<%= this.data.attr('wid') %>_radioOff" name="<%= this.data.attr('wid') %>_radio" value="<%= min %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radioOff"><%= this.data.attr('textOff') || _('off') %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radioOn"  name="<%= this.data.attr('wid') %>_radio" value="<%= max %>"/><label for="<%= this.data.attr('wid') %>_radioOn"><%= this.data.attr('textOn') || _('on') %></label>
            </div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, this.data, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdLightDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="dimmer,ctrl,dialog" data-vis-prev="&lt;img src=&quot;widgets/jqui-mfd/img/Prev_Dimmer_jquiDialog.png&quot;&gt;&lt;/img&gt;" data-vis-name="Dimmer + jqui Dialog" data-vis-attrs="oid;oid-working;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;" data-vis-attrs1="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[470];dialog_height[210];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;show_value/checkbox;units;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var max = (this.data.attr('max') !== undefined) ? parseFloat(this.data.attr('max')) : 100;
            var min = (this.data.attr('min') !== undefined) ? parseFloat(this.data.attr('min')) : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

            var str = vis.states.attr(this.data.oid + '.val');
            var val = parseFloat(str);
            if (str === true  || str === 'true')  val = max;
            if (str === false || str === 'false') val = min;
            var image = '';
            var imageColor = null;
            if (val >= max) {
               image = "light_light_dim_100";
               imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.9) {
               image = "light_light_dim_90";
               imageColor = this.data.attr('iconColor9');
            } else if (val >= min + (max - min) * 0.8) {
               image = "light_light_dim_80";
               imageColor = this.data.attr('iconColor8');
            } else if (val >= min + (max - min) * 0.7) {
               image = "light_light_dim_70";
               imageColor = this.data.attr('iconColor7');
            } else if (val >= min + (max - min) * 0.6) {
               image = "light_light_dim_60";
               imageColor = this.data.attr('iconColor6');
            } else if (val >= min + (max - min) * 0.5) {
               image = "light_light_dim_50";
               imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.4) {
               image = "light_light_dim_40";
               imageColor = this.data.attr('iconColor4');
            } else if (val >= min + (max - min) * 0.3) {
               image = "light_light_dim_30";
               imageColor = this.data.attr('iconColor3');
            } else if (val >= min + (max - min) * 0.2) {
               image = "light_light_dim_20";
               imageColor = this.data.attr('iconColor2');
            } else if (val >= min + (max - min) * 0.1) {
               image = "light_light_dim_10";
               imageColor = this.data.attr('iconColor1');
            } else if (val >= min + (max - min) * 0.01) {
               image = "light_light_dim_00";
               imageColor = this.data.attr('iconColor0');
            } else {
               image = "light_light_dim";
               imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
               imageColor = this.data.attr('iconColor');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
               } else {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left:20px;">
            <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <%
                    var max = (this.data.attr('max') !== undefined) ? parseFloat(this.data.attr('max')) : 100;
                    var min = (this.data.attr('min') !== undefined) ? parseFloat(this.data.attr('min')) : 0;

                    if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                    if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
                %>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= min %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio0"><%= _('off') %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= min + (max - min) * 0.25 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio1">25%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%= min + (max - min) * 0.5  %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= min + (max - min) * 0.75 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio3">75%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= max %>"/><label for="<%= this.data.attr('wid') %>_radio4">100%</label>
            </div>
            <br/>
            <div class="sliderJQUI" style="width: 90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min: min, max: max, step: (max - min) / 100}) %> />
            <br/>
        <%= vis.states.attr(this.data.oid + '.val') ? (((parseFloat(vis.states.attr(this.data.oid + '.val')) - min) / (max - min)) * 100).toFixed(0) : 0 %>%
        <%= (this.data.show_value === 'true' || this.data.show_value === true) ? '(' + Math.round(parseFloat(vis.states.attr(this.data.oid + '.val') * 100) / 100) + ' ' + this.data.attr('units') + ')' : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdSocket" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMfdSocket&quot; style=&quot;position: relative; text-align: initial; padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt;&lt;img width=&quot;100%&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; src=&quot;widgets/jqui-mfd/img/message_socket_on.png&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui-mfd" data-vis-name="value - Socket" data-vis-attrs="oid;min;max;invert_icon/checkbox;invert_state/checkbox;asButton[true]/checkbox;icon_off/image;iconColor_off/color;icon_on/image;iconColor_on/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute"  <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.active(el, this.data.invert_state) : '' %> >
        <div class="vis-widget-body" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/message_socket_on.png','widgets/jqui-mfd/img/message_socket_off.png']);  %>>
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var str = vis.states.attr(this.data.oid + '.val');
            var val = parseFloat(str);
            var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 1;
            var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
            if (max === 'true')  max = true;
            if (max === 'false') max = false;
            if (min === 'true')  min = true;
            if (min === 'false') min = false;

            if (str === true  || str === 'true')  val = max;
            if (str === false || str === 'false') val = min;
            if (this.data.invert_state) {
                if (val == min) {
                    val = max;
                } else {
                    val = min;
                }
            }

            if (val != min) {
                if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor_on'))) {
            %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_on')  ? this.data.attr('icon_on')  : 'widgets/jqui-mfd/img/message_socket_on.svg'  %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor_on')) %>/>
            <%  } else { %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_on') ? this.data.attr('icon_on') : 'widgets/jqui-mfd/img/message_socket_on.png' %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%  }
            } else {
                if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor_off'))) {
            %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_off')  ? this.data.attr('icon_off')  : 'widgets/jqui-mfd/img/message_socket_off.svg' %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor_off')) %>/>
            <%  } else { %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_off') ? this.data.attr('icon_off') : 'widgets/jqui-mfd/img/message_socket_off.png' %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%  }
            } %>
        </div>
    </div>
</script>

<script id="tplMfdSocketCtrl" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-name="ctrl - Socket" data-vis-prev="&lt;div id=&quot;prev_tplMfdSocketCtrl&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default  ui-state-active&quot; style=&quot;width: 70px; height: 70px&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt;&lt;img width=&quot;100%&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; src=&quot;widgets/jqui-mfd/img/message_socket_on.png&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;min;max;invert_state/checkbox;asButton[true]/checkbox;" data-vis-attrs0="group.icon;invert_icon/checkbox;icon_off/image;iconColor_off/color;icon_on/image;iconColor_on/color;" data-vis-attrs1="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;oidTrueValue;oidFalseValue;">
    <div
        data-oid="<%= this.data.attr('oid') %>"
        class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>"
        id="<%= this.data.attr('wid') %>"
        style="width:76px; height:76px; position:absolute"
        data-min="<%= this.data.attr('min') %>"
        data-max="<%= this.data.attr('max') %>"
        data-as-button="<%= this.data.attr('asButton') %>"
        data-url-true="<%=  this.data.attr('urlTrue') %>"
        data-url-false="<%= this.data.attr('urlFalse') %>"
        data-oid-true="<%=  this.data.attr('oidTrue') %>"
        data-oid-false="<%= this.data.attr('oidFalse') %>"
        data-oid-true-value="<%=  this.data.attr('oidTrueValue') %>"
        data-oid-false-value="<%= this.data.attr('oidFalseValue') %>"
        data-img-class="toggle-image"
        data-img-true="<%=  this.data.attr('icon_on')  ? this.data.attr('icon_on')  : 'widgets/jqui-mfd/img/message_socket_on.png'  %>"
        data-img-false="<%= this.data.attr('icon_off') ? this.data.attr('icon_off') : 'widgets/jqui-mfd/img/message_socket_off.png' %>"
        <%= (el) -> vis.binds.basic.toggle(el); this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>
        >
        <div class="vis-widget-body" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/message_socket_on.png','widgets/jqui-mfd/img/message_socket_off.png']);  %>>
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }
            var str = (this.data.oid && this.data.oid !== 'nothing_selected') ? vis.states.attr(this.data.oid + '.val') : false;
            var val = parseFloat(str);
            var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 1;
            var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
            if (max === 'true')  max = true;
            if (max === 'false') max = false;
            if (min === 'true')  min = true;
            if (min === 'false') min = false;

            if (str === true  || str === 'true')  val = max;
            if (str === false || str === 'false') val = min;
            if (this.data.invert_state) {
                if (val == min) {
                    val = max;
                } else {
                    val = min;
                }
            }

            if (val != min) {
                if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor_on'))) {
            %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_on')  ? this.data.attr('icon_on')  : 'widgets/jqui-mfd/img/message_socket_on.svg'  %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor_on')) %>/>
            <%  } else { %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_on') ? this.data.attr('icon_on') : 'widgets/jqui-mfd/img/message_socket_on.png' %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%  }
            } else {
                if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor_off'))) {
            %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_off')  ? this.data.attr('icon_off')  : 'widgets/jqui-mfd/img/message_socket_off.svg' %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor_off')) %>/>
            <%  } else { %>
                    <img style="<%= styles %>" width="100%" src="<%= this.data.attr('icon_off') ? this.data.attr('icon_off') : 'widgets/jqui-mfd/img/message_socket_off.png' %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%  }
            } %>
        </div>
    </div>
</script>

<script id="tplMfdShutter" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="state,shutter" data-vis-name="Shutter" data-vis-prev="&lt;div id=&quot;prev_tplMfdShutter&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_shutter_30.png&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;invert_value/checkbox;show_active/checkbox;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>><div class="vis-widget-body">
        <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
            var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

            var val = max - parseFloat(vis.states.attr(this.data.oid + '.val')) + min;
            if (this.data.invert_value) val = max - val + min;
            var image = '';
            var imageColor = null;
            if (val >= max) {
                image = "fts_shutter_100";
                imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.9) {
                image = "fts_shutter_90";
                imageColor = this.data.attr('iconColor9');
            } else if (val >= min + (max - min) * 0.8) {
                image = "fts_shutter_80";
                imageColor = this.data.attr('iconColor8');
            } else if (val >= min + (max - min) * 0.7) {
                image = "fts_shutter_70";
                imageColor = this.data.attr('iconColor7');
            } else if (val >= min + (max - min) * 0.6) {
                image = "fts_shutter_60";
                imageColor = this.data.attr('iconColor6');
            } else if (val >= min + (max - min) * 0.5) {
                image = "fts_shutter_50";
                imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.4) {
                image = "fts_shutter_40";
                imageColor = this.data.attr('iconColor4');
            } else if (val >= min + (max - min) * 0.3) {
                image = "fts_shutter_30";
                imageColor = this.data.attr('iconColor3');
            } else if (val >= min + (max - min) * 0.2) {
                image = "fts_shutter_20";
                imageColor = this.data.attr('iconColor2');
            } else if (val >= min + (max - min) * 0.1) {
                image = "fts_shutter_10";
                imageColor = this.data.attr('iconColor1');
            } else {
                image = "fts_window_2w";
                imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
               imageColor = this.data.attr('iconColor');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <% } else { %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
    </div></div>
</script>

<script id="tplMfdShutterDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="ctrl,shutter,dialog" data-vis-name="Shutter + jqui Dialog" data-vis-prev="&lt;div id=&quot;prev_tplMfdShutter&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default  ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_shutter_30.png&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;invert_icon/checkbox;asButton[true]/checkbox;invert_value/checkbox;show_active/checkbox;iconColor/color;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;" data-vis-attrs1="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[450];dialog_height[210];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;show_value/checkbox;units;">
    <div data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
            <%
                var styles = '';
                if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                    styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
                }
                var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

                var val = max - parseFloat(vis.states.attr(this.data.oid + '.val')) + min;

                if (this.data.attr('invert_value')) val = max - val + min;

                var image = '';
                var imageColor = null;
            if (val >= max) {
                image = "fts_shutter_100";
                imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.9) {
                image = "fts_shutter_90";
                imageColor = this.data.attr('iconColor9');
            } else if (val >= min + (max - min) * 0.8) {
                image = "fts_shutter_80";
                imageColor = this.data.attr('iconColor8');
            } else if (val >= min + (max - min) * 0.7) {
                image = "fts_shutter_70";
                imageColor = this.data.attr('iconColor7');
            } else if (val >= min + (max - min) * 0.6) {
                image = "fts_shutter_60";
                imageColor = this.data.attr('iconColor6');
            } else if (val >= min + (max - min) * 0.5) {
                image = "fts_shutter_50";
                imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.4) {
                image = "fts_shutter_40";
                imageColor = this.data.attr('iconColor4');
            } else if (val >= min + (max - min) * 0.3) {
                image = "fts_shutter_30";
                imageColor = this.data.attr('iconColor3');
            } else if (val >= min + (max - min) * 0.2) {
                image = "fts_shutter_20";
                imageColor = this.data.attr('iconColor2');
            } else if (val >= min + (max - min) * 0.1) {
                image = "fts_shutter_10";
                imageColor = this.data.attr('iconColor1');
            } else {
                image = "fts_window_2w";
                imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
                imageColor = this.data.attr('iconColor');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <% } else { %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left: 20px;">
            <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <%
                    var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                    var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                    if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                    if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

                %>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min : max                                           %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio0"><%= _('closed') %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.25 : min + (max - min) * 0.75 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio1"><%= !this.data.attr('invert_value') ? '25%' : '75%' %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%=                                   min + (max - min) * 0.5                             %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.75 : min + (max - min) * 0.25 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio3"><%= !this.data.attr('invert_value') ? '75%' : '25%' %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? max : min                                           %>"/><label for="<%= this.data.attr('wid') %>_radio4"><%= _('open') %></label>
            </div>
            <br/>
            <div class="sliderJQUI" style="width: 90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min: min, max: max, step: (max - min) / 100, inverted: this.data.attr('invert_value')}) %> />
            <br/>
            <%= vis.states.attr(this.data.oid + '.val') ? (((parseFloat(vis.states.attr(this.data.oid + '.val')) - min) / (max - min)) * 100).toFixed(0) : 0 %>%
            <%= (this.data.show_value === 'true' || this.data.show_value === true) ? '(' + Math.round(parseFloat(vis.states.attr(this.data.oid + '.val') * 100) / 100) + ' ' + this.data.attr('units') + ')' : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdBlind" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="state,blind" data-vis-name="Shutter" data-vis-prev="&lt;div id=&quot;prev_tplMfdBlind&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_markise_75.png&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;invert_value/checkbox;show_active/checkbox;" data-vis-attrs0="group.colors;iconColor0/color;iconColor25/color;iconColor5/color;iconColor75/color;iconColor10/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>><div class="vis-widget-body">
        <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
            var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

            if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
            if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

            var val = parseFloat(vis.states.attr(this.data.oid + '.val'));
            if (this.data.invert_value) val = max - val + min;
            var image = '';
            var imageColor = null;
            if (val >= max) {
                image = "fts_markise_100";
                imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.75) {
                image = "fts_markise_75";
                imageColor = this.data.attr('iconColor75');
            } else if (val >= min + (max - min) * 0.5) {
                image = "fts_markise_50";
                imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.25) {
                image = "fts_markise_25";
                imageColor = this.data.attr('iconColor25');
            } else {
                image = "fts_markise_0";
                imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
               imageColor = this.data.attr('iconColor');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <% } else { %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
    </div></div>
</script>

<script id="tplMfdBlindDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="ctrl,blind,dialog" data-vis-name="Blind + jqui Dialog" data-vis-prev="&lt;div id=&quot;prev_tplMfdBlind&quot; style=&quot;position: relative; text-align: initial; padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default  ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_markise_100.png&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;invert_icon/checkbox;asButton[true]/checkbox;invert_value/checkbox;show_active/checkbox;iconColor/color;" data-vis-attrs0="group.colors;iconColor0/color;iconColor25/color;iconColor5/color;iconColor75/color;iconColor10/color;" data-vis-attrs1="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[450];dialog_height[210];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;show_value/checkbox;units;">
    <div data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
            <%
                var styles = '';
                if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                    styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
                }
                var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

                var val = parseFloat(vis.states.attr(this.data.oid + '.val'));

                if (this.data.attr('invert_value')) val = max - val + min;

                var image = '';
                var imageColor = null;
            if (val >= max) {
                image = "fts_markise_100";
                imageColor = this.data.attr('iconColor10');
            } else if (val >= min + (max - min) * 0.75) {
                image = "fts_markise_75";
                imageColor = this.data.attr('iconColor75');
            } else if (val >= min + (max - min) * 0.5) {
                image = "fts_markise_50";
                imageColor = this.data.attr('iconColor5');
            } else if (val >= min + (max - min) * 0.25) {
                image = "fts_markise_25";
                imageColor = this.data.attr('iconColor25');
            } else {
                image = "fts_markise_0";
                imageColor = this.data.attr('iconColor0');
            }

            if (!vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
                imageColor = this.data.attr('iconColor');
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <% } else { %>
                <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left: 20px;">
            <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <%
                    var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                    var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                    if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                    if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

                %>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min : max                                           %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio0"><%= _('closed') %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.25 : min + (max - min) * 0.75 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio1">25%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%=                                   min + (max - min) * 0.5                             %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.75 : min + (max - min) * 0.25 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio3">75%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? max : min                                           %>"/><label for="<%= this.data.attr('wid') %>_radio4"><%= _('open') %></label>
            </div>
            <br/>
            <div class="sliderJQUI" style="width: 90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min: min, max: max, step: (max - min) / 100, inverted: this.data.attr('invert_value')}) %> />
            <br/>
            <%= vis.states.attr(this.data.oid + '.val') ? (((parseFloat(vis.states.attr(this.data.oid + '.val')) - min) / (max - min)) * 100).toFixed(0) : 0 %>%
            <%= (this.data.show_value === 'true' || this.data.show_value === true) ? '(' + Math.round(parseFloat(vis.states.attr(this.data.oid + '.val') * 100) / 100) + ' ' + this.data.attr('units') + ')' : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdHeating" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-prev="&lt;div id=&quot;prev_tplMfdHeating&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;width:100%; height:100%&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; src=&quot;widgets/jqui-mfd/img/sani_heating_temp.png&quot; width=&quot;100%&quot;&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-type="ctrl,heating,dialog" data-vis-name="ctrl - Heating + jqui Dialog" data-vis-attrs="oid;oid-working;min[18];max[30];step[2];roundnumber[0];checkboxDisplay[image]/select,image,text;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[600];dialog_height[200];">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="<%= this.data.attr('checkboxDisplay') == 'image' ? 'width:76px; height:76px; ' : '' %>position:absolute" >
    <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%">
        <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
		if (this.data.attr('checkboxDisplay') == 'image') {
			if (this.data.attr('iconColor')) {
			%>
				<img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/sani_heating_temp.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
			<% } else { %>
				<img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/sani_heating_temp.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
			<% } %>
		<% } else { %>
			<% var dec = (this.data.attr('roundnumber') !== undefined || this.data.attr('roundnumber') >= 0) ? this.data.attr('roundnumber') : 0; %>
			<span class="actTemp"><%= (parseFloat(vis.states.attr(this.data.oid + '.val'))).toFixed(dec) %> °C</span>
		<% } %>
    </div>
    <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left:20px;">
        <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
			<%
			var min  = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 18;
			var max  = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 30;
			var step = (this.data.attr('step') !== undefined) ? this.data.attr('step') : 2;
			var dec	 = (this.data.attr('roundnumber') !== undefined || this.data.attr('roundnumber') >= 0) ? this.data.attr('roundnumber') : 0;


			if (typeof min  === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
			if (typeof max  === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
			if (typeof step === 'string' && parseFloat(step).toString() == step) step = parseFloat(step);

			var temparr = [];
			if (step > 0 && min < max) {
				for (var i = min; i <= max; i += step) {
					temparr.push(i);
				}
			}
			for (var i = 0; i < temparr.length; i++) { %>
				<input type="radio" id="<%= this.data.attr('wid') %>_radio<%= i %>" name="<%= this.data.attr('wid') %>_radio" value="<%= parseFloat(temparr[i]).toFixed(dec) %>" /><label for="<%= this.data.attr('wid') %>_radio<%= i %>"><%= parseFloat(temparr[i]).toFixed(dec) %> °C</label>
			<% } %>
        </div>
        <br/>
		<%
		var min  = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 18;
		var max  = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 30;
		var step = (this.data.attr('step') !== undefined) ? this.data.attr('step') : 2;
		var dec	 = (this.data.attr('roundnumber') !== undefined || this.data.attr('roundnumber') >= 0) ? this.data.attr('roundnumber') : 0;

		if (typeof min  === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
		if (typeof max  === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
		if (typeof step === 'string' && parseFloat(step).toString() == step) step = parseFloat(step);
		%>
        <div class="sliderJQUI" style="width:90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min: min, max: max,step: step}) %> />
            <br/>
            <%= (parseFloat(vis.states.attr(this.data.oid + '.val'))).toFixed(dec) %>°C
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdWindow" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val,window" data-vis-name="Window Rotate Handle" data-vis-prev="&lt;div id=&quot;prev_tplMfdWindow&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;height: 70px; width: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); max-height: 80px&quot; height=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_window_1w_open.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;slide_count[1]/nselect,1,2;" data-vis-attrs0="group.slides/byindex;slide_type(1-slide_count)/select,left,right;oid-slide-sensor(1-slide_count)/id/changedSensorId;" data-vis-attrs1="group.values;closed_value;tilted_value;opened_value;" data-vis-attrs2="group.icons;closed_icon/image;closed_iconColor/color;tilted_icon/image;tilted_iconColor/color;opened_icon/image;opened_iconColor/color">
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" style="height:76px; width:76px; position:absolute" data-min="<%= this.data.attr('closed_value') %>" data-max="<%= this.data.attr('opened_value') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.active(el) : '' %> >
        <div class="vis-widget-body">
            <%
            var styles 		= '';
			var sc 	   		= this.data.attr('slide_count');
			var img_append 	= '';
			var cState		= 'closed';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

			var opened = this.data.attr('opened_value');
			if (opened === undefined || opened === '') opened = 1;

			var closed = this.data.attr('closed_value');
			if (closed === undefined || closed === '') closed = 0;

			var tilted = this.data.attr('tilted_value');
			if (tilted === undefined || tilted === '') tilted = 2;

			if(sc > 1)
			{
				for (var i = 1; i <= sc; i++) {
					if(this.data.attr('slide_type' + i) == 'left')
						var val_left = vis.states.attr(this.data.attr('oid-slide-sensor' + i) + '.val');
					if(this.data.attr('slide_type' + i) == 'right')
						var val_right = vis.states.attr(this.data.attr('oid-slide-sensor' + i) + '.val');
				}

				if(val_left == tilted || val_right == tilted) cState = 'tilted';
				if(val_left == opened || val_right == opened) cState = 'opened';
				if(val_left == tilted && val_right == tilted) img_append = '_tilt_lr';
				if(val_left == closed && val_right == tilted) img_append = '_tilt_r';
				if(val_left == tilted && val_right == closed) img_append = '_tilt_l';
				if(val_left == tilted && val_right == opened) img_append = '_tilt_l_open_r';
				if(val_left == opened && val_right == tilted) img_append = '_open_l_tilt_r';
				if(val_left == opened && val_right == opened) img_append = '_open_lr';
				if(val_left == opened && val_right == closed) img_append = '_open_l';
				if(val_left == closed && val_right == opened) img_append = '_open_r';
			}
			else
			{
				if(this.data.attr('slide_type1') == 'right') img_append +='_r';
				var val = vis.states.attr(this.data.attr('oid-slide-sensor1') + '.val');
				if (val === 'true'  || val === true) val = opened;
				if (val === 'false' || val === false || val === undefined || val === null || val === '') val = closed;
				if (val == closed) { img_append += ''; cState = 'closed'; } else if(val == tilted) { img_append += '_tilt'; cState = 'tilted'; } else { img_append += '_open'; cState = 'opened'; }
			}

            var image = this.data.attr(cState+'_icon');
            var imageColor = this.data.attr(cState+'_iconColor') ? this.data.attr(cState+'_iconColor') : this.data.attr('iconColor');

			image = imageColor ? "widgets/jqui-mfd/img/fts_window_"+sc+"w"+img_append+".svg" : "widgets/jqui-mfd/img/fts_window_"+sc+"w"+img_append+".png";

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %> />
            <%
            } else {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%
            }
            %>
        </div>
    </div>
</script>

<script id="tplMfdWindowBool" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val,window" data-vis-name="Window" data-vis-prev="&lt;div id=&quot;prev_tplMfdWindowBool&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default ui-state-active&quot; style=&quot;height: 70px; width: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); max-height: 80px&quot; height=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_window_1w_open.png&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;invert_icon/checkbox;invert_state/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.values;closed_value;opened_value;" data-vis-attrs1="group.icons;closed_icon/image;closed_iconColor/color;opened_icon/image;opened_iconColor/color;">
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" style="height:76px; width:76px; position:absolute" data-min="<%= this.data.attr('closed_value') %>" data-max="<%= this.data.attr('opened_value') %>" <%= (el) -> this.data.attr('asButton') ?  vis.binds.jqueryui.active(el, this.data.invert_state) : '' %> >
        <div class="vis-widget-body">
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                 styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var opened = this.data.attr('opened_value');
            var closed = this.data.attr('closed_value');

            var val = vis.states.attr(this.data.oid + '.val');

            if (opened === undefined || opened === '' || opened === null) {
                opened = 1;
                closed = 0;

                if (val === 'true'  || val === true)  val = opened;
                if (val === 'false' || val === false) val = closed;

                val = parseFloat(val) || 0;
                val = (val > closed) ? opened : closed;
            }
            if (this.data.invert_state) {
                if (val == opened) {
                    val = closed;
                } else {
                    val = opened;
                }
            }

            var image = null;
            var imageColor = null;
            if (val != opened) {
                imageColor = this.data.attr('closed_iconColor') ? this.data.attr('closed_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('closed_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_window_1w.svg" : "widgets/jqui-mfd/img/fts_window_1w.png";
                }
            } else {
                imageColor = this.data.attr('opened_iconColor') ? this.data.attr('opened_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('opened_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_window_1w_open.svg" : "widgets/jqui-mfd/img/fts_window_1w_open.png";
                }
            }

            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
            } else {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%
            }
            %>
        </div>
    </div>
</script>

<script id="tplMfdRoofWindowBool" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val,window" data-vis-prev="&lt;div id=&quot;prev_tplMfdRoofWindowBool&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;height: 70px; width: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); max-height: 80px&quot; height=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_window_roof.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="Roof window" data-vis-attrs="oid;invert_icon/checkbox;invert_state/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.values;closed_value;opened_value;" data-vis-attrs1="group.icons;closed_icon/image;closed_iconColor/color;opened_icon/image;opened_iconColor/color;">
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" style="height:76px; width:76px; position:absolute" data-min="<%= this.data.attr('closed_value') %>" data-max="<%= this.data.attr('opened_value') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.active(el, this.data.invert_state) : '' %> >
        <div class="vis-widget-body">
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }
            var opened = this.data.attr('opened_value');
            var closed = this.data.attr('closed_value');

            var val = vis.states.attr(this.data.oid + '.val');

            if (opened === undefined || opened === '' || opened === null) {
                opened = 1;
                closed = 0;

                if (val === 'true'  || val === true)  val = opened;
                if (val === 'false' || val === false) val = closed;

                val = parseFloat(val) || 0;
                val = (val > closed) ? opened : closed;
            }
            if (this.data.invert_state) {
                if (val == opened) {
                    val = closed;
                } else {
                    val = opened;
                }
            }

            var image = null;
            var imageColor = null;
            if (val != opened) {
                imageColor = this.data.attr('closed_iconColor') ? this.data.attr('closed_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('closed_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_window_roof.svg" : "widgets/jqui-mfd/img/fts_window_roof.png";
                }
            } else {
                imageColor = this.data.attr('opened_iconColor') ? this.data.attr('opened_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('opened_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_window_roof_open_2.svg" : "widgets/jqui-mfd/img/fts_window_roof_open_2.png";
                }
            }

            if (imageColor) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
            } else {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%
            }
            %>
        </div>
    </div>
</script>

<script id="tplMfdDoor" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-name="val - Door" data-vis-prev="&lt;div id=&quot;prev_tplMfdDoor&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;height: 76px; width: 76px&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); max-height: 80px&quot; height=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_door.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;invert_icon/checkbox;invert_state/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.values;closed_value;tilted_value;opened_value;" data-vis-attrs1="group.icons;closed_icon/image;closed_iconColor/color;tilted_icon/image;tilted_iconColor/color;opened_icon/image;opened_iconColor/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="height:76px; width:76px; position:absolute"  data-min="<%= this.data.attr('closed_value') %>" data-max="<%= this.data.attr('opened_value') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.active(el, this.data.invert_state) : '' %>>
        <div class="vis-widget-body">
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }
            var opened = this.data.attr('opened_value');
            if (opened === undefined || opened === '') opened = 1;

            var closed = this.data.attr('closed_value');
            if (closed === undefined || closed === '') closed = 0;

            var tilted = this.data.attr('tilted_value');
            if (tilted === undefined || tilted === '') tilted = 2;

            var val = vis.states.attr(this.data.oid + '.val');
            if (val === 'true'  || val === true)  val = opened;
            if (val === 'false' || val === false || val === undefined || val === null) val = closed;

            var image = null;
            var imageColor = null;
            if (val == closed) {
                imageColor = this.data.attr('closed_iconColor') ? this.data.attr('closed_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('closed_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_door.svg" : "widgets/jqui-mfd/img/fts_door.png";
                }
            } else if (val == tilted) {
                imageColor = this.data.attr('tilted_iconColor') ? this.data.attr('tilted_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('tilted_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_door_tilt.svg" : "widgets/jqui-mfd/img/fts_door_tilt.png";
                }
            } else {
                imageColor = this.data.attr('opened_iconColor') ? this.data.attr('opened_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('opened_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_door_open.svg" : "widgets/jqui-mfd/img/fts_door_open.png";
                }
            }

            if (imageColor) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
            } else {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%
            }
            %>
        </div>
    </div>

</script>

<script id="tplMfdGarage" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-name="val - Garage" data-vis-prev="&lt;div id=&quot;prev_tplMfdGarage&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;height: 76px; width: 76px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt;&lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); max-height: 80px&quot; height=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/fts_garage_door_100.png&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;invert_icon/checkbox;invert_state/checkbox;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.values;closed_value;opened_value;" data-vis-attrs1="group.icons;closed_icon/image;closed_iconColor/color;opened_icon/image;opened_iconColor/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="height:76px; width:76px; position:absolute" data-min="<%= this.data.attr('closed_value') %>" data-max="<%= this.data.attr('opened_value') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.active(el, this.data.invert_state) : '' %>>
        <div class="vis-widget-body">
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
            }

            var opened = this.data.attr('opened_value');
            var closed = this.data.attr('closed_value');

            var val = vis.states.attr(this.data.oid + '.val');

            if (opened === undefined || opened === '' || opened === null) {
                opened = 1;
                closed = 0;

                if (val === 'true'  || val === true)  val = opened;
                if (val === 'false' || val === false) val = closed;

                val = parseFloat(val) || 0;
                val = (val > closed) ? opened : closed;
            }
            if (this.data.invert_state) {
                if (val == opened) {
                    val = closed;
                } else {
                    val = opened;
                }
            }

            var image = null;
            var imageColor = null;
            if (val != opened) {
                imageColor = this.data.attr('closed_iconColor') ? this.data.attr('closed_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('closed_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_garage_door_100.svg" : "widgets/jqui-mfd/img/fts_garage_door_100.png";
                }
            } else {
                imageColor = this.data.attr('opened_iconColor') ? this.data.attr('opened_iconColor') : this.data.attr('iconColor');
                image = this.data.attr('opened_icon');
                if (!image) {
                    image = imageColor ? "widgets/jqui-mfd/img/fts_garage_door_10.svg" : "widgets/jqui-mfd/img/fts_garage_door_10.png";
                }
            }

            if (imageColor) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <%
            } else {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <%
            }
            %>
        </div>
    </div>
</script>

<script id="tplMfdValve" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="state,valve" data-vis-name="Valve" data-vis-prev="&lt;div id=&quot;prev_tplMfdValve&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/sani_valve_30.png&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;invert_value/checkbox;show_active/checkbox;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>><div class="vis-widget-body">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }

        var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
        var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

        if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
        if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

        var val = parseFloat(vis.states.attr(this.data.oid + '.val'));
        if (this.data.invert_value) val = max - val + min;
        var image = '';
        var imageColor = null;
        if (val >= max) {
            image = "sani_valve_100";
            imageColor = this.data.attr('iconColor10');
        } else if (val >= min + (max - min) * 0.9) {
            image = "sani_valve_90";
            imageColor = this.data.attr('iconColor9');
        } else if (val >= min + (max - min) * 0.8) {
            image = "sani_valve_80";
            imageColor = this.data.attr('iconColor8');
        } else if (val >= min + (max - min) * 0.7) {
            image = "sani_valve_70";
            imageColor = this.data.attr('iconColor7');
        } else if (val >= min + (max - min) * 0.6) {
            image = "sani_valve_60";
            imageColor = this.data.attr('iconColor6');
        } else if (val >= min + (max - min) * 0.5) {
            image = "sani_valve_50";
            imageColor = this.data.attr('iconColor5');
        } else if (val >= min + (max - min) * 0.4) {
            image = "sani_valve_40";
            imageColor = this.data.attr('iconColor4');
        } else if (val >= min + (max - min) * 0.3) {
            image = "sani_valve_30";
            imageColor = this.data.attr('iconColor3');
        } else if (val >= min + (max - min) * 0.2) {
            image = "sani_valve_20";
            imageColor = this.data.attr('iconColor2');
        } else if (val >= min + (max - min) * 0.1) {
            image = "sani_valve_10";
            imageColor = this.data.attr('iconColor1');
        } else {
            image = "sani_valve_0";
            imageColor = this.data.attr('iconColor0');
        }

        if (!imageColor) {
            imageColor = this.data.attr('iconColor');
        }

        if (imageColor) { %>
            <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
        <% } else { %>
            <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
        <% } %>
    </div></div>
</script>

<script id="tplMfdValveDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="ctrl,valve,dialog" data-vis-name="Valve + jqui Dialog" data-vis-prev="&lt;div id=&quot;prev_tplMfdValveDialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default  ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/sani_valve_30.png&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;invert_icon/checkbox;asButton[true]/checkbox;iconColor/color;invert_value/checkbox;show_active/checkbox;" data-vis-attrs0="group.colors;iconColor0/color;iconColor1/color;iconColor2/color;iconColor3/color;iconColor4/color;iconColor5/color;iconColor6/color;iconColor7/color;iconColor8/color;iconColor9/color;iconColor10/color;" data-vis-attrs1="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[440];dialog_height[200];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;show_value/checkbox;units;">
<div data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>>
    <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/sani_valve_100.png','widgets/jqui-mfd/img/sani_valve_90.png','widgets/jqui-mfd/img/sani_valve_80.png','widgets/jqui-mfd/img/sani_valve_70.png','widgets/jqui-mfd/img/sani_valve_60.png','widgets/jqui-mfd/img/sani_valve_50.png','widgets/jqui-mfd/img/sani_valve_40.png','widgets/jqui-mfd/img/sani_valve_30.png','widgets/jqui-mfd/img/sani_valve_20.png','widgets/jqui-mfd/img/sani_valve_10.png','widgets/jqui-mfd/img/sani_valve_0.png']); %>>
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
        var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

        if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
        if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

        var val = parseFloat(vis.states.attr(this.data.oid + '.val'));

        if (this.data.attr('invert_value')) val = max - val + min;

        var image = '';
        var imageColor = null;
        if (val >= max) {
            image = "sani_valve_100";
            imageColor = this.data.attr('iconColor10');
        } else if (val >= min + (max - min) * 0.9) {
            image = "sani_valve_90";
            imageColor = this.data.attr('iconColor9');
        } else if (val >= min + (max - min) * 0.8) {
            image = "sani_valve_80";
            imageColor = this.data.attr('iconColor8');
        } else if (val >= min + (max - min) * 0.7) {
            image = "sani_valve_70";
            imageColor = this.data.attr('iconColor7');
        } else if (val >= min + (max - min) * 0.6) {
            image = "sani_valve_60";
            imageColor = this.data.attr('iconColor6');
        } else if (val >= min + (max - min) * 0.5) {
            image = "sani_valve_50";
            imageColor = this.data.attr('iconColor5');
        } else if (val >= min + (max - min) * 0.4) {
            image = "sani_valve_40";
            imageColor = this.data.attr('iconColor4');
        } else if (val >= min + (max - min) * 0.3) {
            image = "sani_valve_30";
            imageColor = this.data.attr('iconColor3');
        } else if (val >= min + (max - min) * 0.2) {
            image = "sani_valve_20";
            imageColor = this.data.attr('iconColor2');
        } else if (val >= min + (max - min) * 0.1) {
            image = "sani_valve_10";
            imageColor = this.data.attr('iconColor1');
        } else {
            image = "sani_valve_0";
            imageColor = this.data.attr('iconColor0');
        }

        if (!imageColor) {
            imageColor = this.data.attr('iconColor');
        }

        if (imageColor) { %>
            <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.svg" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
        <% } else { %>
            <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/<%= image %>.png" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
        <% } %>
    </div>
    <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left: 20px;">
        <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
            <%
                var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
            %>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min : max                                           %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio0"><%= _('closed') %></label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.25 : min + (max - min) * 0.75 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio1">25%</label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%=                                   min + (max - min) * 0.5                             %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.75 : min + (max - min) * 0.25 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio3">75%</label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? max : min                                           %>"/><label for="<%= this.data.attr('wid') %>_radio4"><%= _('open') %></label>
        </div>
        <br/>
        <div class="sliderJQUI" style="width: 90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min: min, max: max, step: (max - min) / 100, inverted: this.data.attr('invert_value')}) %> />
        <br/>
        <%= vis.states.attr(this.data.oid + '.val') ? (((parseFloat(vis.states.attr(this.data.oid + '.val')) - min) / (max - min)) * 100).toFixed(0) : 0 %>%
        <%= (this.data.show_value === 'true' || this.data.show_value === true) ? '(' + Math.round(parseFloat(vis.states.attr(this.data.oid + '.val') * 100) / 100) + ' ' + this.data.attr('units') + ')' : '' %>
    </div>
    <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true) %> />
    <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
</div>
</script>

<script id="tplMfdCustom10" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="state" data-vis-name="Custom10" data-vis-prev="&lt;div id=&quot;prev_tplMfdCustom10&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/sani_valve_custom.svg&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;min;max;asButton[true]/checkbox;invert_value/checkbox;show_active/checkbox;" data-vis-attrs0="group.images;iconValue0;icon0[widgets~jqui-mfd~img~sani_valve_0.svg]/image;iconColor0/color;iconValue1;icon1[widgets~jqui-mfd~img~sani_valve_10.svg]/image;iconColor1/color;iconValue2;icon2[widgets~jqui-mfd~img~sani_valve_20.svg]/image;iconColor2/color;iconValue3;icon3[widgets~jqui-mfd~img~sani_valve_30.svg]/image;iconColor3/color;iconValue4;icon4[widgets~jqui-mfd~img~sani_valve_40.svg]/image;iconColor4/color;iconValue5;icon5[widgets~jqui-mfd~img~sani_valve_50.svg]/image;iconColor5/color;iconValue6;icon6[widgets~jqui-mfd~img~sani_valve_60.svg]/image;iconColor6/color;iconValue7;icon7[widgets~jqui-mfd~img~sani_valve_70.svg]/image;iconColor7/color;iconValue8;icon8[widgets~jqui-mfd~img~sani_valve_80.svg]/image;iconColor8/color;iconValue9;icon9[widgets~jqui-mfd~img~sani_valve_90.svg]/image;iconColor9/color;iconValue10;icon10[widgets~jqui-mfd~img~sani_valve_100.svg]/image;iconColor10/color;">
    <div data-oid="<%= this.data.attr('oid') %>" class="vis-widget vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>>
    <div class="vis-widget-body">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
        var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

        if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
        if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

        var str = vis.states.attr(this.data.oid + '.val');
        var val = parseFloat(str);
        if (str === true  || str === 'true')  val = max;
        if (str === false || str === 'false') val = min;

        if (this.data.attr('invert_value')) val = max - val + min;

        var image = null;
        var imageColor = null;

        if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue0')) && this.data.attr('iconValue0') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor0')) ? this.data.attr('iconColor0') : this.data.attr('iconColor');
            image = this.data.attr('icon0');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue1')) && this.data.attr('iconValue1') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor1')) ? this.data.attr('iconColor1') : this.data.attr('iconColor');
            image = this.data.attr('icon1');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue2')) && this.data.attr('iconValue2') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor2')) ? this.data.attr('iconColor2') : this.data.attr('iconColor');
            image = this.data.attr('icon2');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue3')) && this.data.attr('iconValue3') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor3')) ? this.data.attr('iconColor3') : this.data.attr('iconColor');
            image = this.data.attr('icon3');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue4')) && this.data.attr('iconValue4') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor4')) ? this.data.attr('iconColor4') : this.data.attr('iconColor');
            image = this.data.attr('icon4');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue5')) && this.data.attr('iconValue5') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor5')) ? this.data.attr('iconColor5') : this.data.attr('iconColor');
            image = this.data.attr('icon5');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue6')) && this.data.attr('iconValue6') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor6')) ? this.data.attr('iconColor6') : this.data.attr('iconColor');
            image = this.data.attr('icon6');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue7')) && this.data.attr('iconValue7') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor7')) ? this.data.attr('iconColor7') : this.data.attr('iconColor');
            image = this.data.attr('icon7');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue8')) && this.data.attr('iconValue8') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor8')) ? this.data.attr('iconColor8') : this.data.attr('iconColor');
            image = this.data.attr('icon8');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue9')) && this.data.attr('iconValue9') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor9')) ? this.data.attr('iconColor9') : this.data.attr('iconColor');
            image = this.data.attr('icon9');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue10')) && this.data.attr('iconValue10') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor10')) ? this.data.attr('iconColor10') : this.data.attr('iconColor');
            image = this.data.attr('icon10');
        }

        if (!image && !imageColor) {
            if (val >= max) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor10')) ? this.data.attr('iconColor10') : this.data.attr('iconColor');
                image = this.data.attr('icon10');
            } else if (val >= min + (max - min) * 0.9) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor9')) ? this.data.attr('iconColor9') : this.data.attr('iconColor');
                image = this.data.attr('icon9');
            } else if (val >= min + (max - min) * 0.8) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor8')) ? this.data.attr('iconColor8') : this.data.attr('iconColor');
                image = this.data.attr('icon8');
            } else if (val >= min + (max - min) * 0.7) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor7')) ? this.data.attr('iconColor7') : this.data.attr('iconColor');
                image = this.data.attr('icon7');
            } else if (val >= min + (max - min) * 0.6) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor6')) ? this.data.attr('iconColor6') : this.data.attr('iconColor');
                image = this.data.attr('icon6');
            } else if (val >= min + (max - min) * 0.5) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor5')) ? this.data.attr('iconColor5') : this.data.attr('iconColor');
                image = this.data.attr('icon5');
            } else if (val >= min + (max - min) * 0.4) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor4')) ? this.data.attr('iconColor4') : this.data.attr('iconColor');
                image = this.data.attr('icon4');
            } else if (val >= min + (max - min) * 0.3) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor3')) ? this.data.attr('iconColor3') : this.data.attr('iconColor');
                image = this.data.attr('icon3');
            } else if (val >= min + (max - min) * 0.2) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor2')) ? this.data.attr('iconColor2') : this.data.attr('iconColor');
                image = this.data.attr('icon2');
            } else if (val >= min + (max - min) * 0.1) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor1')) ? this.data.attr('iconColor1') : this.data.attr('iconColor');
                image = this.data.attr('icon1');
            } else {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor0')) ? this.data.attr('iconColor0') : this.data.attr('iconColor');
                image = this.data.attr('icon0');
            }
        }

        if (vis.binds['jqui-mfd'].isNotEmpty(image)) {
            if (vis.binds['jqui-mfd'].isNotEmpty(imageColor)) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <% } else { %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% }
        }
    %>
    </div>
    </div>
</script>

<script id="tplMfdCustom10Dialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="ctrl,dialog" data-vis-name="Custom10 + jqui Dialog" data-vis-prev="&lt;div id=&quot;prev_tplMfdCustom10Dialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-oid=&quot;dev1&quot; class=&quot;vis-widget_prev vis-widget ui-widget ui-button ui-corner-all ui-state-default  ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);&quot; width=&quot;100%&quot; src=&quot;widgets/jqui-mfd/img/sani_valve_custom.svg&quot;&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;asButton[true]/checkbox;invert_value/checkbox;show_active/checkbox;" data-vis-attrs0="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[440];dialog_height[200];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;show_value/checkbox;units;" data-vis-attrs1="group.images;iconValue0;icon0[widgets~jqui-mfd~img~sani_valve_0.svg]/image;iconColor0/color;iconValue1;icon1[widgets~jqui-mfd~img~sani_valve_10.svg]/image;iconColor1/color;iconValue2;icon2[widgets~jqui-mfd~img~sani_valve_20.svg]/image;iconColor2/color;iconValue3;icon3[widgets~jqui-mfd~img~sani_valve_30.svg]/image;iconColor3/color;iconValue4;icon4[widgets~jqui-mfd~img~sani_valve_40.svg]/image;iconColor4/color;iconValue5;icon5[widgets~jqui-mfd~img~sani_valve_50.svg]/image;iconColor5/color;iconValue6;icon6[widgets~jqui-mfd~img~sani_valve_60.svg]/image;iconColor6/color;iconValue7;icon7[widgets~jqui-mfd~img~sani_valve_70.svg]/image;iconColor7/color;iconValue8;icon8[widgets~jqui-mfd~img~sani_valve_80.svg]/image;iconColor8/color;iconValue9;icon9[widgets~jqui-mfd~img~sani_valve_90.svg]/image;iconColor9/color;iconValue10;icon10[widgets~jqui-mfd~img~sani_valve_100.svg]/image;iconColor10/color;">
 <div data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> this.data.attr('show_active') ? vis.binds.jqueryui.classes(el, true) : '' %>>
    <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
        var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

        if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
        if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);

        var str = vis.states.attr(this.data.oid + '.val');
        var val = parseFloat(str);
        if (str === true  || str === 'true')  val = max;
        if (str === false || str === 'false') val = min;

        if (this.data.attr('invert_value')) val = max - val + min;

        var image = null;
        var imageColor = null;

        if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue0')) && this.data.attr('iconValue0') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor0')) ? this.data.attr('iconColor0') : this.data.attr('iconColor');
            image = this.data.attr('icon0');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue1')) && this.data.attr('iconValue1') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor1')) ? this.data.attr('iconColor1') : this.data.attr('iconColor');
            image = this.data.attr('icon1');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue2')) && this.data.attr('iconValue2') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor2')) ? this.data.attr('iconColor2') : this.data.attr('iconColor');
            image = this.data.attr('icon2');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue3')) && this.data.attr('iconValue3') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor3')) ? this.data.attr('iconColor3') : this.data.attr('iconColor');
            image = this.data.attr('icon3');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue4')) && this.data.attr('iconValue4') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor4')) ? this.data.attr('iconColor4') : this.data.attr('iconColor');
            image = this.data.attr('icon4');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue5')) && this.data.attr('iconValue5') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor5')) ? this.data.attr('iconColor5') : this.data.attr('iconColor');
            image = this.data.attr('icon5');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue6')) && this.data.attr('iconValue6') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor6')) ? this.data.attr('iconColor6') : this.data.attr('iconColor');
            image = this.data.attr('icon6');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue7')) && this.data.attr('iconValue7') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor7')) ? this.data.attr('iconColor7') : this.data.attr('iconColor');
            image = this.data.attr('icon7');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue8')) && this.data.attr('iconValue8') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor8')) ? this.data.attr('iconColor8') : this.data.attr('iconColor');
            image = this.data.attr('icon8');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue9')) && this.data.attr('iconValue9') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor9')) ? this.data.attr('iconColor9') : this.data.attr('iconColor');
            image = this.data.attr('icon9');
        } else if (vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconValue10')) && this.data.attr('iconValue10') == str) {
            imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor10')) ? this.data.attr('iconColor10') : this.data.attr('iconColor');
            image = this.data.attr('icon10');
        }

        if (!image && !imageColor) {
            if (val >= max) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor10')) ? this.data.attr('iconColor10') : this.data.attr('iconColor');
                image = this.data.attr('icon10');
            } else if (val >= min + (max - min) * 0.9) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor9')) ? this.data.attr('iconColor9') : this.data.attr('iconColor');
                image = this.data.attr('icon9');
            } else if (val >= min + (max - min) * 0.8) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor8')) ? this.data.attr('iconColor8') : this.data.attr('iconColor');
                image = this.data.attr('icon8');
            } else if (val >= min + (max - min) * 0.7) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor7')) ? this.data.attr('iconColor7') : this.data.attr('iconColor');
                image = this.data.attr('icon7');
            } else if (val >= min + (max - min) * 0.6) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor6')) ? this.data.attr('iconColor6') : this.data.attr('iconColor');
                image = this.data.attr('icon6');
            } else if (val >= min + (max - min) * 0.5) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor5')) ? this.data.attr('iconColor5') : this.data.attr('iconColor');
                image = this.data.attr('icon5');
            } else if (val >= min + (max - min) * 0.4) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor4')) ? this.data.attr('iconColor4') : this.data.attr('iconColor');
                image = this.data.attr('icon4');
            } else if (val >= min + (max - min) * 0.3) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor3')) ? this.data.attr('iconColor3') : this.data.attr('iconColor');
                image = this.data.attr('icon3');
            } else if (val >= min + (max - min) * 0.2) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor2')) ? this.data.attr('iconColor2') : this.data.attr('iconColor');
                image = this.data.attr('icon2');
            } else if (val >= min + (max - min) * 0.1) {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor1')) ? this.data.attr('iconColor1') : this.data.attr('iconColor');
                image = this.data.attr('icon1');
            } else {
                imageColor = vis.binds['jqui-mfd'].isNotEmpty(this.data.attr('iconColor0')) ? this.data.attr('iconColor0') : this.data.attr('iconColor');
                image = this.data.attr('icon0');
            }
        }

        if (image) {
            if (imageColor) {
            %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, imageColor) %>/>
            <% } else { %>
                <img style="<%= styles %>" width="100%" src="<%= image %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% }
        }
    %>
    </div>
    <div id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left: 20px;">
        <div id="<%= this.data.attr('wid') %>_radio"  class="<%= this.data.attr('wid') %>_radio" style="text-align: center" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
            <%
                var max = (this.data.attr('max') !== undefined) ? this.data.attr('max') : 100;
                var min = (this.data.attr('min') !== undefined) ? this.data.attr('min') : 0;

                if (typeof max === 'string' && parseFloat(max).toString() == max) max = parseFloat(max);
                if (typeof min === 'string' && parseFloat(min).toString() == min) min = parseFloat(min);
            %>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min : max                                           %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio0"><%= _('closed') %></label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.25 : min + (max - min) * 0.75 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio1">25%</label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%=                                   min + (max - min) * 0.5                             %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? min + (max - min) * 0.75 : min + (max - min) * 0.25 %>" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio3">75%</label>
            <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= !this.data.attr('invert_value') ? max : min                                           %>"/><label for="<%= this.data.attr('wid') %>_radio4"><%= _('open') %></label>
        </div>
        <br/>
        <div class="sliderJQUI" style="width: 90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min: min, max: max, step: (max - min) / 100, inverted: this.data.attr('invert_value')}) %> />
        <br/>
        <%= vis.states.attr(this.data.oid + '.val') ? (((parseFloat(vis.states.attr(this.data.oid + '.val')) - min) / (max - min)) * 100).toFixed(0) : 0 %>%
        <%= (this.data.show_value === 'true' || this.data.show_value === true) ? '(' + Math.round(parseFloat(vis.states.attr(this.data.oid + '.val') * 100) / 100) + ' ' + this.data.attr('units') + ')' : '' %>
    </div>
    <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true) %> />
    <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
</div>
</script>

 <!--script id="tplMfdHueDimmerDialog"
         type="text/ejs"
         class="vis-tpl"
         data-vis-set="jqui-mfd"
         data-vis-name="hue_ctrl - jqui Dialog HUE_DIMMABLE_LIGHT"
         data-vis-attrs="oid;title;noHeader/checkbox;autoclose/checkbox;modal/checkbox;invert_icon/checkbox"
         >
     <%
     var styles = '';
     if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
         styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
     }

     if (!localData.metaObjects[this.data.oid] || (localData.metaObjects[this.data.oid].HssType != "HUE_DIMMABLE_PLUG-IN_UNIT" && localData.metaObjects[this.data.oid].HssType != "HUE_DIMMABLE_LIGHT")) {
         console.log("Widget "+this.data.attr('wid')+" error! ID has to be HUE_DIMMABLE_LIGHT/HUE_DIMMABLE_PLUG-IN_UNIT Channel!");
     }

     if (localData.metaObjects[this.data.oid] && localData.metaObjects[this.data.oid].DPs) {
         var hueIDs = {
             STATE: localData.metaObjects[this.data.oid].DPs.STATE || 'nothing_selected',
             LEVEL: localData.metaObjects[this.data.oid].DPs.LEVEL || 'nothing_selected',
         };
     } else {
         var hueIDs = {
             STATE: 'nothing_selected',
             LEVEL: 'nothing_selected',
         };
     }

     %>
     <div data-oid="<%= hueIDs.STATE %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
     <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
     <%
     var str = vis.states.attr(hueIDs.LEVEL + '.val');
     var val = (parseFloat(str) + 1) / 255;

     if (val == 1) {
     %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_100.png"/>
     <% } else if (val >= 0.9) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_90.png"/>
     <% } else if (val >= 0.8) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_80.png"/>
     <% } else if (val >= 0.7) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_70.png"/>
     <% } else if (val >= 0.6) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_60.png"/>
     <% } else if (val >= 0.5) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_50.png"/>
     <% } else if (val >= 0.4) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_40.png"/>
     <% } else if (val >= 0.3) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_30.png"/>
     <% } else if (val >= 0.2) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_20.png"/>
     <% } else if (val >= 0.1) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_10.png"/>
     <% } else if (val >= 0.01) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_00.png"/>
     <% } else { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim.png"/>
     <% } %>
     </div>
     <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left:20px;">

         <br/>
         <span id="<%= this.data.attr('wid') %>_radio"  data-oid="<%= hueIDs.STATE %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
         <input type="radio" id="<%= this.data.attr('wid') %>_radio_off" name="<%= this.data.attr('wid') %>_radio" value="false" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio_off"><%= _('off') %></label>
         <input type="radio" id="<%= this.data.attr('wid') %>_radio_on" name="<%= this.data.attr('wid') %>_radio" value="true"/><label for="<%= this.data.attr('wid') %>_radio_on"><%= _('on') %></label>
         </span>



         <br/><br/>
         Helligkeit
         <div class="sliderJQUI" style="width:90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= hueIDs.LEVEL %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:255,step:1}) %> />


     </div>
     <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el,{width:440,height:320,modal:data.attr('modal')},true) %> />
     <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
     </div>
 </script>

 <script id="tplMfdLivingColorDialog"
         type="text/ejs"
         class="vis-tpl"
         data-vis-set="jqui-mfd"
         data-vis-name="hue_ctrl - jqui Dialog HUE_COLOR_LIGHT"
         data-vis-attrs="oid;title;noHeader/checkbox;autoclose/checkbox;modal/checkbox;invert_icon/checkbox" >
     <%
     var styles = '';
     if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
         styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
     }

     if (!localData.metaObjects[this.data.oid] || localData.metaObjects[this.data.oid].HssType != "HUE_COLOR_LIGHT") {
         console.log("Widget "+this.data.attr('wid')+" error! ID has to be HUE_COLOR_LIGHT Channel!");
     }

     if (localData.metaObjects[this.data.oid] && localData.metaObjects[this.data.oid].DPs) {
         var hueIDs = {
             STATE: localData.metaObjects[this.data.oid].DPs.STATE || 'nothing_selected',
             LEVEL: localData.metaObjects[this.data.oid].DPs.LEVEL || 'nothing_selected',
             SAT:   localData.metaObjects[this.data.oid].DPs.SAT || 'nothing_selected',
             HUE:   localData.metaObjects[this.data.oid].DPs.HUE || 'nothing_selected',
         };
     } else {
         var hueIDs = {
             STATE: 'nothing_selected',
             LEVEL: 'nothing_selected',
             SAT:   'nothing_selected',
             HUE:   'nothing_selected',
         };
     }
     %>
     <div data-oid="<%= hueIDs.STATE %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
     <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
     <%
     var str = vis.states.attr(hueIDs.LEVEL + '.val');
     var val = (parseFloat(str) + 1) / 255;

     if (val == 1) {
     %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_100.png"/>
     <% } else if (val >= 0.9) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_90.png"/>
     <% } else if (val >= 0.8) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_80.png"/>
     <% } else if (val >= 0.7) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_70.png"/>
     <% } else if (val >= 0.6) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_60.png"/>
     <% } else if (val >= 0.5) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_50.png"/>
     <% } else if (val >= 0.4) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_40.png"/>
     <% } else if (val >= 0.3) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_30.png"/>
     <% } else if (val >= 0.2) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_20.png"/>
     <% } else if (val >= 0.1) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_10.png"/>
     <% } else if (val >= 0.01) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_00.png"/>
     <% } else { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim.png"/>
     <% } %>
     </div>
     <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left:20px;">

         <br/>
         <span id="<%= this.data.attr('wid') %>_radio"  data-oid="<%= hueIDs.STATE %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
         <input type="radio" id="<%= this.data.attr('wid') %>_radio_off" name="<%= this.data.attr('wid') %>_radio" value="false" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio_off"><%= _('off') %></label>
         <input type="radio" id="<%= this.data.attr('wid') %>_radio_on" name="<%= this.data.attr('wid') %>_radio" value="true"/><label for="<%= this.data.attr('wid') %>_radio_on"><%= _('on') %></label>
         </span>



         <br/><br/>
         Helligkeit
         <div class="sliderJQUI" style="width:90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= hueIDs.LEVEL %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:255,step:1}) %> />
         <br/>

         <br/>
         <div class="hue-mode-hue">
             <div class="sliderJQUI hue-slider-hue" style="width:90%" id="<%= this.data.attr('wid') %>_hue_hue_slider" data-oid="<%= hueIDs.HUE %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:'nothing_selected',step:1}) %> />
             <br/>
             Sättigung
             <div class="sliderJQUI hue-slider-sat" style="width:90%" id="<%= this.data.attr('wid') %>_hue_sat_slider" data-oid="<%= hueIDs.SAT %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:255,step:1}) %> />
         </div>

     </div>
     <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el,{width:440,height:320,modal:data.attr('modal')},true) %> />
     <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
     </div>
 </script>

 <script id="tplMfdHueDialog"
         type="text/ejs"
         class="vis-tpl"
         data-vis-set="jqui-mfd"
         data-vis-name="hue_ctrl - jqui Dialog HUE_EXTENDED_COLOR_LIGHT"
         data-vis-attrs="oid;title;noHeader/checkbox;autoclose/checkbox;modal/checkbox;invert_icon/checkbox"
         >
     <%
     var styles = '';
     if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
         styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
     }

     if (!localData.metaObjects[this.data.oid] || localData.metaObjects[this.data.oid].HssType != "HUE_EXTENDED_COLOR_LIGHT") {
         console.log("Widget "+this.data.attr('wid')+" error! ID has to be HUE_EXTENDED_COLOR_LIGHT Channel!");
     }

     if (localData.metaObjects[this.data.oid] && localData.metaObjects[this.data.oid].DPs) {
         var hueIDs = {
             STATE: localData.metaObjects[this.data.oid].DPs.STATE || 'nothing_selected',
             LEVEL: localData.metaObjects[this.data.oid].DPs.LEVEL || 'nothing_selected',
             COLORMODE: localData.metaObjects[this.data.oid].DPs.COLORMODE || 'nothing_selected',
             CT: localData.metaObjects[this.data.oid].DPs.CT || 'nothing_selected',
             SAT: localData.metaObjects[this.data.oid].DPs.SAT || 'nothing_selected',
             HUE: localData.metaObjects[this.data.oid].DPs.HUE || 'nothing_selected',
         };
     } else {
         var hueIDs = {
             STATE: 'nothing_selected',
             LEVEL: 'nothing_selected',
             COLORMODE: 'nothing_selected',
             CT: 'nothing_selected',
             SAT: 'nothing_selected',
             HUE: 'nothing_selected'
         };
     }
     %>
     <div data-oid="<%= hueIDs.STATE %>" class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%= this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" style="width:76px; height:76px; position:absolute" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
     <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body" style="width:100%; height:100%" <%= (el) -> vis.preloadImages(['widgets/jqui-mfd/img/light_light_dim_100.png','widgets/jqui-mfd/img/light_light_dim_90.png','widgets/jqui-mfd/img/light_light_dim_80.png','widgets/jqui-mfd/img/light_light_dim_70.png','widgets/jqui-mfd/img/light_light_dim_60.png','widgets/jqui-mfd/img/light_light_dim_50.png','widgets/jqui-mfd/img/light_light_dim_40.png','widgets/jqui-mfd/img/light_light_dim_30.png','widgets/jqui-mfd/img/light_light_dim_20.png','widgets/jqui-mfd/img/light_light_dim_10.png','widgets/jqui-mfd/img/light_light_dim.png']); %>>
     <%
     var str = vis.states.attr(hueIDs.LEVEL + '.val');
     var val = (parseFloat(str) + 1) / 255;

     if (val == 1) {
     %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_100.png"/>
     <% } else if (val >= 0.9) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_90.png"/>
     <% } else if (val >= 0.8) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_80.png"/>
     <% } else if (val >= 0.7) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_70.png"/>
     <% } else if (val >= 0.6) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_60.png"/>
     <% } else if (val >= 0.5) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_50.png"/>
     <% } else if (val >= 0.4) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_40.png"/>
     <% } else if (val >= 0.3) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_30.png"/>
     <% } else if (val >= 0.2) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_20.png"/>
     <% } else if (val >= 0.1) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_10.png"/>
     <% } else if (val >= 0.01) { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim_00.png"/>
     <% } else { %>
     <img style="<%= styles %>" width="100%" src="widgets/jqui-mfd/img/light_light_dim.png"/>
     <% } %>
     </div>
     <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%== this.data.title || this.data.attr('oid') %>" style="padding-left:20px;">

         <br/>
         <span id="<%= this.data.attr('wid') %>_radio"  data-oid="<%= hueIDs.STATE %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
             <input type="radio" id="<%= this.data.attr('wid') %>_radio_off" name="<%= this.data.attr('wid') %>_radio" value="false" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio_off"><%= _('off') %></label>
             <input type="radio" id="<%= this.data.attr('wid') %>_radio_on" name="<%= this.data.attr('wid') %>_radio" value="true"/><label for="<%= this.data.attr('wid') %>_radio_on"><%= _('on') %></label>
         </span>

         <span style="padding-left: 25px" id="<%= this.data.attr('wid') %>_radio_cm"  data-oid="<%= hueIDs.COLORMODE %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
             <input type="radio" id="<%= this.data.attr('wid') %>_radio_cm_ct" name="<%= this.data.attr('wid') %>_radio_cm" value="ct" checked="checked"/><label for="<%= this.data.attr('wid') %>_radio_cm_ct">weiß</label>
             <input type="radio" id="<%= this.data.attr('wid') %>_radio_cm_hs" name="<%= this.data.attr('wid') %>_radio_cm" value="hs"/><label for="<%= this.data.attr('wid') %>_radio_cm_hs">farbe</label>
         </span>

         <br/><br/>
         Helligkeit
         <div class="sliderJQUI" style="width:90%" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= hueIDs.LEVEL %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:255,step:1}) %> />
         <br/>

         <br/>
         <div class="hue-mode-ct">
             <div class="sliderJQUI hue-slider-ct" style="width:90%" id="<%= this.data.attr('wid') %>_hue_ct_slider" data-oid="<%= hueIDs.CT %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:153,max:500,step:1}) %> />
         </div>
         <div class="hue-mode-hue">
             <div class="sliderJQUI hue-slider-hue" style="width:90%" id="<%= this.data.attr('wid') %>_hue_hue_slider" data-oid="<%= hueIDs.HUE %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:'nothing_selected',step:1}) %> />
             <br/>
             Sättigung
             <div class="sliderJQUI hue-slider-sat" style="width:90%" id="<%= this.data.attr('wid') %>_hue_sat_slider" data-oid="<%= hueIDs.SAT %>" data-hm-wid="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:255,step:1}) %> />
         </div>

     </div>
     <div class="pupup-helper" <%= (el) -> vis.binds.jqueryui.hueColormode(el, hueIDs.COLORMODE) %> />
     <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el,{width:440,height:320,modal:data.attr('modal')},true) %> />
     <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
     </div>
 </script-->

<script id="tplMfdCamSnapshot" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="static,camera,dialog" data-vis-prev="&lt;div id=&quot;prev_tplMfdCamSnapshot&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle;height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-name="Cam/Snapshot - Dialog" data-vis-attrs="alt;text;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;url;interval[2000];title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }

    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
            <img id="<%= this.data.wid %>_img" alt="<%= this.data.text %>" style="width:<%= this.data.dialog_width %>px; height:<%= this.data.dialog_height %>px; border:none;" src="<%= this.data.url %>"/>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('url'), refreshInterval: data.attr('interval')}, this.view) %>></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplValMfdCamSnapshot" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val,camera,dialog" data-vis-prev="&lt;div id=&quot;prev_tplValMfdCamSnapshot&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle;height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-name="Cam/Snapshot - Dialog" data-vis-attrs="oid;alt;text;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;url;interval[2000];title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
           <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
            <img id="<%= this.data.wid %>_img" alt="<%= this.data.text %>" style="width:<%= this.data.dialog_width %>px; height:<%= this.data.dialog_height %>px; border:none;" src="<%= vis.states.attr(this.data.oid + '.val' )  %>"/>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: vis.states.attr(data.oid + '.val'), refreshInterval: data.attr('interval')}, this.view) %>></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, true, true) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdCamMjpg" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-prev="&lt;div id=&quot;prev_tplMfdCamMjpg&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle;height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-type="static,camera,dialog" data-vis-name="Cam/Video (img) - Dialog" data-vis-attrs="alt;text;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;url;title;noHeader/checkbox;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var html = '<img id="' + this.data.wid + '_img" alt="' + this.data.text + '" style="width:' + this.data.dialog_width + 'px; height:' + this.data.dialog_height + 'px; border:none;" src="' + this.data.url + '"/>';
    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
           <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div>
            <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
            </div>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('url'), refreshOnWakeUp: true}, this.view) %>>
            </div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, false, false, html) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplValMfdCamMjpg" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val,camera,dialog" data-vis-prev="&lt;div id=&quot;prev_tplValMfdCamMjpg&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle; height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-name="Cam/Video (img) - Dialog" data-vis-attrs="oid;alt;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;url;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var html = '<img id="' + this.data.wid + '_img" alt="' + this.data.text + '" style="width:' + this.data.dialog_width + 'px; height:' + this.data.dialog_height + 'px; border:none;" src="' + vis.states.attr(this.data.oid + '.val' ) + '"/>';
    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
           <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div>
            <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
            </div>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('url'), refreshOnWakeUp: true}, this.view) %>>
            </div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, false, false, html) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdCamVideo" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-prev="&lt;div id=&quot;prev_tplMfdCamVideo&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle;height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-type="static,camera,dialog" data-vis-name="Cam/Video (html5) - Dialog" data-vis-attrs="alt;text;asButton[true]/checkbox;iconColor/color;use_object/checkbox;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;src_url;poster_url;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var html = '<' + ((this.data.use_object === 'true' || this.data.use_object === true) ? 'object' : 'video') + ' id="' + this.data.wid + '_video" style="width:' + this.data.dialog_width + 'px; height:' + this.data.dialog_height + 'px; border:none;" src="' + this.data.src_url + '" poster="' + this.data.poster_url + '" autoplay="autoplay"></' + ((this.data.use_object === 'true' || this.data.use_object === true) ? 'object' : 'video') + '>';
    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
           <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, false, false, html) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplValMfdCamVideo" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-type="val,camera,dialog" data-vis-prev="&lt;div id=&quot;prev_tplValMfdCamVideo&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default ui-state-active&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle;height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-name="Cam/Video (html5) - Dialog" data-vis-attrs="oid;alt;asButton[true]/checkbox;iconColor/color;use_object/checkbox;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;poster_url;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var html = '<' + ((this.data.use_object === 'true' || this.data.use_object === true) ? 'object' : 'video') + ' id="' + this.data.wid + '_video" style="width:' + this.data.dialog_width + 'px; height:' + this.data.dialog_height + 'px; border:none;" src="' + vis.states.attr(this.data.oid + '.val' ) + '" poster="' + this.data.poster_url + '" autoplay="autoplay"></' + ((this.data.use_object === 'true' || this.data.use_object === true) ? 'object' : 'video') + '>';
    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
           <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, false, false, html) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplMfdCamVideoObject" type="text/ejs" class="vis-tpl" data-vis-set="jqui-mfd" data-vis-prev="&lt;div id=&quot;prev_tplMfdCamVideoObject&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;width: 70px; height: 70px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;widgets/jqui-mfd/img/it_camera.png&quot; style=&quot;filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1); vertical-align:middle;height: 100%; max-height: 80px&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-type="static,camera,dialog" data-vis-name="Cam/Video (Object) - Dialog" data-vis-attrs="alt;text;asButton[true]/checkbox;iconColor/color;" data-vis-attrs0="group.icon;icon/image;invert_icon/checkbox;icon_interval;" data-vis-attrs1="group.dialog;src_url;qtsrc_url;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width[640];dialog_height[480];dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit;type_application[video~quicktime]/auto,video~mpeg,video~mp4,video~ogg,video~quicktime,video~webm,video~x-ms-wmv,video~x-flv;plugin;autoplay[true]">
    <%
        var styles = '';
        if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
            styles = 'filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);';
        }
        var html = '<object id="' + this.data.wid + '_video" width="' + this.data.dialog_width + 'px" height="'+ this.data.dialog_height + 'px"><embed type="' +this.data.type_application +'"  width="' + this.data.dialog_width + 'px" height="'+ this.data.dialog_height + 'px" src="' + this.data.src_url + '" qtsrc="' + this.data.qtsrc_url + '" autoplay="'+ this.data.autoplay + '" enablejavasript="true" href="javaScript:void(0)" plugin="'+ this.data.plugin + '" ></object>';
    %>
    <div class="vis-widget <%= this.data.attr('asButton') ? ' ui-widget ui-button ui-corner-all ui-state-default' : '' %> <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> this.data.attr('asButton') ? vis.binds.jqueryui.classes(el) : '' %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
           <% if (this.data.attr('iconColor')) { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.svg' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds.jqueryui.setSvgColor(el, this.data.attr('iconColor')) %>/>
            <% } else { %>
                <img src="<%= this.data.attr('icon') ? this.data.attr('icon') : 'widgets/jqui-mfd/img/it_camera.png' %>" style="<%= styles %> vertical-align:middle;height:100%;" alt="<%== this.data.attr('alt') %>" <%= (el) -> vis.binds['jqui-mfd'].removeSvg(this.data.attr('wid')) %>/>
            <% } %>
            <div <%= (el) -> vis.binds.basic.imgRefresh(el, {src: data.attr('icon'), refreshInterval: data.attr('icon_interval')}, this.view) %>></div>
            <%= this.data.attr('text') %>
        </div>
        <div style="overflow-y: hidden !important;" id="<%= this.data.attr('wid') %>_dialog" class="<%= this.data.attr('wid') %>_dialog vis-widget-dialog" title="<%== this.data.attr('title') %>">
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, false, false, html) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<!-- --------------jqui-mfd.html--- END -->
<!-- --------------jqui.html--- START -->
<link rel="stylesheet" href="./vis_files/jquery-ui-timepicker-addon-1.6.3.css">
<script type="text/javascript" src="./vis_files/jquery-ui-timepicker-addon-1.6.3.js"></script>
<style>
    #ui-datepicker-div {
        z-index: 999 !important;
    }
</style>
<script type="text/javascript">
    'use strict';

    if (vis.editMode) {
        $.extend(systemDictionary, {
            "group_dialog":     {"en": 'Dialog',            "de": "Dialog",                 "ru": "Диалог"},
            "buttontext":       {"en": "Button text",       "de": "Knopftext",              "ru": "Надпись на кнопке"},
            "href":             {"en": "Link",              "de": "Link",                   "ru": "Ссылка"},
            "href_tooltip":     {"en": "Like 'http://google.com'", "de": "Wie 'http://google.com'", "ru": "Например 'http://google.com'"},
            "target":           {"en": "target",            "de": "target",                 "ru": "target"},
            "dialog_height":    {"en": "Dialog height",     "de": "Dialoghöhe",             "ru": "Высота окна"},
            "dialog_width":     {"en": "Dialog width",      "de": "Dialogbreite",           "ru": "Ширина окна"},
            "alt":              {"en": "Tooltip (alt)",     "de": "Tooltip (alt)",          "ru": "Всплывающая подсказка (alt)"},
            "text":             {"en": "Text",              "de": "Text",                   "ru": "Текст"},
            "invert_icon":      {"en": "Invert image",      "de": "Invertiere das Bild",    "ru": "Инвертировать картинку"},
            "html_dialog":      {"en": "HTML in dialog",    "de": "HTML im Dialog",         "ru": "HTML в диалоговом окне"},
            "preload":          {"en": "Prerender dialog",  "de": "Prerender Dialog",       "ru": "Рендер содержания в начале"},
            "closeOnClick":     {"en": "Close by click on dialog",  "de": "Anklicken zum Schliessen",       "ru": "Закрыть по нажатию в любом месте"},
            "preload_tooltip":  {
                "en": "If true, the content of dialog will be created at start of view.\x0AIf false, the content will be created during opening of dialog.\x0AWebcams or dynamic content require 'prerender'=false",
                "de": "Falls true, wird Inhalt vom Dialog sofort am Anfang gerendert.\x0AFalls false, erst beim Anzeigen vom Dialog.\x0AWebcams oder dynamischer Inhalt müssen prerender auf false haben",
                "ru": "Если да, то рендер содержания будет в самом начале.\x0AЕсли нет, то при показе диалога.\x0AWebCams или динамическое содержание требуют значение false."
            },
            "persistent":       {"en": "Persistent",        "de": "Dauernd",                "ru": "Существует постоянно"},
            "persistent_tooltip":  {
                "en": "If true, the dialog will be created at start and can\x0Abe shown by external command 'dialogOpen'.",
                "de": "Falls true, wird der Dialog sofort am Anfang erzeugtx0Aund kann mit dem Befehl 'dialogOpen' angezeigt werden.",
                "ru": "Если да, то диалог будет создан в самом начале и\x0Aможет быть вызван внешней командой 'dialogOpen'."
            },
            "src_true":         {"en": "Icon by ON",         "de": "Icon bei AN",           "ru": "Иконка при ВКЛ"},
            "alt_true":         {"en": "Tooltip by ON",      "de": "Tooltip bei AN",        "ru": "Подсказка при ВКЛ"},
            "src_false":        {"en": "Icon by OFF",        "de": "Icon bei AUS",          "ru": "Иконка при ВЫКЛ"},
            "alt_false":        {"en": "Tooltip by OFF",     "de": "Tooltip bei AUS",       "ru": "Подсказка при ВЫКЛ"},
            "timeOnly":         {"en": "Time only",          "de": "Nur Zeit",              "ru": "Только время"},
            "hideSeconds":      {"en": "Hide seconds",       "de": "Keine Sekunden",        "ru": "спрятать секунды"},
            "stepMinute":       {"en": "Step size minutes",  "de": "Schrittweite Minuten",  "ru": "размер шага минуты"},
            "showGrid":         {"en": "Show grid",          "de": "Zeige Raster",          "ru": "показать сетку"},
            "inverted":         {"en": "Inverted value",     "de": "Wert invertiert",       "ru": "Иневртировать значение"},
            "submitmethod":     {"en": "Submit method",      "de": "Sendemethode",          "ru": "Метод"},
            "click_id":         {"en": "Control ID",         "de": "Steuer-ID",             "ru": "Контроль-ID"},
            "click_value":      {"en": "Control value",      "de": "Steuerwert",            "ru": "Контроль-значение"},
            "false_text":       {"en": "Text inactive",      "de": "Inaktiv-Text",          "ru": "Неактивный текст"},
            "true_text":        {"en": "Text active",        "de": "Aktiv-Text",            "ru": "Активный текст"},
            "false_src":        {"en": "Icon inactive",      "de": "Inaktiv-Bild",          "ru": "Неактивная картинка"},
            "true_src":         {"en": "Icon active",        "de": "Aktiv-Bild",            "ru": "Активная картинка"},
            "false_alt":        {"en": "Tooltip inactive",   "de": "Inaktiv-Tooltip",       "ru": "Неактивная подсказка"},
            "true_alt":         {"en": "Tooltip active",     "de": "Aktiv-Tooltip",         "ru": "Активная подсказка"},
            "dialog_top":       {"en": "Top",                "de": "Position oben",         "ru": "Позиция сверху"},
            "dialog_left":      {"en": "Left",               "de": "Position links",        "ru": "Позиция слева"},
            "overflowX":        {"en": "Overflow X",         "de": "Overflow X",            "ru": "Overflow X"},
            "overflowY":        {"en": "Overflow Y",         "de": "Overflow Y",            "ru": "Overflow Y"},
            "noHeader":         {"en": "Hide header",        "de": "Kopfzeile verbergen",   "ru": "Скрыть заголовок"},
            "setId":            {"en": "Set Object ID",      "de": "Setze Objekt-ID",       "ru": "Записать в Объект с ID"},
            "setId_tooltip":    {
                "en": "By opening of dialog the Object ID\x0Awill be set with given value.",
                "de": "Beim Öffnen des Dialogs wird die Object ID\x0Amit dem eingegebenen Wert gesetzt.",
                "ru": "При открытии диалога в объект с этим ID будет записано значение"
            },
            "setValue":         {"en": "Set value",          "de": "Setze Wert",            "ru": "Записываемое значение"},
            "oid-2":            {"en": "OID Range max.",     "de": "OID Bereich max.",      "ru": "ID Объекта макс"},
            "oid-2-working":    {"en": "OID Working max.",   "de": "OID Working max.",      "ru": "ID working макс"},
            "asString":         {"en": "As string",          "de": "Als String",            "ru": "Строковое значение"},
            "values":           {"en": "Values",             "de": "Werte",                 "ru": "Значения"},
            "values_tooltip":   {
                "en": "Values divided by semicolon:\x0A0;1;2",
                "de": "Werte sind mit Semikolon getrennt:\x0A0;1;2",
                "ru": "Значения разделены точкой с запятой:\x0A0;1;2"
            },
            "texts":            {"en": "Texts",             "de": "Texte",                  "ru": "Тексты"},
            "height":           {"en": "Height",            "de": "Höhe",                   "ru": "Высота"},
            "no_style":         {"en": "No jQuery style",   "de": "Ohne jQuery Stil",       "ru": "Без стиля jQuery"},
            "Password":         {"en": "Password",          "de": "Kennwort",               "ru": "Пароль"},
            "imageHeight":      {"en": "Image height %",    "de": "Bildhöhe in %",          "ru": "Высота иконки в %"},
            "autoclose":        {"en": "Auto close (ms)",   "de": "Auto-Zu (ms)",           "ru": "Автозакрытие (мс)"},
            "modal":            {"en": "Modal",             "de": "Modal",                  "ru": "Модальное"},
            "texts_tooltip":   {
                "en": "Texts divided by semicolon:\x0AOn;Off;Auto",
                "de": "Texte sind mit Semikolon getrennt:\x0AAn;Aus;Auto",
                "ru": "Тексты разделены точкой с запятой:\x0AВкл;Выкл;Авто"
            }
        });
    }
    $.extend(systemDictionary, {
        "Password": {"en": "Password", "de": "Kennwort", "ru": "Пароль"}
    });

    vis.navChangeCallbacks.push(function (view) {
        $('.jqui-nav-state').each(function () {
            var $this = $(this);
            if ($this.attr('data-vis-nav') === view) {
                $this.removeClass('ui-state-default');
                $this.addClass('ui-state-active');
            } else {
                $this.addClass('ui-state-default');
                $this.removeClass('ui-state-active');
            }
        });
    });

    vis.binds.jqueryui = {
        navigationActive: function (el, nav_view) {
            var $this = $(el);
            if (window.location.hash.slice(1) === nav_view) {
                $this.removeClass('ui-state-default').addClass('ui-state-active');
            }
        },
        months: {
            "en": ['January', 'February', 'March', 'April',  'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
            "de": ['Januar',  'Februar',  'März',  'April',  'Mai', 'Juni', 'Juli', 'August', 'September', 'Oktober', 'November', 'Dezember'],
            "ru": ['Январь',  'Февраль',  'Март',  'Апрель', 'Май', 'Июнь', 'Июль', 'Август', 'Сентябрь',  'Октябрь', 'Ноябрь',   'Декабрь']
        },
        shortMonths: {
            "en": ['Jan', 'Feb', 'Mar',  'Apr', 'May', 'Jun',  'Jul',  'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            "de": ['Jan', 'Feb', 'Mär',  'Apr', 'Mai', 'Jun',  'Jul',  'Aug', 'Sep', 'Okt', 'Nov', 'Dez'],
            "ru": ['Янв', 'Фев', 'Март', 'Апр', 'Май', 'Июня', 'Июля', 'Авг', 'Сен', 'Окт', 'Ноя', 'Дек']
        },
        weekDays: {
            "en": ['Sunday',      'Monday',      'Tuesday',  'Wednesday', 'Thursday',   'Friday',  'Saturday'],
            "de": ['Sonntag',     'Montag',      'Dienstag', 'Mittwoch',  'Donnerstag', 'Freitag', 'Samstag'],
            "ru": ['Воскресение', 'Понедельник', 'Вторник',  'Среда',     'Четверг',    'Пятница', 'Суббота']
        },
        shortWeekDays: {
            "en": ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
            "de": ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
            "ru": ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб']
        },
        currentText: {
            "en": 'Now',
            "de": 'Jetzt',
            "ru": 'Сейчас'
        },
        closeText: {
            "en": 'Close',
            "de": 'Schließen',
            "ru": 'Закрыть'
        },
        timeText: {
            "en": 'Time',
            "de": 'Zeit',
            "ru": 'Время'
        },
        hourText: {
            "en": 'Hour',
            "de": 'Std',
            "ru": 'Час'
        },
        minuteText: {
            "en": 'Min',
            "de": 'Min',
            "ru": 'Мин'
        },
        secondText: {
            "en": 'Sec',
            "de": 'Sek',
            "ru": 'Сек'
        },
        timeOnlyTitle: {
            "en": 'Choose Time',
            "de": 'Zeit auswählen',
            "ru": 'Установите время'
        },
        activeHelper: function ($this, val, min, max, value, reverse) {
            if (val === true  || val === 'true')  val = max;
            if (val === false || val === 'false') val = min;

            if (max === undefined || max === '' || max === null) {
                max = 1;
                min = 0;
                val = (val === 'false' || val === false || val === 0 || val === '0' || val === '' || val === null || val === undefined) ? min : max;
            }

            if (reverse) {
                if (val == max) {
                    val = min;
                } else {
                    val = max;
                }
            }

            if (value === undefined && val > min && val !== true) {
                val = parseFloat(val) || 0;
            }

            if ((value === undefined && val > min) || (value !== undefined && val == value)) {
                $this.addClass('ui-state-active');
            } else {
                $this.removeClass('ui-state-active');
            }
        },
        active: function (el, reverse, _value) {
            var $this = $(el);
            var oid = $this.data('oid');
            var max = $this.data('max') || 1;
            var min = $this.data('min') || 0;

            function onChange(e, newVal) {
                vis.binds.jqueryui.activeHelper($this, newVal, min, max, _value, reverse);
            }

            if (oid) {
                // remember all ids, that bound
                $this.parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                vis.states.bind(oid + '.val', onChange);
                vis.binds.jqueryui.activeHelper($this, vis.states.attr(oid + '.val'), min, max, _value, reverse);
            }
        },
        classes: function (el, reverse, _value) {
            var $this = $(el);
            if (!$this.data('no-style')) {
                $this.hover(function () {
                    $this.addClass('ui-state-hover');
                }, function () {
                    $this.removeClass('ui-state-hover');
                });
            } else {
                $this.removeClass('ui-widget ui-corner-all ui-state-default');
            }

            $this.css({position: 'absolute'});
            vis.binds.jqueryui.active(el, reverse, _value);
        },
        dialog: function (el, options, persistent, preload, html, closeOnClick) {
            var $dlg = $(el).parent().find('div.vis-widget-dialog');
            $dlg.data('preload', (!preload || preload === 'false') && !$dlg.html().replace(/\s/g, ''));
            $('[aria-describedby="' + $dlg.attr('id') + '"]').remove();

            options.width     = options.width  || options.dialog_width;
            options.height    = options.height || options.dialog_height;
            options.top       = options.top    || options.dialog_top;
            options.left      = options.left   || options.dialog_left;
            options.minHeight = options.height;
            options.minWidth  = options.width;

            // Show dialog in edit mode too
            if (1 || !vis.editMode) {
                $(el).parent().find('div.vis-widget-body').on('click touchend', function (event) {
                    event.stopPropagation();
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if ($dlg.data('preload')) $dlg.html(html);

                    if (persistent) {
                        if (options.setId) {
                            vis.setValue(options.setId, options.setValue);
                        }
                        $dlg.dialog('open');
                        $dlg.parent().css('z-index', 998);
                        $dlg.parent().find('.ui-widget-header button .ui-button-text').html('');
                        if (options.minHeight)   $dlg.css('min-height', options.minHeight);
                        if (options.minWidth)    $dlg.css('min-width', options.minWidth);
                        if (options.top  || options.top  === 0 || options.top  === '0') $dlg.parent().css('top',  options.top);
                        if (options.left || options.left === 0 || options.left === '0') $dlg.parent().css('left', options.left);
                        if (options.overflowX) $dlg.css('overflow-x', options.overflowX);
                        if (options.overflowY) $dlg.css('overflow-y', options.overflowY);
                        if (options.noHeader) {
                            $dlg.parent().find('.ui-dialog-titlebar').css({background: 'rgba(0,0,0,0)', border: 0, color: 'rgba(0,0,0,0)'});
                            $dlg.parent().find('.ui-dialog-title').html('&nbsp;');
                        }
                        $dlg.parent().find('.ui-state-focus').blur();
                    } else {
                        $dlg.dialog($.extend({
                            autoOpen: true,
                            open: function () {
                                $(this).parent().find('.ui-widget-header button .ui-button-text').html('');
                                if (options.setId) vis.setValue(options.setId, options.setValue);
                                $(this).parent().css('z-index', 998);
                                if (options.minHeight)   $(this).css('min-height', options.minHeight);
                                if (options.minWidth)    $(this).css('min-width', options.minWidth);
                                if (options.top  || options.top  === 0 || options.top  === '0') $(this).parent().css('top',  options.top);
                                if (options.left || options.left === 0 || options.left === '0') $(this).parent().css('left', options.left);
                                if (options.overflowX) $(this).css('overflow-x', options.overflowX);
                                if (options.overflowY) $(this).css('overflow-y', options.overflowY);
                                if (options.noHeader) {
                                    $dlg.parent().find('.ui-dialog-titlebar').css({background: 'rgba(0,0,0,0)', border: 0, color: 'rgba(0,0,0,0)'});
                                    $dlg.parent().find('.ui-dialog-title').html('&nbsp;');
                                }
                                $(this).parent().find('.ui-state-focus').blur();
                                //touchscreen fix
                                var $closeButton = $(this).parent().find('button.ui-dialog-titlebar-close');
                                $closeButton.off('touchend').on('touchend', function (event) {
                                    event.stopPropagation();
                                    $dlg.dialog('close');
                                    return false;
                                });
                            },
                            close: function () {
                                if ($dlg.data('timer')) { clearTimeout($dlg.data('timer')); $dlg.data('timer', null)};
                                $dlg.dialog('destroy');
                                // Destroy content if not preloaded
                                if ($dlg.data('preload')) $dlg.html('');
                            }
                        }, options));

                        $dlg.data('inited', true);

                        if (closeOnClick) {
                            $dlg.off('click touchstart touchend').on('click touchend', function (event) {
                                event.stopPropagation();
                                $dlg.dialog('close');
                                return false;
                            });
                        }
                    }
                    return false;
                });
            }
            if (persistent) {
                $dlg.dialog($.extend({
                    autoOpen: false,
                    open: function () {
                        $dlg.parent().css({'z-index': 1000});
                        if ($dlg.data('preload')) $dlg.html(html);
                        //touchscreen fix
                        var $closeButton = $(this).parent().find('button.ui-dialog-titlebar-close');
                        $closeButton.off('touchend').on('touchend', function (event) {
                            event.stopPropagation();
                            $dlg.dialog('close');
                            return false;
                        });
                    },
                    close: function () {
                        if ($dlg.data('timer')) {
                            clearTimeout($dlg.data('timer'));
                            $dlg.data('timer', null);
                        }
                        // Destroy content if not preloaded
                        if ($dlg.data('preload')) $dlg.html('');
                    }
                }, options));

                $dlg.data('inited', true);

                if (closeOnClick) {
                    $dlg.off('click touchstart touchend').on('click touchend', function (event) {
                        event.stopPropagation();
                        $dlg.dialog('close');
                        return false;
                    });
                }
            }
        },
        dialogContainer: function (el, options, persistent, preload) {
            var $dlg = $(el).parent().find('div.vis-widget-dialog');

            var id = $(el).parent().attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$dlg.length) {
                setTimeout(function () {
                    vis.binds.jqueryui.dialogContainer(el, options, persistent, preload);
                }, 200);
                return;
            }

            options.width     = options.dialog_width;
            options.height    = options.dialog_height;
            options.top       = options.dialog_top;
            options.left      = options.dialog_left;
            options.minHeight = options.height;
            options.minWidth  = options.width;

            $dlg.dialog($.extend({
                autoOpen: false,
                open: function () {
                    $(this).parent().find('.ui-widget-header button .ui-button-text').html('');
                    $(this).parent().css('z-index', 998);
                    //touchscreen fix
                    $dlg.find('.vis-view-container').each(function () {
                        var cview = $(this).attr('data-vis-contains');
                        if (!vis.views[cview]) {
                            $(this).append('error: view not found.');
                            return false;
                        } else if (cview === vis.activeView) {
                            $(this).append('error: view container recursion.');
                            return false;
                        }
                        var $this = this;
                        vis.renderView(cview, cview, false, function (_view) {
                            $('#visview_' + _view)
                                    .appendTo($this)
                                    .show();
                        });
                    });

                    if (options.setId) vis.setValue(options.setId, options.setValue);
                    var $id =  $(this);
                    if (options.minHeight)   $id.css('min-height', options.minHeight);
                    if (options.minWidth)    $id.css('min-width',  options.minWidth);
                    if (options.top  || options.top  === 0 || options.top  === '0') $id.parent().css('top',  options.top);
                    if (options.left || options.left === 0 || options.left === '0') $id.parent().css('left', options.left);
                    if (options.overflowX) $id.css('overflow-x', options.overflowX);
                    if (options.overflowY) $id.css('overflow-y', options.overflowY);
                    if (options.noHeader) {
                        $id.parent().find('.ui-dialog-titlebar').css({background: 'rgba(0,0,0,0)', border: 0, color: 'rgba(0,0,0,0)'});
                        $id.parent().find('.ui-dialog-title').html('&nbsp;');
                    }
                    $id.parent().find('.ui-state-focus').blur();

                    var $closeButton = $(this).parent().find('button.ui-dialog-titlebar-close');
                    $closeButton.off('touchend').on('touchend', function (event) {
                        event.stopPropagation();
                        $dlg.dialog('close');
                        var $view = $dlg.find('.vis-view');
                        if (!$view.data('persistent')) {
                            vis.destroyView($view.data('view'), $view.data('view'));
                        }
                        return false;
                    });
                },
                close: function () {
                    if ($dlg.data('timer')) {
                        clearTimeout($dlg.data('timer'));
                        $dlg.data('timer', null);
                    }
                    vis.destroyUnusedViews();
                }
            }, options));

            if (persistent) $dlg.find('.vis-view-container').data('persistent', persistent);

            if (!vis.editMode) {
                $(el).parent().find('div.vis-widget-body').on('click touchend', function (event) {
                    event.stopPropagation();
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    var $id =  $('#' + $(this).parent().attr('id') + '_dialog');
                    $id.dialog('open');
                    return false;
                });
            } else {
                $(el).parent().find('div.vis-widget-body').show();
            }
        },
        dialogAutoClose: function (el, timeout) {
            if (timeout === true || timeout === 'true') timeout = 10000;
            if (timeout === null || timeout === undefined || timeout === '') return;
            timeout = parseInt(timeout, 10);
            if (timeout < 60) {
                // may be this is seconds
                timeout *= 1000;
            }
            if (!timeout) timeout = 1000;

            var $dialog = $('#' + $(el).parent().attr('id') + '_dialog');

            var id = $(el).parent().attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$dialog.length) {
                setTimeout(function () {
                    vis.binds.jqueryui.dialogAutoClose(el, timeout);
                }, 200);
                return;
            }

            $dialog.on('dialogopen', function () {
                $dialog.find('input').on('click', function () {
                    var timer = $dialog.data('timer');
                    if (timer) clearTimeout(timer);
                    $dialog.data('timer', setTimeout(function () {
                        $dialog.data('timer', null);
                        $dialog.dialog('close');
                    }, timeout));
                });
                $dialog.data('timer', setTimeout(function () {
                    $dialog.data('timer', null);
                    $dialog.dialog('close');
                }, timeout));
            });
        },
        dialogClose: function (el, options) {
            if (!$(el).data('no-style')) {
                setTimeout(function () {
                    $(el).button({
                        icons: {
                            primary: options.iconClass ? 'ui-icon-' + options.iconClass : null
                        }
                    });
                }, 0);
            }
            $(el).click(function () {
                if (options.dlgName) {
                    $('#' + options.dlgName + '_dialog').dialog('close');
                } else {
                    var $parent = $(this).parent().parent().parent();
                    var $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                    $parent = $parent.parent();
                    $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                    $parent = $parent.parent();
                    $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                    $parent = $parent.parent();
                    $dlg = $parent.find('.vis-widget-dialog');
                    if ($dlg.length) {
                        $dlg.dialog('close');
                        return;
                    }
                }
            });
        },
        input: function (el, options, asString) {
            var $this  = $(el);
            var oid    = $this.attr('data-oid');
            var digits = options;
            asString = asString === 'true' || asString === true;
            if (!$this.data('no-style')) {
                $this.button().addClass('ui-state-default');
            } else {
                $this.removeClass('ui-widget ui-corner-all ui-state-default');
            }
            $this.css({
                'font':       'inherit',
                //'color' :   'inherit',
                'text-align': 'left',
                'outline':    'none',
                'cursor':     'text',
                height:       '50%'
            }).change(function () {
                vis.setValue(oid, $(this).val());
            });

            function onChange(e, newVal) {
                if (!asString && digits && digits !== '') {
                    newVal = parseFloat(newVal).toFixed(digits);
                }

                $this.val(newVal);
            }
            var val = '';
            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                val = vis.states[oid + '.val'];
                if (!asString && digits && digits !== '') {
                    val = parseFloat(vis.states[oid + '.val']).toFixed(digits);
                }
            }
            $this.val(val);
        },
        inputDate: function (el, options) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            var datepickerOptions = $.extend(true, {
                dateFormat:      'yy-mm-dd',
                monthNamesShort: vis.binds.jqueryui.shortMonths[vis.language],
                monthNames:      vis.binds.jqueryui.months[vis.language],
                dayNamesMin:     vis.binds.jqueryui.shortWeekDays[vis.language],
                showAnim:        'fadeIn',
                firstDay: 1,
                currentText:     vis.binds.jqueryui.currentText[vis.language],
                closeText:       vis.binds.jqueryui.closeText[vis.language]

            }, options);

            $this.addClass('ui-widget ui-button ui-corner-all ui-state-default')
                    .css({
                        font:       'inherit',
                        //'color' :   'inherit',
                        'text-align': 'left',
                        outline:    'none',
                        cursor:     'text',
                        height:     '95%'
                    });

            if (!vis.editMode) $this.datepicker(datepickerOptions);

            function onChange(e, newVal) {
                $this.val(newVal);
            }

            if (oid) {
                $this.change(function () {
                    vis.setValue(oid, $(this).val());
                });

                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                $this.val(vis.states.attr(oid + '.val'));
            }
        },
        inputDatetime: function (el, options) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            var timeFormat = options.showSecond ? 'HH:mm:ss' : 'HH:mm';
            var hourGrid = options.showGrid ? 6 : 0;
            var minuteGrid = options.showGrid ? options.stepMinute : 0;
            if (minuteGrid < 10) {minuteGrid = 10;}
            var secondGrid = options.showGrid ? 15 : 0;
            var timepickerOptions = $.extend(true, {
                dateFormat:      'yy-mm-dd',
                monthNamesShort: vis.binds.jqueryui.shortMonths[vis.language],
                monthNames:      vis.binds.jqueryui.months[vis.language],
                dayNamesMin:     vis.binds.jqueryui.shortWeekDays[vis.language],
                showAnim:        'fadeIn',
                firstDay:        1,
                timeText:        vis.binds.jqueryui.timeText[vis.language],
                hourText:        vis.binds.jqueryui.hourText[vis.language],
                minuteText:      vis.binds.jqueryui.minuteText[vis.language],
                secondText:      vis.binds.jqueryui.secondText[vis.language],
                currentText:     vis.binds.jqueryui.currentText[vis.language],
                closeText:       vis.binds.jqueryui.closeText[vis.language],
                timeOnlyTitle:   vis.binds.jqueryui.timeOnlyTitle[vis.language],
                minuteGrid:      minuteGrid,
                hourGrid:        hourGrid,
                secondGrid:      secondGrid,
                timeOnly:        false,
                showSecond:      true,
                timeFormat:      timeFormat,
                pickerTimeFormat: timeFormat
            }, options);
            $this.addClass('ui-state-default')
                    .css({
                        font:       'inherit',
                        //color:    'inherit',
                        'text-align': 'left',
                        outline:    'none',
                        cursor:     'text',
                        height:     '95%'
                    });
            // Store options
            $this[0].__options = options;

            if (!vis.editMode) {
                $this.datetimepicker(timepickerOptions).button();
            } else {
                $this.addClass('ui-widget ui-button ui-corner-all');
            }


            function onChange(e, newVal) {
                $this.val(newVal);
            }

            if (oid) {
                $this.change(function () {
                    var $this = $(this);
                    var val = $this.val();
                    /*if ($this[0].__options && !$this[0].__options.showSecond) {
                     var vals = val.split(':');
                     if (vals.length === 3) {
                     val = vals[0] + ":" + vals[1];
                     }
                     }*/
                    vis.setValue(oid, val);
                });
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                $this.val(vis.states.attr(oid + '.val'));
            }
        },
        inputset: function (el, options, asString) {
            var digits    = options;
            var $this     = $(el);
            var input     = '#' + $this.attr('id').slice(0, -3) + 'input';
            var noJsStyle = $(el).data('no-style');
            var oid = $this.attr('data-oid');
            asString = asString === 'true' || asString === true;
            if (!noJsStyle) $this.button();

            $this.css({'padding-left': 5, 'padding-right': 5});

            if (!vis.editMode) {
                $this.on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    vis.setValue(oid, $(input).val());
                });

                // send text on enter
                setTimeout(function () {
                    $(input).keydown(function (e) {
                        if (e.keyCode === 13) vis.setValue(oid, $(this).val());
                    });
                }, 100);
            }

            if (!noJsStyle) $this.prev().button();

            $this.prev().addClass('ui-state-default')
                    .css({
                        font:            'inherit',
                        'padding-left':  5,
                        'padding-right': 5,
                        //'color' :   'inherit',
                        'text-align':   'left',
                        outline:        'none',
                        cursor:         'text',
                        height:         '95%'
                    });

            function onChange(e, newVal) {
                if (!asString && digits && digits !== '') {
                    newVal = parseFloat(newVal).toFixed(digits);
                }
                $(input).val(newVal);
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                var newVal = vis.states[oid + '.val'];
                if (!asString && digits && digits !== '') newVal = parseFloat(newVal).toFixed(digits);
                $(input).val(newVal);
            }
        },
        multiselect: function (el, options, isOpen) {
            var $this = $(el);
            var oid = $this.attr('data-oid');
            var noJsStyle = $this.attr('data-no-style');
            if (oid) $this.val(vis.states[oid + '.val']);

            if (noJsStyle !== true && noJsStyle !== 'true') {
                $this.multiselect($.extend({
                    minWidth:         $this.parent().parent().width() - 7,
                    multiple:         false,
                    header:           false,
                    noneSelectedText: false,
                    selectedList:     1
                }, options)).change(function () {
                    var val = $this.val();
                    if (parseFloat(val).toString() == val) val = parseFloat(val);
                    if (val === 'true')  val = true;
                    if (val === 'false') val = false;
                    if (!vis.editMode) vis.setValue(oid, val);
                });
            } else {
                $this.change(function () {
                    var val = $this.val();
                    if (parseFloat(val).toString() == val) val = parseFloat(val);
                    if (val === 'true') val = true;
                    if (val === 'false') val = false;
                    if (!vis.editMode) vis.setValue(oid, val);
                });
            }

            $this.val(vis.states[oid + '.val']);
            $this.prop('disabled', vis.editMode);
            if (noJsStyle !== true && noJsStyle !== 'true') {
                $this.multiselect('refresh');
            }
            var id =  $this.attr('id');

            function onChange(e, newVal) {
                var $select = $('#' + id);
                $select.val(newVal);
                if (noJsStyle !== true && noJsStyle !== 'true') {
                    $select.multiselect('refresh');
                }
            }

            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }

            if (vis.editMode) {
                if (noJsStyle !== true && noJsStyle !== 'true' && isOpen) {
                    $this.multiselect('open');
                }

                vis.bindWidgetClick($this.attr('data-view'), $this.attr('id').replace('_multiselect', ''));
                $this.parent().parent().resize(function () {
                    if (noJsStyle !== true && noJsStyle !== 'true') {
                        $('#' + id).multiselect('option', 'minWidth', $(this).width() - 7);
                    }
                }).data('destroy', function (id, $widget) {
                    $widget.off('resize');
                });
            }
        },
        slider: function (el, options) {
            var $this       = $(el);
            var oid         = $this.attr('data-oid');
            var oid2        = $this.attr('data-oid2');
            var oid_val     = 0;
            var oid2_val    = 0;
            var wid         = $this.attr('data-oid-working');
            var wid2        = $this.attr('data-oid2-working');

            var settings    = $.extend({
                range:  !!oid2,
                min:    0,
                max:    100,
                step:   1,
                value:  parseFloat(vis.states.attr(oid + '.val')),
                slide:  function (e, ui) {
                    if (options.submitmethod !== 'stop') {
                      // Slider -> Observable
                      if (oid2) {
                        if (options.inverted) {
                          ui.values[0] = (settings.max - ui.values[0]) + settings.min;
                          ui.values[1] = (settings.max - ui.values[1]) + settings.min;
                        }

                        oid && vis.setValue(oid, ui.values[0]); //.toFixed(6));
                        vis.setValue(oid2, ui.values[1]); //.toFixed(6));
                      } else if (oid) {
                        if (options.inverted) ui.value = (settings.max - ui.value) + settings.min;
                        vis.setValue(oid, ui.value); //.toFixed(6));
                      }
                    }

                },
                stop: function (e, ui) {
                  if (options.submitmethod === 'stop') {
                    if (oid2) {
                      if (options.inverted) {
                        ui.values[0] = (settings.max - ui.values[0]) + settings.min;
                        ui.values[1] = (settings.max - ui.values[1]) + settings.min;
                      }

                      oid && vis.setValue(oid, ui.values[0]); //.toFixed(6));
                      vis.setValue(oid2, ui.values[1]); //.toFixed(6));
                    } else if (oid) {
                      if (options.inverted) ui.value = (settings.max - ui.value) + settings.min;
                      vis.setValue(oid, ui.value); //.toFixed(6));
                    }
                  }
                }
            }, options);

            settings.inverted = (settings.inverted === 'true' || settings.inverted === true);

            if (isNaN(settings.value)) settings.value = 0;
            if (isNaN(settings.min))   settings.min = 0;
            if (isNaN(settings.max))   settings.max = 100;
            if (isNaN(settings.step))  settings.step = (settings.max - settings.min) / 100;

            settings.min = parseFloat(settings.min);
            settings.max = parseFloat(settings.max);
            settings.value = parseFloat(settings.value);

            if (settings.inverted) settings.value = (settings.max - settings.value) + settings.min;

            $this.slider(settings);

            function onChange(e, newVal) {
                // console.log('slider newVal=' + JSON.stringify(newVal));
                // If device not in working state
                if (e.type === oid + '.val') {
                    if (!vis.states.attr(wid + '.val')) {
                        if (settings.inverted) {
                            oid_val = (settings.max - parseFloat(newVal)) + settings.min;
                        } else {
                            oid_val = parseFloat(newVal);
                        }
                        if ($this.slider('instance')) {
                            if (oid2) {
                                $this.slider('values', [oid_val, oid2_val]);
                            } else {
                                $this.slider('value', oid_val);
                            }
                        }
                    }
                } else if (e.type === oid2 + '.val'){
                    // console.log('slider newVal=' + JSON.stringify(newVal));
                    // If device not in working state
                    if (!vis.states.attr(wid2 + '.val')) {
                        oid2_val = parseFloat(newVal);
                        if (settings.inverted) {
                            oid2_val = (settings.max - parseFloat(newVal)) + settings.min;
                        } else {
                            oid2_val = parseFloat(newVal);
                        }
                        if ($this.slider('instance')) {
                            $this.slider('values', [oid_val, oid2_val]);
                        }
                    }
                }
            }
            var bound = [];
            if (oid) {
                vis.states.bind(oid + '.val', onChange);
                bound.push(oid + '.val');
            }

            if (oid2) {
                vis.states.bind(oid2 + '.val', onChange);
                bound.push(oid2 + '.val');

                oid_val  = vis.states.attr(oid + '.val');
                oid2_val = vis.states.attr(oid2 + '.val');

                if (settings.inverted) {
                    oid_val  = (settings.max - oid_val)  + settings.min;
                    oid2_val = (settings.max - oid2_val) + settings.min;
                }
                $this.slider('values', [oid_val, oid2_val]);
            }

            if (bound.length) {
                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', bound)
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        button: function (el, value) {
            if ($(el).data('no-style')) return;

            setTimeout(function () {
                $(el).button();
            }, 0);
        },
        buttonDialog: function (el) {
            if ($(el).data('no-style')) return;
            setTimeout(function () {
                $(el).button();
            }, 0);
        },
        buttonLink: function (el, href) {
            if (!$(el).data('no-style')) {
                setTimeout(function () {
                    $(el).button();
                }, 0);
            }
            $(el).click(function () {
                if (!vis.editMode && href) window.location.href = href;
            });
        },
        buttonLinkBlank: function (el, href) {
            if (!$(el).data('no-style')) {
                setTimeout(function () {
                    $(el).button();
                }, 0);
            }
            $(el).click(function () {
                if (!vis.editMode && href) window.open(href);
            });
        },
        radio: function (el, options, process) {
            var $this    = $(el);
            var id = $this.parent().parent().attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!process) {
                setTimeout(function () {
                    vis.binds.jqueryui.radio(el, process, true);
                }, 50);
                return;
            }
            var settings = $.extend({}, options);
            var oid      = $this.attr('data-oid');

            function onChange(e, newVal) {
                $this.find('input').removeAttr('checked');
                if (newVal === true || newVal === 'true') {
                    newVal = 1;
                } else
                if (newVal === false || newVal === 'false') {
                    newVal = 0;
                }
                $this.find('input').prop('checked', false);
                $this.find('input[value="' + newVal + '"]').prop('checked', true);
                $this.find('input').each(function () {
                    if ($(this).button('instance')) $(this).button('refresh');
                });
            }

            // Observable -> Buttonset
            if (oid) {
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $this.parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);

                var val = vis.states.attr(oid + '.val');

                if (val === true  || val === 'true')  {
                    val = 1;
                }
                if (val === false || val === 'false') {
                    val = 0;
                }

                setTimeout(function () {
                    //console.log(val + ' ' + $this.find('input[value="' + val + '"]').length);
                    $this.find('input').prop('checked', false);
                    $this.find('input[value="' + val + '"]').prop('checked', true);
                    $this.buttonset(settings);

                    $this.find('input').each(function () {
                        if ($this.button('instance')) {
                            $(this).button('refresh');
                        }
                    });

                    if (!vis.editMode) {
                        // Buttonset -> Observable
                        $this.find('input').on('click touchstart', function () {
                            // Protect against two events
                            if (vis.detectBounce(this)) return;

                            var val = $(this).val();
                            var f = parseFloat(val);
                            if (f.toString() === val.toString()) {
                                vis.setValue(oid, f);
                            } else {
                                vis.setValue(oid, val);
                            }
                        });
                    }
                }, 50);
            }

        },
        iconHttpGet: function (el, url) {
            if (vis.editMode) return;

            var $this = $(el).parent();
            $this.on('click touchstart', function (e) {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                vis.conn.httpGet(url);
                e.preventDefault();
            });
        },
        hueColormode: function (el, oid) {
            var $hue = $(el).parent().find('.hue-mode-hue');
            var $ct  = $(el).parent().find('.hue-mode-ct');

            function onChange(e, newVal) {
                if (newVal === 'ct') {
                    $hue.hide();
                    $ct.show();
                } else {
                    $ct.hide();
                    $hue.show();
                }
            }

            if (oid) {
                if (vis.states.attr(oid + '.val') === 'ct') {
                    $hue.hide();
                    $ct.show();
                } else {
                    $ct.hide();
                    $hue.show();
                }
                vis.states.bind(oid + '.val', onChange);

                // remember all ids, that bound
                $(el).parent().parent()
                    .data('bound', [oid + '.val'])
                    // remember bind handler
                    .data('bindHandler', onChange);
            } else {
                $ct.hide();
                $hue.show();
            }
        },
        _disable: function () {
            $('.vis-view-container').find('.ui-slider').each(function () {
                if ($(this).slider('instance')) {
                    $(this).slider('disable').removeClass('ui-state-disabled');
                }
            });

            setTimeout(function () {
                $('.vis-view-container').find('select[id$="_multiselect"]').each(function () {
                    if ($(this).css('display') === 'none') {
                        $(this).multiselect('disable').next().removeClass('ui-state-disabled').unbind('click touchstart', false);
                    }
                });
            }, 200);

            setTimeout(function () {
                $('.vis-view-container').find('a[href]').each(function () {
                    $(this).on('click touchstart', function (e) {});
                });
            }, 200);
        },
        itoggle: function (el) {
            var $this = $(el).parent();
            var oid = $this.parent().attr('data-oid');
            if (oid) {
                oid += '.val';
            }
            var val = vis.states.attr(oid);
            var activeVal = $this.parent().data('val');
            if (activeVal === '' || activeVal === undefined) activeVal = null;

            if (activeVal !== null) {
                if (val === null || val === undefined) val = '';
                if (activeVal.toString() === val.toString()) {
                    $this.find('.imgToggleFalse').hide();
                    $this.find('.imgToggleTrue').show();
                }
            } else {
                if (val === 'false') val = false;
                if (val === 'true')  val = true;

                if (typeof val === 'string') {
                    var f = parseFloat(val);
                    if (f == val) {
                        val = f;
                    } else {
                        val = val !== '';
                    }
                }
                if (val > 0) {
                    $this.find('.imgToggleFalse').hide();
                    $this.find('.imgToggleTrue').show();
                }
            }

            function onChange (e, val) {
                if (activeVal !== null) {
                    if (activeVal.toString() === val.toString()) {
                        $this.find('.imgToggleFalse').hide();
                        $this.find('.imgToggleTrue').show();
                    } else {
                        $this.find('.imgToggleTrue').hide();
                        $this.find('.imgToggleFalse').show();
                    }
                } else {
                    if (val === true || val === 'true' || parseFloat(val) > 0) {
                        $this.find('.imgToggleFalse').hide();
                        $this.find('.imgToggleTrue').show();
                    } else {
                        $this.find('.imgToggleTrue').hide();
                        $this.find('.imgToggleFalse').show();
                    }
                }
            }
            if (oid) {
                vis.states.bind(oid, onChange);
                    // remember all ids, that bound
                $this.parent()
                    .data('bound', [oid])
                    // remember bind handler
                    .data('bindHandler', onChange);
            }
        },
        calcValue: function (value, min, max) {
            if (!min) min = 0;
            if (max === null || max === undefined || max === '') max = 100;
            min   = parseFloat(min);
            max   = parseFloat(max);
            value = parseFloat(value);
            return min + value * (max - min);
        },
        calcImage: function (val, min, max, invert) {
            max = (max !== undefined) ? max : 100;
            min = (min !== undefined) ? min : 0;

            val = parseFloat(val);
            if (invert) val = max - val + min;
            var image = '';
            if (val >= max) {
                image = 10;
            } else if (val >= min + (max - min) * 0.9) {
                image = 9;
            } else if (val >= min + (max - min) * 0.8) {
                image = 8;
            } else if (val >= min + (max - min) * 0.7) {
                image = 7;
            } else if (val >= min + (max - min) * 0.6) {
                image = 6;
            } else if (val >= min + (max - min) * 0.5) {
                image = 5;
            } else if (val >= min + (max - min) * 0.4) {
                image = 4;
            } else if (val >= min + (max - min) * 0.3) {
                image = 3;
            } else if (val >= min + (max - min) * 0.2) {
                image = 2;
            } else if (val >= min + (max - min) * 0.1) {
                image = 1;
            } else {
                image = 0;
            }
            return image;
        },
        setSvgColor: function (el, color) {
            setTimeout(function () {
                el.parent().find('svg').remove();
                var $that = el;
                var imgURL = $that.attr('src');
                $.get(imgURL, function (data) {
                    // Get the SVG tag, ignore the rest
                    var $svg = $(data).find('svg');

                    // Remove any invalid XML tags as per http://validator.w3.org
                    $svg = $svg.removeAttr('xmlns:a');
                    $svg = $svg.attr('width',  '100%');
                    $svg = $svg.attr('height', '100%');
                    $svg.find('*').each(function () {
                        var style = $(this).attr('style');
                        if (style) {
                            style = style.replace(/#FFFFFF/g, color);
                            $(this).attr('style', style);
                        }
                    });

                    // Replace image with new SVG
                    $that.replaceWith($svg);
                }, 'xml');
            }, 0);
        },
        navigationPw: function (el, data) {
            var $this = $(el);
            if (!$this.data('no-style')) {
                setTimeout(function () {
                    $($this).button();
                }, 100);
            }

            $($this).click(function () {
                $('body').append('<div id="NavPwDialog" style="text-align: center"><input  type="password"  id="inp_NavPw"><input style="width: 100px; margin-top: 20px" id="btn_navPwOk" value="' + _('Ok') + '"><input id="btn_navPwcancel" value="' + _('Cancel') + '" style="width: 100px; margin-top: 20px"></div>');

                $('#inp_NavPw').change(function () {
                    check_pw();
                });
                $('#btn_navPwOk').button().click(function () {
                    check_pw();
                });

                function check_pw() {
                    var $inputPass = $('#inp_NavPw');
                    if (data._data.Password === $inputPass.val()) {
                        $('#NavPwDialog').remove();
                        vis.changeView(data.attr('nav_view'), data.attr('nav_view'), {
                                    effect: data.attr('hide_effect'),
                                    options: {},
                                    duration: data.attr('hide_duration')
                                }, {
                                    effect: data.attr('show_effect'),
                                    options: {},
                                    duration: data.attr('show_duration')
                                },
                                data.attr('sync'));
                    } else {
                        $inputPass.val('');
                        var bg = $inputPass.data('bg');
                        if (!bg) {
                            bg = $inputPass.css('background-color');
                            $inputPass.data('bg', bg);
                        }
                        $inputPass.css('background-color', '#FF0000').animate({'background-color': bg}, 500);
                    }
                }

                $('#btn_navPwcancel').button().click(function () {
                    $('#NavPwDialog').remove();
                });

                $('#NavPwDialog').dialog({
                    title: _('Password'),
                    modal: true
                });
            })
        }
    };
</script>

<script id="tplJquiButtonLink" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiButtonLink&quot; style=&quot; position: relative; text-align: initial;&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-selected&quot; style=&quot;height: 30px&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;button&quot; value=&quot; Button &quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="static" data-vis-name="Button Link" data-vis-attrs="buttontext[Text];href;html_prepend/html;html_append/html;padding[5]/slider,0,100,1;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" >
            <%== this.data.attr('html_prepend') %>
            <button style="width: 100%; height: 100%" data-no-style="<%= this.data.attr('no_style') %>" data-vis-link="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.buttonLink(el, data.attr('href')); %> style="padding: <%= this.data.attr('padding') %>px"><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiButtonLinkBlank" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiButtonLinkBlank&quot; style=&quot; position: relative; text-align: initial;padding: 4px;height: 30px&quot;&gt;&lt;div  style=&quot;height: 30px&quot; class=&quot;vis-widget_prev ui-selectee ui-selected ui-draggable-handle&quot; data-vis-resizable=&quot;{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;e&quot;}&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;button&quot; value=&quot; Link &quot; data-vis-link=&quot;&quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="static" data-vis-name="Button Link _blank" data-vis-attrs="buttontext[Text];href;html_prepend/html;html_append/html;padding[5]/slider,0,100,1;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body" >
            <%== this.data.attr('html_prepend') %>
            <button style="width: 100%; height: 100%" data-no-style="<%= this.data.attr('no_style') %>" data-vis-link="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.buttonLinkBlank(el, data.attr('href')); %> style="padding: <%= this.data.attr('padding') %>px"><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplIconLink" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplIconLink&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 119px; height: 30px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;a class=&quot;widget-link&quot; href=&quot;&quot; target=&quot;&quot; style=&quot;white-space:no-wrap; text-decoration: none; text-align: left; width:100%;height:100%;&quot;&gt; &lt;img src=&quot;widgets/jqui/img/internet-web-browser-2.png&quot; style=&quot; vertical-align: middle; height: 100%;&quot; alt=&quot;&quot;&gt; Icon link &lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-type="static" data-vis-name="Icon link" data-vis-attrs="src/image;imageHeight/slider,0,200,1;href;target/auto,,_blank,_self,_parent,_top;alt;text;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 32px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div class="vis-widget-body">
            <a class="widget-link" href="<%== this.data.attr('href') %>" target="<%== this.data.attr('target') %>" style="white-space:no-wrap; text-decoration: none; text-align: left; width:100%; height:100%;">
                <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" />
                <%== this.data.attr('text') %>
            </a>
        </div>
    </div>
</script>

<script id="tplIconHttpGet" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplIconHttpGet&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 97px; height: 38px; &quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;a class=&quot;widget-link&quot; style=&quot;white-space:no-wrap; text-decoration:none;text-align:left;width:100%;height:100%;&quot;&gt;&lt;img style=&quot;vertical-align:middle;height:100%;&quot;&gt;URL GET&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-type="static" data-vis-name="Icon HTTP GET" data-vis-attrs="url;src/image;imageHeight/slider,0,200,1;alt;text">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
    styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 76px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
            <div <%= (el) -> vis.binds.jqueryui.iconHttpGet(el, data.attr('url')) %> />
        </div>
    </div>
</script>

<script id="tplJquiDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-type="static,dialog" data-vis-prev="&lt;img src=&quot;widgets/jqui/img/Prev_JquiDialog.png&quot;&gt;&lt;/img&gt;" data-vis-name="HTML - Dialog" data-vis-attrs="html/text;setId/id;setValue;" data-vis-attrs0="group.dialog;html_dialog/text;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;persistent/checkbox;preload/checkbox;closeOnClick/checkbox;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; border: 1px solid #000; background: #fff; cursor: pointer" id="<%= this.data.attr('wid') %>" data-no-style="<%= this.data.attr('no_style') %>" >
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <%== this.data.attr('preload') ? this.data.attr('html_dialog') : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, data.attr('persistent'), data.attr('preload'), data.attr('html_dialog'), data.attr('closeOnClick')) %> />
    </div>
</script>

<script id="tplJquiIconDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;img src=&quot;widgets/jqui/img/Prev_JquiIconDialog.png&quot;&gt;&lt;/img&gt;" data-vis-type="static,dialog" data-vis-name="Icon - Dialog" data-vis-attrs="src/image;imageHeight/slider,0,200,1;alt;text;invert_icon/checkbox;setId/id;setValue;" data-vis-attrs0="group.dialog;html_dialog/text;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;persistent/checkbox;preload/checkbox;closeOnClick/checkbox;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 76px; cursor: pointer" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <%== this.data.attr('preload') ? this.data.attr('html_dialog') : '' %>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialog(el, data, data.attr('persistent'), data.attr('preload'), data.attr('html_dialog'), data.attr('closeOnClick')) %> />
    </div>
</script>

<script id="tplContainerDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;img src=&quot;widgets/jqui/img/Prev_ContainerDialog.png&quot;&gt;&lt;/img&gt;" data-vis-type="container,dialog" data-vis-name="container - HTML - view in jqui Dialog" data-vis-attrs="html/text;contains_view/views;setId/id;setValue;" data-vis-attrs0="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 200px; height: 130px; border: 1px solid #000; background: #fff; cursor: pointer" id="<%= this.data.attr('wid') %>">
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <%== this.data.attr('html') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display: none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplContainerDialogExternal" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-type="container,dialog" data-vis-prev="&lt;img src=&quot;widgets/jqui/img/Prev_ContainerDialogExternal.png&quot;&gt;&lt;/img&gt;" data-vis-name="container - ext cmd - view in jqui Dialog" data-vis-attrs="html/text;contains_view/views;setId/id;setValue;" data-vis-attrs0="group.dialog;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 194px; height: 68px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="display:none; width: 190px; height: 64px; background-color: #333; color: #eee; cursor: pointer; border: 2px dashed red; opacity:0.8;">
            <b>External Container Dialog</b><br/>
            view: <%= this.data.attr('contains_view') %><br/>
            id: <%= this.data.attr('wid') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display:none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container">
            </div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplContainerIconDialog" type="text/ejs" class="vis-tpl" data-vis-type="container,dialog" data-vis-set="jqui" data-vis-prev="&lt;img src=&quot;widgets/jqui/img/Prev_ContainerIconDialog.png&quot;&gt;&lt;/img&gt;" data-vis-name="container - Icon - view in jqui Dialog" data-vis-attrs="src/image;imageHeight/slider,0,200,1;alt;text;setId/id;setValue;" data-vis-attrs0="group.dialog;contains_view/views;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;invert_icon/checkbox;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>

    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 76px; height: 76px; cursor: pointer" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.jqueryui.classes(el) %>>
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display:none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplContainerButtonDialog" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-type="container,dialog" data-vis-prev="&lt;img src=&quot;widgets/jqui/img/Prev_ContainerButtonDialog.png&quot;&gt;&lt;/img&gt;" data-vis-name="container - Button - view in jqui Dialog" data-vis-attrs="html_prepend/text;html_append/text;buttontext[Text];setId/id;setValue;no_style/checkbox;" data-vis-attrs0="group.dialog;contains_view/views;title;noHeader/checkbox;autoclose/slider,0,30000,100;modal/checkbox;dialog_width;dialog_height;padding[5]/slider,0,100,1;dialog_top;dialog_left;overflowX/nselect,,visible,hidden,scroll,auto,initial,inherit;overflowY/nselect,,visible,hidden,scroll,auto,initial,inherit">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div id="<%= this.data.attr('wid') %>_body" class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <button id="<%= this.data.attr('wid') %>_button" name="<%= this.data.attr('wid') %>_button" data-no-style="<%= this.data.attr('no_style') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.buttonDialog(el); %> style="padding: <%= this.data.attr('padding') %>px"><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
        <div id="<%= this.data.attr('wid') %>_dialog" style="display:none" class="vis-widget-dialog" title="<%= this.data.attr('title') %>">
            <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
        </div>
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogContainer(el, data) %> />
        <div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>

<script id="tplJquiButtonDialogClose" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiButtonDialogClose&quot; style=&quot; position: relative; text-align: initial;padding: 4px;height: 30px&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-draggable-handle &quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;button&quot; value=&quot; Dialog close &quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;/div&gt; " data-vis-set="jqui" data-vis-type="dialog" data-vis-name="Button dialog close" data-vis-attrs="html_prepend/text;html_append/text;buttontext[Close];iconClass[close];dlgName;hide_effect;hide_duration;show_effect;show_duration;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <button style="width:100%; height:100%" data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.dialogClose(el, {hideOptions: {effect: data.attr('hide_effect'), options:{}, duration: data.attr('hide_duration')}, iconClass: data.attr('iconClass'), dlgName: data.attr('dlgName')}) %>><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiButtonNav" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiButtonNav&quot; style=&quot; position: relative; text-align: initial;padding: 4px;height: 30px&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-draggable-handle &quot; style=&quot;left: 167px; top: 129px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;button&quot; value=&quot; Nav Button &quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;/div&gt; " data-vis-set="jqui" data-vis-type="navigation" data-vis-name="Button" data-vis-attrs="html_prepend/text;html_append/text;buttontext[Text];nav_view;hide_effect;hide_duration;show_effect;show_duration;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <%== this.data.attr('html_prepend') %>
            <button style="width: 100%; height: 100%" data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.button(el); vis.binds.jqueryui.navigationActive(el, data.attr('nav_view')); vis.binds.basic.navigation(el, {nav_view:data.attr('nav_view'),hideOptions:{effect:data.attr('hide_effect'),options:{},duration:data.attr('hide_duration')},showOptions:{effect:data.attr('show_effect'),options:{},duration:data.attr('show_duration')}}) %> ><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiIconNav" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplJquiIconNav&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div data-vis-nav=&quot;&quot; class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state &quot; style=&quot;width: 100px; height: 28px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;/vis/widgets/jqui/img/internet-web-browser-2.png&quot; style=&quot;vertical-align:middle;height:100%;&quot;&gt; Nav&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-name="navigation - Icon" data-vis-attrs="src/image;imageHeight/slider,0,200,1;alt;text;nav_view;hide_effect;hide_duration;show_effect;show_duration">
    <div
        data-vis-nav="<%= this.data.attr('nav_view') %>"
        class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state <%== this.data.attr('class') %>"
        style="width: 76px; height: 76px;"
        id="<%= this.data.attr('wid') %>"
        <%= (el) -> vis.binds.jqueryui.classes(el); vis.binds.jqueryui.navigationActive(el, data.attr('nav_view')); vis.binds.basic.navigation(el, {nav_view: data.attr('nav_view'), hideOptions: {effect: data.attr('hide_effect'), options: {}, duration: data.attr('hide_duration')}, showOptions: {effect: data.attr('show_effect'), options: {}, duration: data.attr('show_duration')}}) %>
    >
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
    </div>
</script>

<script id="tplJquiNavPw" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplJquiNavPw&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot; class=&quot;wid_prev_content&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-draggable-handle &quot; style=&quot;top: 445px; left: 314px; width: 116px; height: 35px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;text-align: center&quot;&gt; &lt;label style=&quot; display: none;&quot;&gt;Input&lt;/label&gt;&lt;input type=&quot;text&quot; value=&quot;Nav button Pw&quot; size=&quot;10&quot; data-o=&quot;&quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot; style=&quot;height: 20px;font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; text-align: left; outline: none; cursor: text;&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="navigation - Pw" data-vis-attrs="buttontext[Text];Password;nav_view;hide_effect;hide_duration;show_effect;show_duration;sync/checkbox;no_style/checkbox">
       <div class="vis-widget <%== this.data.attr('class') %>" style="width:76px;height:30px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <button style="width:100%; height:100%" data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.navigationPw(el, data)%> ><%== this.data.attr('buttontext') %></button>
        </div>
    </div>
</script>

<script id="tplJquiInput" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiInput&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-draggable-handle &quot; style=&quot;top: 445px; left: 314px; width: 116px; height: 30px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;text-align: center&quot;&gt; &lt;label style=&quot; display: none;&quot;&gt;Input&lt;/label&gt;&lt;input type=&quot;text&quot; value=&quot; Input&quot; size=&quot;10&quot; data-o class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot; style=&quot;font-family: inherit; font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; line-height: inherit; text-align: left; outline: none; cursor: text;&quot;&gt; &lt;/div&gt; " data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Input" data-vis-attrs="label[Input];oid;asString/checkbox;digits[0]/slider,0,10,1;size[10]/slider,10,100,1;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:275px;height:44px;" id="<%= this.data.attr('wid') %>" data-no-style="<%= this.data.attr('no_style') %>" >
        <div class="vis-widget-body">
            <label for="<%= this.data.attr('wid') %>_input"><%= ((this.data.attr('label') === undefined || this.data.attr('label') === null) ? '' : this.data.attr('label')) %></label>
            <input
                type="text"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                value=""
                size="<%= this.data.attr('size') %>"
                data-oid="<%= this.data.attr('oid') %>"
                <%= (el) -> vis.binds.jqueryui.input(el, data.digits, data.asString); %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? ' autofocus ' : '' %>
            />
        </div>
    </div>
</script>

<script id="tplJquiBool" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-type="ctrl" data-vis-prev="&lt;div id=&quot;prev_tplJquiBool&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;ui-widget ui-corner-all ui-state-default vis-widget_prev &quot; style=&quot;width: 79px; height: 25px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;text-align: center;padding-top: 5px;&quot;&gt; true/false&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="Html Bool" data-vis-attrs="oid;html_true;html_false">

    <div class="ui-widget ui-corner-all ui-state-default vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px" id="<%= this.data.attr('wid') %>"  data-no-style="<%= this.data.attr('no_style') %>"  data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.toggle(el); vis.binds.jqueryui.classes(el) %>>
        <div class="vis-widget-body">
            <div>
                <% if (vis.binds.basic.isFalse(vis.states.attr(this.data.oid + '.val'))) { %>
                    <%== this.data.attr('html_false') %>
                <% } else { %>
                    <%== this.data.attr('html_true') %>
                <% } %>
            </div>
        </div>
    </div>
</script>

<script id="tplJquiToogle" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiToogle&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;ui-widget ui-corner-all ui-state-default vis-widget_prev&quot; style=&quot;width: 90px; height: 19px; padding: 10px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt;&lt;label&gt; Toggle &lt;/label&gt;&lt;img class=&quot;imgToggleFalse&quot; src=&quot;/vis/icon/add.png&quot; style=&quot; vertical-align:middle; height:100%&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl,state" data-vis-name="Icon Toggle" data-vis-attrs="label;oid;src_true/image;imageHeight/slider,0,200,1;alt_true;src_false/image;alt_false;invert_icon/checkbox">

    <div class="ui-widget ui-corner-all ui-state-default vis-widget <%== this.data.attr('class') %>" style="width:76px; height:76px" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.toggle(el); vis.binds.jqueryui.classes(el) %> >
        <div class="vis-widget-body">
            <%
            var styles = '';
            if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
                styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
            }
            %>
            <label style="margin: 0" for="<%= this.data.attr('wid') %>_input"><%== this.data.attr('label') %></label>
            <img class="imgToggleFalse" <%= this.data.attr('src_false') ? 'src="' +  this.data.attr('src_false') + '"' : '' %> style="<%= styles %> vertical-align: middle; height:<%= this.data.attr('imageHeight') || 100 %>%"               alt="<%== this.data.attr('alt_false') %>" />
            <img class="imgToggleTrue"  <%= this.data.attr('src_true')  ? 'src="' +  this.data.attr('src_true')  + '"' : '' %> style="<%= styles %> vertical-align: middle; height:<%= this.data.attr('imageHeight') || 100 %>%; display:none" alt="<%== this.data.attr('alt_true')  %>" />
            <div <%= (el) -> vis.binds.jqueryui.itoggle(el) %>></div>
        </div>
    </div>
</script>

<script id="tplJquiInputDate" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplJquiInputDate&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 110px; height: 25px; overflow: visible; &quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;text&quot; value=&quot;2015-09-20&quot; size=&quot;10&quot; class=&quot;ui-widget ui-button ui-corner-all ui-state-default&quot; style=&quot;font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; text-align: left; outline: none; cursor: text;text-align:center;&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="ctrl - Input Date" data-vis-attrs="oid/id;size[10]/slider,1,50,1;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:200px;height:40px;overflow: visible;text-align:center;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
			<div class="editmode-helper" />
		<% } %>
        <div class="vis-widget-body">
            <input
                type="text"
                style="text-align: center; padding-left: 5px"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                value=""
                size="<%= this.data.attr('size') %>"
                data-oid="<%= this.data.attr('oid') %>"
                <%= (el) -> vis.binds.jqueryui.inputDate(el); %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
            />
        </div>
    </div>
</script>

<script id="tplJquiInputDatetime" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplJquiInputDatetime&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 110px; height: 39px; overflow: visible; text-align: center;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;text&quot; style=&quot;text-align: left; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; outline: none; cursor: text; &quot; value=&quot;18:00:00&quot; size=&quot;5&quot; class=&quot;ui-state-default ui-widget ui-button ui-corner-all&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="ctrl - Input Datetime" data-vis-attrs="oid;size/slider,1,50,1;timeOnly/checkbox;hideSeconds/checkbox;stepMinute/slider,1,30,1;showGrid/checkbox;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:200px;height:40px;overflow: visible;text-align:center;" id="<%= this.data.attr('wid') %>">
        <% if (vis.editMode) { %>
			<div class="editmode-helper" />
		<% } %>
        <div class="vis-widget-body">
            <input
                type="text"
                style="text-align: center; padding-left: 5px"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                value=""
                size="<%= this.data.attr('size') %>"
                data-oid="<%= this.data.attr('oid') %>"
                <%= (el) -> vis.binds.jqueryui.inputDatetime(el, {timeOnly: data.attr('timeOnly'), showSecond: !data.attr('hideSeconds'), stepMinute: data.attr('stepMinute'), showGrid: data.attr('showGrid')}); %>
			    <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
            />
        </div>
    </div>
</script>

<script id="tplJquiInputSet" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplJquiInputSet&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 90px; height: 32px; overflow: visible;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;label&gt;&lt;/label&gt; &lt;input type=&quot;text&quot; value=&quot;Input&quot; size=&quot;2&quot; style=&quot;font-size: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; line-height: inherit; font-family: inherit; padding-left: 5px; padding-right: 5px; text-align: left; outline: none; cursor: text;height:14px&quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;input type=&quot;button&quot; style=&quot;padding-left: 5px; padding-right: 5px;&quot; value=&quot;Set&quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="ctrl - Input + Set-Button" data-vis-attrs="title;buttontext[Text];oid;unit;asString/checkbox;digits/slider,0,10,1;size/slider,1,50,1;" data-vis-attrs0="autoFocus/checkbox;">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:300px;height:44px;overflow:visible" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <label for="<%= this.data.attr('wid') %>_input"><%== this.data.attr('title') %></label>
            <input
                type="text"
                name="<%= this.data.attr('wid') %>_input"
                id="<%= this.data.attr('wid') %>_input"
                data-no-style="<%= this.data.attr('no_style') %>"
                size="<%= this.data.attr('size') %>"
                style="font-size: 1.1em !important; padding: 0 0"
                <%= this.data.attr('autoFocus') === true || this.data.attr('autoFocus') === 'true' ? 'autofocus' : '' %>
            />
            <%== this.data.attr('unit') %>
            <input type="button" style="height: 100%" data-oid="<%= this.data.attr('oid') %>" name="<%= this.data.attr('wid') %>_set" id="<%= this.data.attr('wid') %>_set" value="<%== this.data.attr('buttontext') %>"  data-no-style="<%= this.data.attr('no_style') %>" <%= (el) -> vis.binds.jqueryui.inputset(el, data.digits, data.asString); %>/>
        </div>
    </div>
</script>

<script id="tplJquiButtonState" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiButtonState&quot; style=&quot; position: relative; text-align: initial;padding: 4px; height: 30px &quot;&gt;&lt;div style=&quot;left: 384px; top: 470px;&quot; class=&quot;vis-widget_prev ui-selectee ui-draggable-handle&quot; data-vis-resizable=&quot;{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;e&quot;}&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;input type=&quot;button&quot; value=&quot; Button &quot; data-o data-val=&quot;&quot; class=&quot;ui-button ui-widget ui-state-default ui-corner-all&quot; role=&quot;button&quot;&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Button State" data-vis-attrs="oid;html_prepend/html;html_append/html;buttontext[Text];value;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" >
            <%== this.data.attr('html_prepend') %>
            <button style="width:100%; height:100%" data-oid="<%= this.data.attr('oid') %>"  data-no-style="<%= this.data.attr('no_style') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.jqueryui.button(el, data.value); vis.binds.basic.state(el); %>><%== this.data.attr('buttontext') %></button>
            <%== this.data.attr('html_append') %>
        </div>
    </div>
</script>

<script id="tplJquiRadio" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiRadio&quot; style=&quot; position: relative; text-align: initial;padding: 4px;height: 30px&quot;&gt;&lt;div style=&quot;top: 243px; left: 348px; font-size: 9px;&quot; class=&quot;vis-widget_prev ui-selectee ui-selected ui-draggable-handle&quot; data-vis-resizable=&quot;{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;div data-o class=&quot;ui-buttonset&quot;&gt; &lt;input type=&quot;radio&quot; value=&quot;0&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;OFF&lt;/span&gt;&lt;/label&gt; &lt;input type=&quot;radio&quot; value=&quot;1&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right ui-state-active&quot; role=&quot;button&quot; aria-pressed=&quot;true&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;ON&lt;/span&gt;&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Radiobuttons on/off" data-vis-attrs="off_text[OFF];on_text[ON];oid;padding[5]/slider,0,100,1">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true, "handles":""}' >
        <div class="vis-widget-body" >
            <div id="<%= this.data.attr('wid') %>_radio" data-oid="<%= this.data.attr('oid') %>" style="display: flex" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="0" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio0" style="padding: <%= this.data.attr('padding') %>px"><%= this.data.off_text %></label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="1"/><label for="<%= this.data.attr('wid') %>_radio1" style="padding: <%= this.data.attr('padding') %>px"><%= this.data.on_text %></label>
            </div>
        </div>
    </div>
</script>

<script id="tplJquiRadioList" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiRadioList&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div style=&quot;font-size: 8px;overflow:visible;height:20px&quot; class=&quot;vis-widget_prev ui-selectee ui-selected ui-draggable-handle&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;div data-o class=&quot;ui-buttonset&quot;&gt; &lt;input type=&quot;radio&quot; value=&quot;0&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;OFF&lt;/span&gt;&lt;/label&gt; &lt;input type=&quot;radio&quot; value=&quot;1&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;AUTO&lt;/span&gt;&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Radiobuttons ValueList" data-vis-attrs="oid;values[0§1§2];texts[OFF§ON§AUTO]">
    <div style=" width:250px; height:41px;overflow: visible" class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true, "handles":""}' >
        <div class="vis-widget-body" >
            <table id="<%= this.data.attr('wid') %>_radio" data-oid="<%= this.data.attr('oid') %>" style="display: flex" <%= (el) -> setTimeout(function () {vis.binds.jqueryui.radio(el)}, 100) %> class="vis-no-spaces"><tr class="vis-no-spaces">
                <%
                var values = (data.attr('values') ? data.attr('values').split(';') : []);
                var texts  = (data.attr('texts') ? data.attr('texts').split(';'): []);
                var wid = data.attr('wid');
                for (var val in values) {
                %>
                    <td class="vis-no-spaces"><input type="radio" id="<%= wid %>_radio<%= val %>" name="<%= wid %>_radio" value="<%== values[val] %>" /><label style="float: left" for="<%= wid %>_radio<%= val %>"><%= texts[val] %></label></td>
                <%
                }
                %>
            </tr></table>
        </div>
    </div>
</script>

<script id="tplJquiSelectList" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiSelectList&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-draggable-handle&quot; data-vis-resizable=&quot;{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}&quot; style=&quot;left: 336px; top: 323px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;select data-o disabled=&quot;&quot; style=&quot;display: none;&quot;&gt; &lt;option value=&quot;0&quot;&gt;OFF&lt;/option&gt; &lt;option value=&quot;1&quot;&gt;ON&lt;/option&gt; &lt;option value=&quot;2&quot;&gt;AUTO&lt;/option&gt; &lt;/select&gt;&lt;button type=&quot;button&quot; class=&quot;ui-multiselect ui-widget ui-state-default ui-corner-all&quot; aria-haspopup=&quot;true&quot; style=&quot;width: 86px;&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-triangle-2-n-s&quot;&gt;&lt;/span&gt;&lt;span&gt;OFF&lt;/span&gt;&lt;/button&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Select ValueList" data-vis-attrs="oid;values[0§1§2]/text;texts[OFF§ON§AUTO]/text;height[100]/slider,15,500,1;open/checkbox;no_style/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" >
        <div class="vis-widget-body" >
            <select id="<%= this.data.attr('wid') %>_multiselect" data-no-style="<%= this.data.attr('no_style') %>" data-oid="<%= this.data.attr('oid') %>" data-view="<%= this.view %>" <%= (el) -> setTimeout(function (el_) { vis.binds.jqueryui.multiselect(el_, {height: (data.height || 220)}, data.open)}, 250, el); %> >
            <%
				var values = (data.attr('values') ? data.attr('values').split(';') : []);
				var texts  = (data.attr('texts')  ? data.attr('texts').split(';')  : []);
				for (var val in values) {
					%>
					<option value="<%= values[val] %>"><%= texts[val] %></option>
					<%
				}
            %>
            </select >
        </div>
    </div>
</script>

<script id="tplJquiRadioSteps" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiRadioSteps&quot; style=&quot;zoom: 0.99; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee ui-draggable-handle&quot; data-vis-resizable=&quot;{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;e&quot;}&quot; style=&quot;left: 85px; top: 258px; font-size: 5px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;div data-o class=&quot;ui-buttonset&quot;&gt; &lt;input type=&quot;radio&quot; value=&quot;0&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;aus&lt;/span&gt;&lt;/label&gt; &lt;input type=&quot;radio&quot; value=&quot;0.25&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;25%&lt;/span&gt;&lt;/label&gt; &lt;input type=&quot;radio&quot; value=&quot;0.5&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;50%&lt;/span&gt;&lt;/label&gt; &lt;input type=&quot;radio&quot; value=&quot;0.75&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-state-active&quot; role=&quot;button&quot; aria-pressed=&quot;true&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;75%&lt;/span&gt;&lt;/label&gt; &lt;input type=&quot;radio&quot; value=&quot;1&quot; class=&quot;ui-helper-hidden-accessible&quot;&gt;&lt;label class=&quot;ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right&quot; role=&quot;button&quot; aria-pressed=&quot;false&quot;&gt;&lt;span class=&quot;ui-button-text&quot;&gt;100%&lt;/span&gt;&lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Radiobuttons 25%" data-vis-attrs="oid;min;max">
    <div class="vis-widget <%== this.data.attr('class') %>" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled": true, "handles": "e"}' >
        <div class="vis-widget-body" >
            <div id="<%= this.data.attr('wid') %>_radio"  data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.jqueryui.radio(el); %> >
                <input type="radio" id="<%= this.data.attr('wid') %>_radio0" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0,    this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio0">aus</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio1" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0.25, this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio1">25%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio2" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0.5,  this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio2">50%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio3" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(0.75, this.data.attr('min'), this.data.attr('max')) %>" checked='checked'/><label for="<%= this.data.attr('wid') %>_radio3">75%</label>
                <input type="radio" id="<%= this.data.attr('wid') %>_radio4" name="<%= this.data.attr('wid') %>_radio" value="<%= vis.binds.jqueryui.calcValue(1,    this.data.attr('min'), this.data.attr('max')) %>"/><label for="<%= this.data.attr('wid') %>_radio4">100%</label>
            </div>
        </div>
    </div>
</script>

<script id="tplJquiSliderVertical" type="text/ejs" data-vis-attrs="oid;oid-2;oid-working;oid-2-working;min;max;step;inverted/checkbox;submitmethod/nselect,scroll,stop" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiSliderVertical&quot; style=&quot;position: relative; text-align: initial;padding: 4px;overflow:visible;height:50px&quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 23px; height: 30px; overflow: visible !important;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body &quot; style=&quot;width: 100%; padding: 4px; &quot;&gt; &lt;div class=&quot;sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all&quot; id=&quot;19vlqqb6r_slider&quot; data-oid=&quot;nothing_selected&quot; data-oid-working=&quot;&quot; style=&quot;height:100%&quot;&gt;&lt;span class=&quot;ui-slider-handle ui-state-default ui-corner-all&quot; tabindex=&quot;0&quot; style=&quot;bottom: 0%;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Slider vertical">
    <div id="<%= this.data.attr('wid') %>" data-vis-resizable='{"minWidth":23, "maxWidth":23}' class="vis-widget" style="width:23px; height:160px; overflow:visible !important;">
        <div class="vis-widget-body <%== this.data.attr('class') %>" style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min: parseFloat(data.min), max: parseFloat(data.max), step: parseFloat(data.step), orientation:"vertical", inverted: data.inverted, submitmethod: data.submitmethod}) %> style="height:100%"/></div>
        </div>
    </div>
</script>

<script id="tplJquiSlider" type="text/ejs" data-vis-attrs="oid;oid-2;oid-working;oid-2-working;min;max;step;inverted/checkbox;submitmethod/nselect,scroll,stop" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJquiSlider&quot; style=&quot;position: relative; text-align: initial;padding: 4px;overflow:visible&quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 80px; overflow: visible !important; left: 475px; top: 188px; position: absolute; height: 23px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body &quot; style=&quot;padding: 4px;&quot;&gt; &lt;div class=&quot;sliderJQUI ui-slider ui-slider-horizontal ui-widget ui-widget-content ui-corner-all&quot; id=&quot;19vlqppi9_slider&quot; data-oid=&quot;nothing_selected&quot; data-oid-working=&quot;&quot;&gt;&lt;span class=&quot;ui-slider-handle ui-state-default ui-corner-all&quot; tabindex=&quot;0&quot; style=&quot;left: 0%;&quot;&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui" data-vis-type="ctrl" data-vis-name="Slider horizontal">
    <div id="<%= this.data.attr('wid') %>" data-vis-resizable='{"minHeight":23, "maxHeight":23}' class="vis-widget" style="height:23; width:160px; overflow:visible !important;">
        <div class="vis-widget-body <%== this.data.attr('class') %>" style="padding: 4px;">
            <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider" data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min:parseFloat(data.min),max:parseFloat(data.max),step:parseFloat(data.step), inverted: data.inverted, submitmethod: data.submitmethod}) %> /></div>
        </div>
    </div>
</script>

<script id="tplIconState" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplIconState&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 122.4px; height: 32.4px; position: absolute; left: 237px; top: 201px;&quot; id=&quot;19vlr5eto&quot; data-oid=&quot;dev1&quot; data-val=&quot;value&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img src=&quot;/vis/widgets/jqui/img/internet-web-browser-2.png&quot; style=&quot; vertical-align:middle;height:100%;&quot; alt=&quot;&quot;&gt;set value &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui" data-vis-name="ctrl - Icon State" data-vis-attrs="oid;value;text;src/image;imageHeight/slider,0,200,1;alt;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.state(el); vis.binds.jqueryui.classes(el, null, data.value) %>>
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height:<%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
    </div>
</script>

<script id="tplIconStateBool" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplIconStateBool&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 100px; height: 25px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img class=&quot;tplImgFalse&quot; src=&quot;/vis/img/bulb_on.png&quot; style=&quot; vertical-align:middle;height:100%;&quot; alt=&quot;&quot;&gt;set value &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="ctrl - Icon State / val - Icon Bool" data-vis-attrs="oid;click_id/id;click_value;false_text;true_text;false_src/image;true_src/image;imageHeight/slider,0,200,1;false_alt;true_alt;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('click_value') %>" <%= (el) -> vis.binds.basic.state(el, this.data.attr('click_id')); vis.binds.jqueryui.classes(el, null, data.click_value) %>>
        <div class="vis-widget-body">
            <img class="imgToggleFalse" <%= this.data.attr('false_src') ? 'src="' +  this.data.attr('false_src') + '"' : '' %> style="               <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('false_alt') %>"/ ><span class="imgToggleFalse"><%= this.data.attr('false_text') %></span>
            <img class="imgToggleTrue"  <%= this.data.attr('true_src')  ? 'src="' +  this.data.attr('true_src')  + '"' : '' %> style="display: none; <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('true_alt')  %>" /><span class="imgToggleTrue" style="display: none"><%= this.data.attr('true_text')  %></span>
            <div <%= (el) -> vis.binds.jqueryui.itoggle(el) %>></div>
        </div>
    </div>
</script>

<script id="tplIconStatePushButton" type="text/ejs" class="vis-tpl" data-vis-set="jqui" data-vis-prev="&lt;div id=&quot;prev_tplIconStateBool&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default &quot; style=&quot;width: 100px; height: 25px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img class=&quot;tplImgFalse&quot; src=&quot;/vis/img/bulb_on.png&quot; style=&quot; vertical-align:middle;height:100%;&quot; alt=&quot;&quot;&gt;set value &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="ctrl - Icon PushButton / val - Icon Bool" data-vis-attrs="oid;click_id/id;false_text;true_text;false_src/image;true_src/image;imageHeight/slider,0,200,1;false_alt;true_alt;invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.pushbutton(el, this.data.attr('click_id')); vis.binds.jqueryui.classes(el, null, data.click_value) %>>
        <div class="vis-widget-body">
            <img class="imgToggleFalse" <%= this.data.attr('false_src') ? 'src="' +  this.data.attr('false_src') + '"' : '' %> style="               <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('false_alt') %>"/ ><span class="imgToggleFalse"><%= this.data.attr('false_text') %></span>
            <img class="imgToggleTrue"  <%= this.data.attr('true_src')  ? 'src="' +  this.data.attr('true_src')  + '"' : '' %> style="display: none; <%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('true_alt')  %>" /><span class="imgToggleTrue" style="display: none"><%= this.data.attr('true_text')  %></span>
            <div <%= (el) -> vis.binds.jqueryui.itoggle(el) %>></div>
        </div>
    </div>
</script>

<script id="tplIconInc" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplIconInc&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-widget ui-button ui-corner-all ui-state-default ui-state-active &quot; style=&quot;width: 44px; height: 20px;&quot; data-vis-step=&quot;1&quot; data-val=&quot;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img style=&quot; vertical-align:middle;height:100%;&quot;&gt;+1 &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="jqui" data-vis-name="ctrl - Icon Increment" data-vis-attrs="oid;step[1];minmax[100];text[+1];src/image;imageHeight/slider,0,200,1;alt;repeat_delay[800];repeat_interval[800];invert_icon/checkbox">
    <%
    var styles = '';
    if (this.data.invert_icon === 'true' || this.data.invert_icon === true) {
        styles = "filter: invert(1); -webkit-filter: invert(1); -moz-filter: invert(1); -o-filter: invert(1); -ms-filter: invert(1);";
    }
    %>
    <div class="vis-widget ui-widget ui-button ui-corner-all ui-state-default <%== this.data.attr('class') %>" style="width: 100px; height: 35px;" id="<%= this.data.attr('wid') %>" data-oid="<%= this.data.attr('oid') %>" data-vis-step="<%= this.data.attr('step') %>" data-val="<%= this.data.attr('active_value') %>" <%= (el) -> vis.binds.basic.increment(el,data.minmax,data.repeat_delay,data.repeat_interval); vis.binds.jqueryui.classes(el, null, data.minmax) %>>
        <div class="vis-widget-body">
            <img <%= this.data.attr('src') ? 'src="' +  this.data.attr('src') + '"' : '' %> style="<%= styles %> vertical-align: middle; height: <%= this.data.attr('imageHeight') || 100 %>%;" alt="<%== this.data.attr('alt') %>" /><%== this.data.attr('text') %>
        </div>
    </div>
</script>

<!-- --------------jqui.html--- END -->
<!-- --------------justgage.html--- START -->
<!--
    ioBroker.vis justgage Widget-Set

    version: "2.1.7"

    Copyright (c) 2023-2024 iobroker-community-adapters
    Copyright (c) 10.2015-2019 Pmant<patrickmo@gmx.de>
-->
<link rel="stylesheet" href="./vis_files/style(1).css">
<script type="text/javascript" src="./vis_files/justgage.js"></script>

<script id="tplJustgageJustGage" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplJustgageJustGage&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;overflow: visible; width: 119px; height: 80px; left: 620px; top: 68px; position: absolute;&quot; &gt;&lt;svg height=&quot;100%&quot; version=&quot;1.1&quot; width=&quot;100%&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; style=&quot;overflow: hidden; position: relative; left: -0.600037px; top: -0.800003px;&quot;&gt;&lt;desc style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot;&gt;Created with Raphaël 2.1.4&lt;/desc&gt;&lt;defs style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot;&gt;&lt;filter id=&quot;inner-shadow-1ablvv55d&quot;&gt;&lt;feOffset dx=&quot;0&quot; dy=&quot;3&quot;&gt;&lt;/feOffset&gt;&lt;feGaussianBlur result=&quot;offset-blur&quot; stdDeviation=&quot;5&quot;&gt;&lt;/feGaussianBlur&gt;&lt;feComposite operator=&quot;out&quot; in=&quot;SourceGraphic&quot; in2=&quot;offset-blur&quot; result=&quot;inverse&quot;&gt;&lt;/feComposite&gt;&lt;feFlood flood-color=&quot;black&quot; flood-opacity=&quot;0.2&quot; result=&quot;color&quot;&gt;&lt;/feFlood&gt;&lt;feComposite operator=&quot;in&quot; in=&quot;color&quot; in2=&quot;inverse&quot; result=&quot;shadow&quot;&gt;&lt;/feComposite&gt;&lt;feComposite operator=&quot;over&quot; in=&quot;shadow&quot; in2=&quot;SourceGraphic&quot;&gt;&lt;/feComposite&gt;&lt;/filter&gt;&lt;/defs&gt;&lt;path fill=&quot;#ebebeb&quot; stroke=&quot;none&quot; d=&quot;M34.5,64L19.5,64A40,40,0,0,1,99.5,64L84.5,64A25,25,0,0,0,34.5,64Z&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; filter=&quot;url(#inner-shadow-1ablvv55d)&quot;&gt;&lt;/path&gt;&lt;path fill=&quot;#008821&quot; stroke=&quot;none&quot; d=&quot;M34.5,64L19.5,64A40,40,0,0,1,47.13932022500211,25.957739348193854L51.77457514062632,40.22358709262116A25,25,0,0,0,34.5,64Z&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; filter=&quot;url(#inner-shadow-1ablvv55d)&quot;&gt;&lt;/path&gt;&lt;text x=&quot;59.5&quot; y=&quot;12.5&quot; text-anchor=&quot;middle&quot; font-family=&quot;sans-serif&quot; font-size=&quot;10px&quot; stroke=&quot;none&quot; fill=&quot;#999999&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: sans-serif; font-size: 10px; font-weight: bold; fill-opacity: 1;&quot; font-weight=&quot;bold&quot; fill-opacity=&quot;1&quot;&gt;&lt;tspan style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; dy=&quot;0&quot;&gt;&lt;/tspan&gt;&lt;/text&gt;&lt;text x=&quot;59.5&quot; y=&quot;62.74509803921569&quot; text-anchor=&quot;middle&quot; font-family=&quot;Arial&quot; font-size=&quot;12px&quot; stroke=&quot;none&quot; fill=&quot;#010101&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Arial; font-size: 12px; font-weight: bold; fill-opacity: 1;&quot; font-weight=&quot;bold&quot; fill-opacity=&quot;1&quot;&gt;&lt;tspan style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; dy=&quot;0&quot;&gt;40&lt;/tspan&gt;&lt;/text&gt;&lt;text x=&quot;59.5&quot; y=&quot;73.89894419306185&quot; text-anchor=&quot;middle&quot; font-family=&quot;Arial&quot; font-size=&quot;10px&quot; stroke=&quot;none&quot; fill=&quot;#b3b3b3&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Arial; font-size: 10px; font-weight: normal; fill-opacity: 1;&quot; font-weight=&quot;normal&quot; fill-opacity=&quot;1&quot;&gt;&lt;tspan style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; dy=&quot;0&quot;&gt;&lt;/tspan&gt;&lt;/text&gt;&lt;text x=&quot;27&quot; y=&quot;73.89894419306185&quot; text-anchor=&quot;middle&quot; font-family=&quot;Arial&quot; font-size=&quot;10px&quot; stroke=&quot;none&quot; fill=&quot;#b3b3b3&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Arial; font-size: 10px; font-weight: normal; fill-opacity: 1;&quot; font-weight=&quot;normal&quot; fill-opacity=&quot;1&quot;&gt;&lt;tspan style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; dy=&quot;0&quot;&gt;0&lt;/tspan&gt;&lt;/text&gt;&lt;text x=&quot;92&quot; y=&quot;73.89894419306185&quot; text-anchor=&quot;middle&quot; font-family=&quot;Arial&quot; font-size=&quot;10px&quot; stroke=&quot;none&quot; fill=&quot;#b3b3b3&quot; style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0); text-anchor: middle; font-family: Arial; font-size: 10px; font-weight: normal; fill-opacity: 1;&quot; font-weight=&quot;normal&quot; fill-opacity=&quot;1&quot;&gt;&lt;tspan style=&quot;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);&quot; dy=&quot;0&quot;&gt;100&lt;/tspan&gt;&lt;/text&gt;&lt;/svg&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id/changedId;" data-vis-attrs0="min_oid/id;mid_oid/id;max_oid/id;invert_value/checkbox;" data-vis-attrs1="group.value;hideValue/checkbox;digits/number,0,10,1;is_comma/checkbox;is_tdp[false]/checkbox;factor[1];unit;valueFontColor/color;valueFontFamily/fontname;valueOffsetY/number;" data-vis-attrs2="group.title1;title;titleFontColor/color;titleFontFamily/fontname;titleBelow/checkbox;titleOffsetY/number;" data-vis-attrs3="group.label;hideMinMax/checkbox;label_oid/id;labelFontColor/color;labelFontFamily/fontname;labelOffsetY/number;" data-vis-attrs4="group.pointer;pointer/checkbox;pointerMid/checkbox;pointerColor/color;pointerOptions/text;" data-vis-attrs5="group.shadow;hideInnerShadow/checkbox;shadowOpacity;shadowSize/number;shadowVerticalOffset/number;" data-vis-attrs6="group.layout;donut/checkbox;donutStartAngle/number,0,359,1;fullBri/checkbox;gaugeColor/color;color1/color;color2/color;color3/color;balance1[50]/slider,1,99,1;balance2[50]/slider,1,99,1;noGradient/checkbox;sector1/number;sector2/number;gaugeWidthScale/number,0,200,1;" data-vis-set="justgage" data-vis-type="val" data-vis-update-style="true" data-vis-name="justGage">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 300px; height: 250px" id="<%= this.data.attr('wid') %>">
            <% vis.binds.justgage.createJustGage(this.data.wid, this.view, this.data, this.style); %>
    </div>
</script>

<script id="tplJustgageValueColored" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div&gt;&lt;span style=&quot;color:blue&quot;&gt;15&lt;/span&gt; &lt;span style=&quot;color:green&quot;&gt;20&lt;/span&gt; &lt;span style=&quot;color:red&quot;&gt;25&lt;/span&gt;&lt;/div&gt;" data-vis-attrs="oid/id/changedId;min_oid/id;mid_oid/id;max_oid/id;" data-vis-attrs0="group.value;digits/number,0,10,1;is_comma/checkbox;is_tdp[false]/checkbox;factor[1];unit;" data-vis-attrs1="group.text;html_prepend/html;html_append_singular/html;html_append_plural/html;" data-vis-attrs2="group.color;changeBgColor/checkbox;fullBri/checkbox;color1/color;color2/color;color3/color;balance1[50]/slider,1,99,1;balance2[50]/slider,1,99,1;" data-vis-set="justgage" data-vis-type="val" data-vis-update-style="true" data-vis-name="Colored">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 100px; height: 30px" id="<%= this.data.attr('wid') %>">
        <% vis.binds.justgage.createValueColored(this.data.wid, this.view, this.data, this.style); %>
    </div>
</script>

<script id="tplJustgageIndicatorColored" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div&gt;&lt;span style=&quot;color:blue&quot;&gt;↓&lt;/span&gt; &lt;span style=&quot;color:green&quot;&gt;→&lt;/span&gt; &lt;span style=&quot;color:red&quot;&gt;↑&lt;/span&gt;&lt;/div&gt;" data-vis-attrs="oid/id/changedId;min_oid/id;mid_oid/id;max_oid/id;" data-vis-attrs0="group.value;equalAfter[0]/number;up/html;equal/html;down/html;" data-vis-attrs1="group.color;changeBgColor/checkbox;fullBri/checkbox;color1/color;color2/color;color3/color;balance1[50]/slider,1,99,1;balance2[50]/slider,1,99,1;" data-vis-set="justgage" data-vis-type="val" data-vis-update-style="true" data-vis-name="Indicator">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 50px; height: 30px" id="<%= this.data.attr('wid') %>">
        <% vis.binds.justgage.createIndicatorColored(this.data.wid, this.view, this.data, this.style); %>
    </div>
</script>

<script id="tplJustgageValueIndicatorColored" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div&gt;&lt;span style=&quot;color:blue&quot;&gt;15↑&lt;/span&gt; &lt;span style=&quot;color:green&quot;&gt;20→&lt;/span&gt; &lt;span style=&quot;color:red&quot;&gt;25↓&lt;/span&gt;&lt;/div&gt;" data-vis-attrs="oid/id/changedId;min_oid/id;mid_oid/id;max_oid/id;" data-vis-attrs0="group.value;digits/number,0,10,1;is_comma/checkbox;is_tdp[false]/checkbox;factor=[1];unit;" data-vis-attrs1="group.text;html_prepend/html;html_append_singular/html;html_append_plural/html;" data-vis-attrs2="group.indicator;equalAfter[0]/number;up/html;equal/html;down/html;" data-vis-attrs3="group.color;changeBgColor/checkbox;fullBri/checkbox;color1/color;color2/color;color3/color;balance1[50]/slider,1,99,1;balance2[50]/slider,1,99,1;" data-vis-set="justgage" data-vis-type="val" data-vis-update-style="true" data-vis-name="Value &amp; Indicator">
    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow:visible; width: 50px; height: 30px" id="<%= this.data.attr('wid') %>">
        <%
            vis.binds.justgage.createValueColored(this.data.wid, this.view, this.data, this.style, true);
        %>
    </div>
</script>






<!-- --------------justgage.html--- END -->
<!-- --------------keyboard.html--- START -->
<!--
    ioBroker.vis iobroker.vis-keyboard Widget-Set

    version: "0.0.2"

    Copyright 10.2015-2016 Steffen Schorling<steffen.schorling@googlemail.com>
-->
<link rel="stylesheet" type="text/css" href="./vis_files/keyboard-previewkeyset.min.css">
<link rel="stylesheet" type="text/css" href="./vis_files/keyboard.min.css">

<script type="text/javascript" src="./vis_files/jquery.keyboard.min.js"></script>
<script type="text/javascript" src="./vis_files/de.min.js"></script>
<script type="text/javascript" src="./vis_files/ru.min.js"></script>
<script type="text/javascript" src="./vis_files/german.min.js"></script>
<script type="text/javascript" src="./vis_files/russian.min.js"></script>
<script type="text/javascript" src="./vis_files/keyboard.js"></script>

<script id="tplKeyboardAll" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/keyboard/img/prev_vkb.png&quot;&gt;&lt;/img&gt;" data-vis-set="keyboard" data-vis-type="keyboard" data-vis-name="Virtual Keyboard" data-vis-attrs="layout/select,german,english,russian">
    <div class="vis-widget <%== this.data.attr('class') %>" style=" width: 190px; height: 22px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.keyboard.all(el, data, this.view) %>>
			<div style="border: 1px solid red; background: #ffffff">Virtual Keyboard for view <%= this.view %></div>
        </div>
    </div>
</script>

<script id="tplKeyboardWidget" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/keyboard/img/prev_vkb.png&quot;&gt;&lt;/img&gt;" data-vis-set="keyboard" data-vis-type="keyboard" data-vis-name="Keyboard for Widget" data-vis-attrs="wname/widget;layout/select,de,english,ru,numpad">
    <div class="vis-widget <%== this.data.attr('class') %>" style=" width: 220px; height: 22px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.keyboard.one(el, data, this.view) %>>
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for <%= this.data.attr('wname') %></div>
        </div>
    </div>
</script>















<!-- --------------keyboard.html--- END -->
<!-- --------------lcars.html--- START -->
<!--

    ioBroker.vis lcars Widget-Set

    version: "1.1.0"

    2013-2023 hobbyquaker, bluefox

    TODO - Slider Widgets
    TODO - Bar Widgets
    TODO - 4way Controller Widget
-->
<link rel="stylesheet" type="text/css" href="./vis_files/lcars.css">
<script type="text/javascript" src="./vis_files/jquery.lcars.js"></script>
<script type="text/javascript">

    "use strict";

    // Add words for lcars
    if (vis.editMode) {
        $.extend(systemDictionary, {
            "lcars_color":    {"en": "Color",             "de": "Farbe",                  "ru": "Цвет"},
            "edge_type":      {"en": "Edge type",         "de": "Bordertyp",              "ru": "Тип кромки"},
            "edge_direction": {"en": "Edge position",     "de": "Borderposition",         "ru": "Позиция"},
            "color_default":  {"en": "Dafault color",     "de": "Farbe",                  "ru": "Цвет по умолчанию"},
            "color_active":   {"en": "Active link color", "de": "Farbe von aktivem Link", "ru": "Цвет активной ссылки"},
            "line_height":    {"en": "Line height",       "de": "Linienhöche",            "ru": "Ширина линии"},
            "tl":             {"en": "Top left",          "de": "Oben links",             "ru": "Сверху слева"},
            "tr":             {"en": "Top right",         "de": "Oben rechts",            "ru": "Сверху справа"},
            "br":             {"en": "Bottom right",      "de": "Unten rechst",           "ru": "Снизу справа"},
            "bl":             {"en": "Bottom left",       "de": "Unten links",            "ru": "Снизу слева"},
            "frame_type":     {"en": "Type",              "de": "Typ",                    "ru": "Тип"},
            "frame_direction": {"en": "Direction",        "de": "Richtung",               "ru": "Расположение"},
            "speed":          {"en": "Speed",             "de": "Geschwindigkeit",        "ru": "Скорость"},
            "rows":           {"en": "Rows",              "de": "Zeilen",                 "ru": "Строк"},
            "cols":           {"en": "Columns",           "de": "Spalten",                "ru": "Колонок"},
            "r":              {"en": "Right",             "de": "Rechst",                 "ru": "Справа"},
            "l":              {"en": "Left",              "de": "Links",                  "ru": "Cлева"},
            "rounded":        {"en": "Rounded",           "de": "Abgerundet",             "ru": "Закругления"},
            "subtitle":       {"en": "Subtitle",          "de": "Untertitel",             "ru": "Подзаголовок"},
            "subtitle_show":  {"en": "Show",              "de": "Zeige",                  "ru": "Показать"},
            "subtitle_color": {"en": "subtitle_color",    "de": "Farbe",                  "ru": "Цвет"},
            "minmax":         {"en": "Mininum or maximum","de": "Mininum oder Maximum",   "ru": "Минимум или максимум"},
            "repeat_delay":   {"en": "Repeat delay",      "de": "Widerholungs- Verzögerung", "ru": "Задержка перед повтором"},
            "repeat_interval": {"en": "Repeat interval",  "de": "Widerholungs- Interval", "ru": "Интервал повтора"},
            "none":           {"en": "none",              "de": "keins",                  "ru": "нигде"},
            "both":           {"en": "both",              "de": "beide",                  "ru": "оба"},
            "group_title":    {"en": "Title",             "de": "Titel",                  "ru": "Заголовок"},
            "step_tooltip":     {
                "en": "Can be positive or negative",
                "de": "Kann positiv oder negativ sein",
                "ru": "Может быть положительным или отрицательным"
            },
            "minmax_tooltip":     {
                "en": "If 'step' is positiv, the value is interpreted as maximum\x0Aif 'step' is negativ, then as minimum",
                "de": "Falls 'Schritt' positiv ist, dann hier wird Maximum eingegeben\x0AFalls 'Schritt' negativ ist, dann Mimimum",
                "ru": "Если 'шаг' положительный, то значение интепретируется как максимум\x0Aесли 'шаг' отрицательный, то как минимум"
            },
            "title_oid": {"en": "Object ID", "de": "Objekt ID", "ru": "ID Объекта"},
            "title_oid_tooltip": {
                "en": "You can enter here text as '(TEXT)'\x0Ato not read the value from variable\x0Aand to just show the specified text.",
                "de": "Man kann auch text in Klammern eingeben '(TEXT)'\x0Aum einfach Text und nicht\x0Adas Variablewert anzuzeigen.",
                "ru": "Можно ввести текст, как '(TEXT)'\x0Aдля того, что бы показать заданное слово,\x0Aа не значение переменной"
            },
            "title_prepend": {"en": "Prepend text", "de": "Präfix", "ru": "Префикс"},
            "title_append_singular": {"en": "Append if singular", "de": "Suffix singulär", "ru": "Суффикс единств. число"},
            "title_append_plural": {"en": "Append if plural", "de": "Suffix plüral", "ru": "Суффикс множ. число"},
            "title_digits": {"en": "Digits after comma", "de": "Nachkomma- Stellen", "ru": "Чисел после запятой"},
            "title_digits_tooltip": {
                "en": "Clear value to '' to disable the rounding.",
                "de": "Lösche das Wert zu '' um Rundung zu deaktivieren.",
                "ru": "Удалите значение полностью, что бы деактивировать округление"
            },

            "group_subtitle": {"en": "Subtitle", "de": "Untertitel", "ru": "Подзаголо́вок"},
            "subtitle_oid": {"en": "Object ID", "de": "Objekt ID", "ru": "ID Объекта"},
            "subtitle_oid_tooltip": {
                "en": "You can enter here text as '(TEXT)'\x0Ato not read the value from variable\x0Aand to just show the specified text.",
                "de": "Man kann auch text in Klammern eingeben '(TEXT)'\x0Aum einfach Text und nicht\x0Adas Variablewert anzuzeigen.",
                "ru": "Можно ввести текст, как '(TEXT)'\x0Aдля того, что бы показать заданное слово,\x0Aа не значение переменной"
            },
            "subtitle_prepend": {"en": "Prepend text", "de": "Präfix", "ru": "Префикс"},
            "subtitle_append_singular": {"en": "Append if singular", "de": "Suffix singulär", "ru": "Суффикс единств. число"},
            "subtitle_append_plural": {"en": "Append if plural", "de": "Suffix plüral", "ru": "Суффикс множ. число"},
            "subtitle_digits": {"en": "Digits after comma", "de": "Nachkomma- Stellen", "ru": "Чисел после запятой"},
            "subtitle_digits_tooltip": {
                "en": "Clear value to '' to disable the rounding.",
                "de": "Lösche das Wert zu '' um Rundung zu deaktivieren.",
                "ru": "Удалите значение полностью, что бы деактивировать округление"
            }
        });

        vis.addFont('lcars_font');
    }
    
    vis.binds.lcars = {
        version: "1.0.4",
        showVersion: function () {
            if (vis.binds.lcars.version) {
                console.log('Version lcars: ' + vis.binds.lcars.version);
                vis.binds.lcars.version = null;
            }
        },
        color: function (name) {
            switch (name) {
                case 'orange':
                    return '#ff9900';
                    break;
                case 'purple':
                    return '#cc99cc';
                    break;
                case 'blue':
                    return '#9999ff';
                    break;
                case 'lightBlue':
                    return '#9999cc';
                    break;
                case 'red':
                    return '#cc0000';
                    break;
                case 'lightRed':
                    return '#cc6666';
                    break;
                case 'tan':
                    return '#ff9966';
                    break;
                case 'lightTan':
                    return '#ffcc99';
                    break;
                case 'pink':
                    return '#cc6699';
                    break;
                case 'white':
                    return '#ccccff';
                    break;
                case 'gray':
                    return '#888888';
                    break;
                case 'lightGray':
                    return '#cccccc';
                    break;
                default:
                    return '#ffffff';

            }
        },
        _oid: function (options, bound, onChange) {
            if (typeof bound === 'function') {
                onChange = bound;
                bound = null;
            }
            // title and subtitle can be {oid: a, prepend: b, append_singular: c, append_plural: d, digits: 0}
            var val = '';
            if (!options.oid) {
                // val = '';
            } else if (options.oid && (options.oid[0] === '(' || options.oid[0] === '[' || options.oid[0] === '{')) {
                // Process it as text
                val = options.oid.substring(1);
                if (val[val.length - 1] === ')' || val[val.length - 1] === ']' || val[val.length - 1] === '}') {
                    val = val.substring(0, val.length - 1);
                }
            } else {
                // get actual value and
                val = (vis.states[options.oid + '.val'] !== undefined) ? vis.states[options.oid + '.val'] : 0;
                if (val === 'true' || val === true) {
                    val = 1;
                }

                if (options.digits !== null && options.digits !== undefined && options.digits !== '') {
                    val = parseFloat(val).toFixed(parseInt(options.digits, 10));
                }

                if (options.append_singular || options.append_plural) {
                    if (val == 1) {
                        if (options.append_singular !== undefined) {
                            val += options.append_singular;
                        }
                    } else {
                        if (options.append_plural !== undefined) {
                            val += options.append_plural;
                        }
                    }
                }
                if (options.prepend !== undefined) {
                    val = options.prepend + val;
                }

                // Subscribe
                if (onChange) {
                    if (bound) {
                        bound.push(options.oid + '.val');
                    }
                    vis.states.bind(options.oid + '.val', onChange);
                }
            }
            return val;
        },
        viewSelected: function (widgetID, view, newView, attr, isCss) {
            var changed = [];
            if (!vis.views[view].widgets[widgetID].data.html ||
                vis.views[vis.views[view].widgets[widgetID].data.html]) {
                changed.push('html');
                vis.views[view].widgets[widgetID].data.html = newView;
                vis.widgets[widgetID].data.html = newView;
            }
            return changed.length ? changed : null;
        },
        button: function (wid, view, el, options, id, val, color_active, title, subtitle) {
            var $div = $('#' + wid);
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.lcars.button(wid, view, el, options, id, val, color_active, title, subtitle);
                }, 100);
                return;
            }
            // title and subtitle can be {oid: a, prepend: b, append_singular: c, append_plural: d, digits: 0}
            var $this = $div.find('.vis-widget-lcars-span');

            var bound = [];
            function onChange(e, newVal /* , oldVal */) {
                if (subtitle && typeof subtitle === 'object' && (subtitle.oid + '.val') === e.type) {
                    $this.find('._subtitle').html(vis.binds.lcars._oid(subtitle));
                } else if (title && typeof title === 'object' && (title.oid + '.val') === e.type) {
                    $this.data('title', vis.binds.lcars._oid(title));
                    $this.find('._title').html($this.data('title'));
                } else {
                    if (newVal === 'true' || newVal === true) newVal = 1;
                    if (val == newVal) {
                        $this.css('background-color', vis.binds.lcars.color(color_active));
                        $this.find('.B_titleL').css('color', vis.binds.lcars.color(color_active));
                    } else {
                        $this.css('background-color', vis.binds.lcars.color(options.color));
                        $this.find('.B_titleL').css('color', vis.binds.lcars.color(options.color));
                    }
                }
            }

            // process subtitle
            if (typeof subtitle === 'object') {
                if (subtitle.oid) {
                    bound.push(subtitle.oid + '.val');
                }
                // TODO: bug by every change of some parameter new bind will be created!! In Edit mode can be the problem.
                options.subTitle.text = vis.binds.lcars._oid(subtitle, bound, onChange);
            }

            $this.lcarsButton(options);

            if (id && val !== undefined) {
                var newVal = (vis.states[id + '.val'] !== undefined) ? vis.states[id + '.val'] : 0;
                if (newVal === 'true' || newVal === true) {
                    newVal = 1;
                }

                if (val == newVal) {
                    $this.css('background-color', vis.binds.lcars.color(color_active));
                    $this.find('.B_titleL').css('color', vis.binds.lcars.color(color_active));
                }
                bound.push(id + '.val');
                vis.states.bind(id + '.val', onChange);
            }

            var _title;
            try {
                _title = JSON.parse(JSON.stringify(title));
            } catch (e) {
                _title = null;
            }
            // process title
            if (title && typeof title === 'object') {
                if (title.oid) {
                    bound.push(title.oid + '.val');
                }
                _title = vis.binds.lcars._oid(title, bound, onChange);
            }

            $this.data('title', _title);
            $this.find('._title').html(_title);

            if (vis.editMode) {
                $this.parent().resize(function () {
                    var t = $this.data('timer');
                    if (t) clearTimeout(t);

                    $this.data('timer', setTimeout(function () {
                        clearTimeout($this.data('timer'));
                        $this.data('timer', null);
                        $this.width($this.parent().width() - 52);
                    }, 100));
                });
            }
            if (bound.length) {
                // remember all ids, that bound
                $div.data('bound', bound);
                // remember bind handler
                $div.data('bindHandler', onChange);
            }
        },
        warpcoreInterval: {},
        warpcore: function (el, speed, wid) {
            var d = 114;
            var i = 0;
            var $this = $(el).prev();

            if (vis.binds.lcars.warpcoreInterval[wid]) {
                clearInterval(vis.binds.lcars.warpcoreInterval[wid]);
            }
            vis.binds.lcars.warpcoreInterval[wid] = _setInterval(function (_this) {
                i += 1;
                if (i > 4) i = 0;
                _this.css('background-position', -d * i);
            },speed, $this);

        },
        warpcoreVal: function (el, id, min, max, wid) {
            var d = 114;
            var i = 0;
            var minSpeed = 800;
            var maxSpeed = 50;
            var valRange = parseFloat(min) - parseFloat(max);
            var spdRange = minSpeed - maxSpeed;
            var val = parseFloat(vis.states.attr(id + '.val'));
            var speed = parseInt(minSpeed + ((spdRange / valRange) * val), 10);
            if (isNaN(speed))     {
                speed = minSpeed;
            }
            if (speed < maxSpeed) {
                speed = maxSpeed;
            }

            var $this = $(el).prev();
            if (vis.binds.lcars.warpcoreInterval[wid]) {
                clearInterval(vis.binds.lcars.warpcoreInterval[wid]);
            }
            vis.binds.lcars.warpcoreInterval[wid] = _setInterval(function (_this) {
                i += 1;
                if (i > 4) {
                    i = 0;
                }
                _this.css('background-position', -d * i);
            }, speed, $this);

            vis.states.bind(id + '.val', function (e, newVal /* , oldVal */) {
                var speed = parseInt(minSpeed + ((spdRange / valRange) * parseFloat(newVal)), 10);
                if (isNaN(speed)) {
                    speed = minSpeed;
                }
                if (speed < maxSpeed) {
                    speed = maxSpeed;
                }

                if (vis.binds.lcars.warpcoreInterval[wid]) {
                    clearInterval(vis.binds.lcars.warpcoreInterval[wid]);
                }
                vis.binds.lcars.warpcoreInterval[wid] = _setInterval(function (_this) {
                    i += 1;
                    if (i > 4) {
                        i = 0;
                    }
                    _this.css('background-position', -d * i);
                }, speed, $this);
            });

        },
        dnaInterval: {},
        dna: function (el, oid, speed, wid, min, max) {
            var i = 0;
            var $this = $(el).prev();
            if (vis.binds.lcars.dnaInterval[wid]) {
                clearInterval(vis.binds.lcars.dnaInterval[wid]);
            }
            var val = 1;
            if (oid) {
                val = vis.states.attr(oid + '.val') || 0;
                val = parseFloat(val);
                if (min < max) {
                    if (val < min) val = min;
                    if (val > max) val = max;
                    val = (val - min) / (max - min);
                } else {
                    if (val > min) val = min;
                    if (val < max) val = max;
                    val = (val - min) / (max - min);
                }
                if (val < 0) val = -val;
            }

            vis.binds.lcars.dnaInterval[wid] = _setInterval(function (_this) {
                i++;
                if (i > 283) i = 0;
                _this.css('background-position', i);
            }, val * speed, $this);

        },
        randomNumber: function () {
            return ('00' + parseInt((Math.random() * 1000), 10)).slice(-3);
        },
        randomInterval: {},
        random: function (el, rows, cols, speed, wid) {
            var $this = $(el).prev();
            var $table = $this.find('table');
            if (vis.binds.lcars.randomInterval[wid]) {
                clearInterval(vis.binds.lcars.randomInterval[wid]);
            }
            vis.binds.lcars.randomInterval[wid] = _setInterval(function (_table) {
                if (_table.find('tr').length >= rows) {
                    _table.html('');
                }
                var colsHtml = '';
                for (var j = 0; j < cols; j++) {
                    colsHtml += vis.binds.lcars.randomNumber() + '</td><td>';
                }
                _table.append('<tr><td>' + colsHtml + '</td></tr>');

            }, speed, $table);
        },
        nav: function (el, nav_view, color_normal, color_active) {
            var $this = $(el).prev();

            if (vis.activeView === nav_view) $this.css('background-color', vis.binds.lcars.color(color_active));

            if (!vis.editMode) {
                $this.on('click touchstart', function (e) {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    vis.changeView(nav_view);
                    e.preventDefault();
                    return false;
                });
            }

            $(window).on('viewChanged', function (newView) {
                if (vis.activeView === nav_view) {
                    $this.css('background-color', vis.binds.lcars.color(color_active));
                } else {
                    $this.css('background-color', vis.binds.lcars.color(color_normal));
                }
            });
        }
    };

    vis.binds.lcars.showVersion();
</script>

<!--script id="tplLcarsSidePanel"
        type="text/ejs"
        class="vis-tpl"
        data-vis-set="lcars"
        data-vis-type="navigation"
        data-vis-name="Side-Panel"
        data-vis-attrs="html"
        >
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 88px; height: 550px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <ul id="side-panel" class="side-panel">
                <li style="height: 74px; background-color: rgb(153, 153, 255);"><div style="line-height: 128px;"><span style="padding-right:2px"><a href="index.html">Test1</a></span></div></li>
                <li style="height: 74px; background-color: rgb(204, 153, 204);"><span style="padding-right:2px"><a href="css.html">Test2</a></span></li>
                <li style="height: 74px; background-color: rgb(153, 153, 255);"><span style="padding-right:2px"><a href="debug.html">Test3</a></span></li>
                <li style="height: 74px; background-color: rgb(204, 153, 204);"><span style="padding-right:2px"><a href="mobile.html">Test4</a></span></li>
                <li style="height: 74px; background-color: rgb(153, 153, 255);"><span style="padding-right:2px">Test5</span></li><li style="height: 218px; border-bottom-style: none; background-color: rgb(204, 153, 204);"><span style="padding-right:2px">781</span></li>
            </ul>
        </div>
    </div>
</script-->

<script id="tplLcarsHtmlNav" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="navigation" data-vis-name="HTML" data-vis-prev="&lt;div id=&quot;prev_tplLcarsHtmlNav&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 116px; height: 35px; font-family: lcars_font; font-size: 30px; text-align: right; position: absolute;&quot;&gt;&lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;background-color: rgb(255, 153, 0);&quot;&gt; &lt;span style=&quot;padding-right:4px&quot;&gt;Link &lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="html;nav_view/views/viewSelected;color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;color_active[purple]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 88px; height: 74px; font-family: lcars_font; font-size: 30px; text-align: right; " id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="cursor: pointer; background-color: <%= vis.binds.lcars.color(data.attr('color_default')) %>">
            <span style="padding-right:4px"><%== this.data.attr('html') %></a>
        </div>
        <div <%= (el) -> vis.binds.lcars.nav(el, data.attr('nav_view'), data.attr('color_default'), data.attr("color_active")) %>></div>
    </div>
</script>

<script id="tplLcarsHTML" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-prev="&lt;div id=&quot;prev_tplLcarsHTML&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;font-family: lcars_font; letter-spacing: 1px; font-size: 30px; width: 93px; height: 33px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding: 0px; margin: 0px; color: rgb(255, 153, 0);&quot;&gt; HTML Text &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="Text/HTML" data-vis-attrs="html;lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget <%== this.data.attr('class') %>" style="font-family: lcars_font; letter-spacing: 1px; font-size: 30px; width: 260px; height: 32px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0;color: <%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>">
            <%== this.data.attr('html') %>
        </div>
    </div>
</script>

<script id="tplLcarsLine" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-name="Line" data-vis-type="static" data-vis-prev="&lt;div id=&quot;prev_tplLcarsLine&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle&quot; style=&quot;width: 69px; height: 13px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding: 0px; margin: 0px; background-color: rgb(255, 153, 0);&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 195px; height: 25px; padding: 0; margin: 0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0;background-color: <%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>">
        </div>
    </div>
</script>

<script id="tplLcarsLineTop" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-prev="&lt;img src=&quot;widgets/lcars/img/Prev_Top.png&quot;&gt;&lt;/img&gt;" data-vis-type="static" data-vis-name="Line-Top" data-vis-attrs="lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;line_height[3]/slider,1,40,1">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 400px; height: 25px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div class="line-top" style="background-color:<%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>;margin-bottom:-3px;"></div>
        </div>
    </div>
</script>

<script id="tplLcarsLineBottom" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-name="Line-Bottom" data-vis-prev="&lt;img src=&quot;widgets/lcars/img/Prev_Bottom.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;line_height[3]/slider,1,40,1">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 400px; height: 25px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <div class="line-bottom" style="background-color:<%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>;margin-bottom:-3px;"></div>
        </div>
    </div>
</script>

<script id="tplLcarsEdge" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-prev="&lt;div id=&quot;prev_tplLcarsEdge&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars ui-selectee ui-draggable-handle &quot; style=&quot;width: 93px; height: 33px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding: 0px; margin: 0px; background-color: rgb(255, 153, 0);&quot;&gt; &lt;img width=&quot;100%&quot; height=&quot;100%&quot; style=&quot;padding:0;margin:0;border:none;&quot; src=&quot;widgets/lcars/img/edge2-tl.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="Edge" data-vis-attrs="edge_type[1]/nselect,1,2;edge_direction[tl]/select,tl,tr,br,bl;lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 195px; height: 83px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0;background-color: <%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>">
            <img width="100%" height="100%" style="padding:0;margin:0;border:none;" src="widgets/lcars/img/edge<%= this.data.attr('edge_type') %>-<%= this.data.attr('edge_direction') %>.png">
        </div>
    </div>
</script>

<script id="tplLcarsEnd" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-prev="&lt;div id=&quot;prev_tplLcarsEdge&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars ui-selectee ui-draggable-handle &quot; style=&quot;width: 93px; height: 25px; padding: 0px; margin: 0px; font-size: 1px&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding: 0px; margin: 0px; background-color: rgb(255, 153, 0); text-align: right&quot;&gt; &lt;img height=&quot;100%&quot; style=&quot;padding:0;margin:0;border:none;&quot; src=&quot;widgets/lcars/img/end-r.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="End" data-vis-attrs="frame_direction[r]/select,r,l;lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 50px; height: 25px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0; margin:0; font-size: 1px; background-color: <%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>; text-align: <%= (this.data.attr('frame_direction') == 'r' ? 'right' : 'left') %>">
            <img height="100%" style="padding: 0; margin: 0; border: none;" src="widgets/lcars/img/end-<%= this.data.attr('frame_direction') %>.png">
         </div>
    </div>
</script>

<script id="tplLcarsFrame" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-name="Frame" data-vis-prev="&lt;div id=&quot;prev_tplLcarsFrame&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars ui-draggable-handle &quot; style=&quot;width: 33px; height: 95px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding:0;margin:0&quot;&gt; &lt;img width=&quot;100%&quot; height=&quot;100%&quot; style=&quot;padding:0;margin:0;border:none;&quot; src=&quot;widgets/lcars/img/frame1-r.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="frame_type[1]/nselect,1,2;frame_direction[r]/select,r,l">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 32px; height: 215px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0">
            <img width="100%" height="100%" style="padding:0;margin:0;border:none;" <%= (this.data.attr('frame_type') && this.data.attr('frame_direction') ? 'src="widgets/lcars/img/frame' + this.data.attr('frame_type') +'-' + this.data.attr('frame_direction') + '.png"' : '') %>>
        </div>
    </div>
</script>

<script id="tplLcarsUfpLogo" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-name="UFP Logo" data-vis-prev="&lt;div id=&quot;prev_tplLcarsUfpLogo&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;width: 93px; height: 70px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;img width=&quot;100%&quot; src=&quot;widgets/lcars/img/ufp.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 531px; height: 409px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <img width="100%" src="widgets/lcars/img/ufp.png"/>
        </div>
    </div>
</script>

<script id="tplLcarsSfLogo" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-prev="&lt;div id=&quot;prev_tplLcarsSfLogo&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;width: 73px; height: 77px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;background-color: rgb(255, 153, 0);&quot;&gt; &lt;img width=&quot;100%&quot; src=&quot;widgets/lcars/img/starfleet.png&quot;&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="Starfleet Logo" data-vis-attrs="lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 161px; height: 171px ;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="background-color: <%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>">
            <img width="100%" src="widgets/lcars/img/starfleet.png"/>
        </div>
    </div>
</script>

<script id="tplLcarsDna" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-prev="&lt;div id=&quot;prev_tplLcarsDna&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars ui-draggable-handle &quot; style=&quot;width: 87px; height: 43px; padding: 0px; margin: 0px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding:0;margin:0&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%; background-image: url(widgets/lcars/img/dna.png); background-position: 208px 50%;&quot;&gt;&lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-name="DNA" data-vis-attrs="oid;speed[50];min[0];max[100]">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 560px; height: 48px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0">
            <div style="width:100%;height:100%;background-image: url('widgets/lcars/img/dna.png')"></div>
            <div <%= (el) -> vis.binds.lcars.dna(el, data.attr('oid'), data.attr('speed'), data.attr('wid'), data.attr('min'), data.attr('max')) %>></div>
        </div>
    </div>
</script>

<script id="tplLcarsRandom" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-name="Random Numbers" data-vis-prev="&lt;div id=&quot;prev_tplLcarsRandom&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;font-family: lcars_font; letter-spacing: 1px; font-size: 30px; width: 87px; height: 78px; padding: 0px; margin: 0px&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot; style=&quot;padding: 0px; margin: 0px; color: rgb(255, 153, 0);&quot;&gt; &lt;table style=&quot;width:100%&quot;&gt; &lt;tbody&gt;&lt;tr&gt;&lt;td&gt;592&lt;/td&gt;&lt;td&gt;248&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;653&lt;/td&gt;&lt;td&gt;211&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="rows[6];cols[4];speed[1000];lcars_color[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget <%== this.data.attr('class') %>" style="font-family: lcars_font; letter-spacing: 1px; font-size: 30px; width: 260px; height: 32px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0;color: <%= vis.binds.lcars.color(this.data.attr('lcars_color')) %>">
            <table style="width:100%">

            </table>
        </div>
        <div <%= (el) -> vis.binds.lcars.random(el, data.attr('rows'), data.attr('cols'), data.attr('speed'), data.attr('wid')) %>></div>
    </div>
</script>

<script id="tplLcarsWarpcoreFix" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="static" data-vis-name="Warpcore" data-vis-prev="&lt;img src=&quot;widgets/lcars/img/Prev_Warpcore.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="speed[500]/slider,20,800,1">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 114px; height: 317px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0">
            <div style="width:100%;height:100%;background-image: url('widgets/lcars/img/warpcore.png')"></div>
            <div <%= (el) -> vis.binds.lcars.warpcore(el, data.attr('speed'), data.attr('wid')) %>></div>
        </div>
    </div>
</script>

<script id="tplLcarsWarpcore" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="val" data-vis-name="Warpcore" data-vis-prev="&lt;img src=&quot;widgets/lcars/img/Prev_Warpcore.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;min[0];max[1]">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 114px; height: 317px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0">
            <div style="width:100%; height:100%; background-repeat: no-repeat; background-image: url('widgets/lcars/img/warpcore.png')"></div>
            <div <%= (el) -> vis.binds.lcars.warpcoreVal(el, data.attr('oid'), data.attr('min'), data.attr('max'), data.attr('wid')) %>></div>
        </div>
    </div>
</script>

<script id="tplLcarsWarpcoreGray" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="val" data-vis-name="WarpcoreGray" data-vis-prev="&lt;img src=&quot;widgets/lcars/img/Prev_Warpcore-gray.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;min[0];max[1]">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 114px; height: 317px;padding:0;margin:0" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" style="padding:0;margin:0">
            <div style="width:100%; height:100%; background-repeat: no-repeat; background-image: url('widgets/lcars/img/warpcore-gray.png')"></div>
            <div <%= (el) -> vis.binds.lcars.warpcoreVal(el, data.attr('oid'), data.attr('min'), data.attr('max'), data.attr('wid')) %>></div>
        </div>
    </div>
</script>

<script id="tplLcarsButton" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="ctrl" data-vis-name="Button State" data-vis-prev="&lt;div id=&quot;prev_tplLcarsButton&quot; style=&quot;text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars ui-draggable-handle &quot; style=&quot;width: 132px; height: 46px; position: absolute;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span class=&quot;button RR L&quot; style=&quot;width: 70px; background-color: rgb(255, 153, 0);&quot;&gt;&lt;span style=&quot;&quot;&gt;state&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;value;title;rounded[both]/select,both,left,right,none;color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs0="group.subtitle;subtitle[state];subtitle_show/select,none,left,right;subtitle_color/nselect,,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 150px; height: 45px" id="<%= this.data.attr('wid') %>"  data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.state(el) %> >
        <div class="vis-widget-body">
            <span class="vis-widget-lcars-span" style="width: calc(100% - 50px)" <%= (el) -> vis.binds.lcars.button(this.data.wid, this.view, el, {rounded: data.attr('rounded'), blank: data.attr('blank'), extended: true, color: data.attr('color_default'), subTitle: {direction: data.attr('subtitle_show'), text: data.attr('subtitle'), color: data.attr('subtitle_color')}, length: data.attr('width')}, data.attr('oid'), data.attr('value'), data.attr('color_active'), this.data.attr('title')) %>><span class="_title"></span></span>
        </div>
    </div>
</script>

<script id="tplLcarsButtonInc" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="ctrl" data-vis-name="Button Increment" data-vis-prev="&lt;div id=&quot;prev_tplLcarsButtonInc&quot; style=&quot;text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars&quot; style=&quot;width: 132px; height: 46px; position: absolute;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span class=&quot;button RR L&quot; style=&quot;width: 70px; background-color: rgb(255, 153, 0);&quot;&gt;&lt;span&gt;increment&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;step[1];minmax[100];repeat_delay[800];repeat_interval[800];title;rounded/select,both,left,right,none;" data-vis-attrs0="color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs1="group.subtitle;subtitle[increment];subtitle_show/select,none,left,right;subtitle_color/nselect,,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 150px; height: 45px" id="<%= this.data.attr('wid') %>" data-vis-step="<%= this.data.attr('step') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.increment(el, data.attr('minmax'), data.attr('repeat_delay'), data.attr('repeat_interval')) %>>
        <div class="vis-widget-body">
            <span class="vis-widget-lcars-span" style="width: calc(100% - 50px)" <%= (el) -> vis.binds.lcars.button(this.data.wid, this.view, el, {rounded: data.attr('rounded'), blank: data.attr('blank'), extended: true, color: data.attr('color_default'), subTitle: {direction: data.attr('subtitle_show'), text: data.attr('subtitle'), color: data.attr('subtitle_color')}}, data.attr('oid'), data.attr('minmax'), data.attr('color_active'), this.data.attr('title')) %>><span class="_title"></span></span>
        </div>
    </div>
</script>

<script id="tplLcarsButtonToggle" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="ctrl" data-vis-name="Button Toggle" data-vis-prev="&lt;div id=&quot;prev_tplLcarsButtonToggle&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars&quot; style=&quot;width: 132px; height: 46px;&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span class=&quot;button RR L&quot; style=&quot;width: 70px; background-color: rgb(255, 153, 0);&quot;&gt;&lt;span&gt;toggle&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;title;rounded/select,both,left,right,none;color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs0="group.subtitle;subtitle[toggle];subtitle_show/select,none,left,right;subtitle_color/nselect,,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 150px; height: 45px" id="<%= this.data.attr('wid') %>" data-vis-step="<%= this.data.attr('step') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.toggle(el) %>>
        <div class="vis-widget-body">
            <span class="vis-widget-lcars-span" style="width: calc(100% - 50px)" <%= (el) -> vis.binds.lcars.button(this.data.wid, this.view, el, {rounded: data.attr('rounded'), blank: data.attr('blank'), extended: true, color: data.attr('color_default'), subTitle: {direction: data.attr('subtitle_show'), text: data.attr('subtitle'), color:data.attr('subtitle_color')}}, data.attr('oid'), 1, data.attr('color_active'), this.data.attr('title')) %>><span class="_title"></span></span>
        </div>
    </div>
</script>

<script id="tplLcarsButtonVal" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="ctrl,val" data-vis-name="Button State" data-vis-prev="&lt;div id=&quot;prev_tplLcarsButtonVal&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars&quot; style=&quot;width: 132px; height: 50px&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span class=&quot;button RR L&quot; style=&quot;width: 80px; background-color: rgb(255, 153, 0);&quot;&gt;&lt;span class=&quot;B_titleL _subtitle&quot; style=&quot;color:#cc99cc&quot;&gt;25.0&lt;/span&gt;&lt;span class=&quot;_title&quot;&gt;state&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;value;title;rounded[both]/select,both,left,right,none;color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs0="color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs1="color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs2="rounded/select,both,left,right,none;" data-vis-attrs3="group.title;title_oid[(state)]/id;title_prepend;title_append_singular;title_append_plural;title_digits;" data-vis-attrs4="group.subtitle;subtitle_oid[(25.0)]/id;subtitle_prepend;subtitle_append_singular;subtitle_append_plural;subtitle_digits;subtitle_show[left]/select,none,left,right;subtitle_color/nselect,,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 150px; height: 45px;" id="<%= this.data.attr('wid') %>"  data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.state(el) %> >
        <div class="vis-widget-body">
            <span class="vis-widget-lcars-span" style="width: calc(100% - 50px)" <%= (el) -> vis.binds.lcars.button(this.data.wid, this.view, el, {rounded: data.attr('rounded'), blank: data.attr('blank'), extended:true, color: data.attr('color_default'), subTitle: {direction: data.attr('subtitle_show'), text: data.attr('subtitle'), color: data.attr('subtitle_color')}}, data.attr('oid'), data.attr('value'), data.attr('color_active'), {oid: data.attr('title_oid'), prepend: data.attr('title_prepend'), append_singular: data.attr('title_append_singular'),append_plural: data.attr('title_append_plural'), digits: data.attr('title_digits')}, {oid: data.attr('subtitle_oid'), prepend: data.attr('subtitle_prepend'), append_singular: data.attr('subtitle_append_singular'), append_plural: data.attr('subtitle_append_plural'), digits: data.attr('subtitle_digits')}) %>><span class="_title"></span></span>
        </div>
    </div>
</script>

<script id="tplLcarsButtonIncVal" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="ctrl,val" data-vis-name="Button Increment" data-vis-prev="&lt;div id=&quot;tplLcarsButtonIncVal&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars&quot; style=&quot;width: 132px; height: 50px&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span class=&quot;button RR L&quot; style=&quot;width: 80px; background-color: rgb(255, 153, 0);&quot;&gt;&lt;span class=&quot;B_titleL _subtitle&quot; style=&quot;color:#cc99cc&quot;&gt;25.0&lt;/span&gt;&lt;span class=&quot;_title&quot;&gt;inc&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;step[1];minmax[100];repeat_delay[800];repeat_interval[800];" data-vis-attrs0="color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs1="color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs2="rounded/select,both,left,right,none;" data-vis-attrs3="group.title;title_oid[(inc)]/id;title_prepend;title_append_singular;title_append_plural;title_digits;" data-vis-attrs4="group.subtitle;subtitle_oid[(25.0)]/id;subtitle_prepend;subtitle_append_singular;subtitle_append_plural;subtitle_digits;subtitle_show[left]/select,none,left,right;subtitle_color/nselect,,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 150px; height: 45px;" id="<%= this.data.attr('wid') %>" data-vis-step="<%= this.data.attr('step') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.increment(el, data.attr('minmax'), data.attr('repeat_delay'), data.attr('repeat_interval')) %>>
        <div class="vis-widget-body">
            <span class="vis-widget-lcars-span" style="width: calc(100% - 50px)" <%= (el) -> vis.binds.lcars.button(this.data.wid, this.view, el, {rounded: data.attr('rounded'),blank:data.attr('blank'),extended:true,color:data.attr('color_default'),subTitle:{direction:data.attr('subtitle_show'),text:data.attr('subtitle'), color: data.attr('subtitle_color')}}, data.attr('oid'), data.attr('minmax'), data.attr('color_active'), {oid: data.attr('title_oid'), prepend: data.attr('title_prepend'), append_singular: data.attr('title_append_singular'),append_plural: data.attr('title_append_plural'), digits: data.attr('title_digits')}, {oid: data.attr('subtitle_oid'), prepend: data.attr('subtitle_prepend'), append_singular: data.attr('subtitle_append_singular'), append_plural: data.attr('subtitle_append_plural'), digits: data.attr('subtitle_digits')}) %>><span class="_title"></span></span>
        </div>
    </div>
</script>

<script id="tplLcarsButtonToggleVal" type="text/ejs" class="vis-tpl" data-vis-set="lcars" data-vis-type="ctrl,val" data-vis-name="Button Toggle" data-vis-prev="&lt;div id=&quot;tplLcarsButtonToggleVal&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-lcars&quot; style=&quot;width: 132px; height: 50px&quot;&gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span class=&quot;button RR L&quot; style=&quot;width: 80px; background-color: rgb(255, 153, 0);&quot;&gt;&lt;span class=&quot;B_titleL _subtitle&quot; style=&quot;color:#cc99cc&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;_title&quot;&gt;toggle&lt;/span&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;" data-vis-attrs0="color_default[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs1="color_active[orange]/nselect,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray;" data-vis-attrs2="rounded/select,both,left,right,none;" data-vis-attrs3="group.title;title_oid[(toggle)]/id;title_prepend;title_append_singular;title_append_plural;title_digits;" data-vis-attrs4="group.subtitle;subtitle_oid[(0)]/id;subtitle_prepend;subtitle_append_singular;subtitle_append_plural;subtitle_digits;subtitle_show[left]/select,none,left,right;subtitle_color/nselect,,orange,purple,blue,lightBlue,red,lightRed,tan,lightTan,pink,white,gray,lightGray">
    <div class="vis-widget vis-lcars <%== this.data.attr('class') %>" style="width: 150px; height: 45px;;" id="<%= this.data.attr('wid') %>" data-vis-step="<%= this.data.attr('step') %>" data-oid="<%= this.data.attr('oid') %>" data-val="<%= this.data.attr('value') %>" <%= (el) -> vis.binds.basic.toggle(el) %>>
        <div class="vis-widget-body">
            <span class="vis-widget-lcars-span" style="width: calc(100% - 50px)" <%= (el) -> vis.binds.lcars.button(this.data.wid, this.view, el, {rounded: data.attr('rounded'), blank: data.attr('blank'), extended: true, color: data.attr('color_default'), subTitle: {direction: data.attr('subtitle_show'), text: data.attr('subtitle'), color: data.attr('subtitle_color')}}, data.attr('oid'), 1, data.attr('color_active'), {oid: data.attr('title_oid'), prepend: data.attr('title_prepend'), append_singular: data.attr('title_append_singular'), append_plural: data.attr('title_append_plural'), digits: data.attr('title_digits')}, {oid: data.attr('subtitle_oid'), prepend: data.attr('subtitle_prepend'), append_singular: data.attr('subtitle_append_singular'), append_plural: data.attr('subtitle_append_plural'), digits: data.attr('subtitle_digits')}) %>><span class="_title"></span></span>
        </div>
    </div>
</script>

<!-- --------------lcars.html--- END -->
<!-- --------------metro.html--- START -->
<!--

    ioBroker.vis Metro Widget-Set

    version: "1.2.0"

    6'2014-2022 hobbyquaker, bluefox

    based on http://metroui.org.ua/

    TODO:
        - Attribute für vordefinierte fg-CSS-Klassen
        - Attribute für font-size, text-align, color, padding, margin in tile.content
        - Tile das JSON-Tabellen durchscrollt
        - content_oid Attribut für mehr Tiles
        - Doku

-->

<link rel="stylesheet" href="./vis_files/iconFont.min.css">
<link rel="stylesheet" href="./vis_files/metro-bootstrap.css">
<script type="text/javascript" src="./vis_files/metro.js"></script>

<script type="text/javascript">

    'use strict';
    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {

            "select_current": {
                "en": "Select current view",
                "de": "Aktuelle View selektieren",
                "ru": "Отметить текущую"
            },
            "label":            {"en": "Label",             "de": "Beschriftung",           "ru": "Надпись"},
            "autoclose":        {"en": "Auto close",        "de": "Auto-zu",                "ru": "Автозакрытие"},
            "label_prepend":    {"en": "Label prepend",     "de": "Vor Beschriftung",       "ru": "Перед надписью"},
            "label_append":     {"en": "Label append",      "de": "Nach Beschriftung",      "ru": "После надписи"},
            "badge_label":      {"en": "Badge text",        "de": "Abzeichentext",          "ru": "Текст в бирке"},
            "dialog_url":       {"en": "Dialog URL",        "de": "Dialog URL",             "ru": "URL фрейма в диалоге"},
            "dialog_scroll":    {"en": "Scroll in iFrame",  "de": "Scroll im iFrame",       "ru": "Скролл в диалоге"},
            "icon":             {"en": "Icon URL",          "de": "Icon URL",               "ru": "URL иконки"},
            "icon_src":         {"en": "Icon URL",          "de": "Icon URL",               "ru": "URL иконки"},
            "icon_width":       {"en": "Icon width",        "de": "Iconbreite",             "ru": "Ширина иконки"},
            "icon_height":      {"en": "Icon height",       "de": "Iconhöhe",               "ru": "Высота иконки"},
            "icon_top":         {"en": "Icon left",         "de": "Icon-Offset von oben",   "ru": "Сдвиг иконки сверху"},
            "icon_left":        {"en": "Icon top",          "de": "Icon-Offset von links",  "ru": "Сдвиг иконки слева"},
            "icon_class":       {"en": "Icon class",        "de": "Ikonenklasse",           "ru": "Иконка"},
            "icon_badge":       {"en": "Icon badge",        "de": "Abzeichenikone",         "ru": "Иконка бирки"},
            "bg_class":         {"en": "Background",        "de": "Hintergrund",            "ru": "Фон"},
            "bg_class_active":  {"en": "Background active", "de": "Aktiver Hintergrund",    "ru": "Акивный Фон"},
            "badge_bg_class":   {"en": "Badge background",  "de": "Abzeichen- Hintergrund", "ru": "Фон бирки"},
            "badge_bg_class_active": {
                "en": "Badge background active",
                "de": "Aktiver Abzeichen- Hintergrund",
                "ru": "Фон активной бирки"
            },
            "brand_bg_class":   {"en": "Brand background", "de": "Brand- Hintergrund",      "ru": "Фон полоски"},
            "brand_bg_class_active": {
                "en": "Brand background active",
                "de": "Aktiver Brand- Hintergrund",
                "ru": "Фон активной полоски"
            },
            "badge_src":        {"en": "Badge URL",         "de": "Abzeichen URL",          "ru": "URL бирки"},
            "badge_src_false":  {"en": "Badge URL",         "de": "Abzeichen URL",          "ru": "URL бирки"},
            "badge_src_true":   {"en": "Badge URL by true", "de": "Aktiv-Abzeichen URL",    "ru": "URL активной URL"},
            "badge_width":      {"en": "Badge width[%]",    "de": "Abzeichen-Breite[%]",    "ru": "Ширина бирки"},
            "badge_height":     {"en": "Badge height[%]",   "de": "Abzeichen-Höhe[%]",      "ru": "Высота бирки"},
            "badge_top":        {"en": "Badge top[%]",      "de": "Abzeichen-Top[%]",       "ru": "Отступ сверху для бирки"},
            "badge_left":       {"en": "Badge left[%]",     "de": "Abzeichen-Links[%]",     "ru": "Отступ слева для бирки"},
            "group_icon":       {"en": "Icon",              "de": "Icon",                  "ru": "Иконка"},
            "group_badge":      {"en": "Badge",             "de": "Abzeichen",              "ru": "Бирка"},
            "group_bg-and-text": {"en": "Background and label", "de": "Hintergrund und Titel", "ru": "Фон и надпись"},
            "group_dialog":     {"en": "Dialog",            "de": "Dialog",                 "ru": "Диалог"},
	        "group_brand":      {"en": "Brand",             "de": "Brand",                  "ru": "Brand"},
            "transform":        {"en": "Transform",         "de": "Druckeffekt",            "ru": "Эффект нажатия"},
            "hover":            {"en": "Hover effect",      "de": "Hover-Effekt",           "ru": "Реакция на курсор"},
            "oid-working":      {"en": "Working state ID",  "de": "In Arbeit Zustand ID",   "ru": "'В работе' ID"},
            "min":              {"en": "Min",               "de": "Min",                    "ru": "Минимум"},
            "max":              {"en": "Max",               "de": "Max",                    "ru": "Максимум"},
            "step":             {"en": "Step",              "de": "Schritt",                "ru": "Шаг"},
            "sliderColor":      {"en": "Slider color",      "de": "Schieberfarbe",          "ru": "Цвет ползунка"},
            "sliderCompleteColor": {
                "en": "Slider complete color",
                "de": "Voll Schieberfarbe",
                "ru": "Цвет ползунка (Полный)"
            },
            "sliderMarkerColor": {"en": "Slider handle color", "de": "Schiebergrifffarbe",  "ru": "Цвет ручки"},
            "content_oid":      {"en": "Content ID",        "de": "Inhalt ID",              "ru": "ID Содержания"},
            "dialog_oid":       {"en": "Dialog ID",         "de": "Dialog ID",              "ru": "ID Текста для диалога"},
            "number_oid":       {"en": "Number ID",         "de": "Nummer ID",              "ru": "ID Числа"},
            "hide_on_0":        {"en": "Hide by 0",         "de": "Verbergen bei 0",        "ru": "Скрыть при 0"},
            "dialog_fontSize":  {"en": "Dialog font size",  "de": "Dialogschriftgrösse",    "ru": "Размер шрифта"},
            "dialog_padding":   {"en": "Dialog padding",    "de": "Dialog padding",         "ru": "Отступ"},
            "dialog_textAlign": {"en": "Dialog text align", "de": "Dialogtextausrichtung",  "ru": "Выравнивание текста"},
            "dialog_width":     {"en": "Dialog width",      "de": "Dialogbreite",           "ru": "Ширина"},
            "dialog_height":    {"en": "Dialog height",     "de": "Dialoghöhe",             "ru": "Высота"},
            "dialog_title":     {"en": "Title",             "de": "Titel",                  "ru": "Надпись"},
            "dialog_flat":      {"en": "Flat Design",       "de": "Flaches Design",         "ru": "Плоский дизайн"},
            "dialog_shadow":    {"en": "Shadow",            "de": "Fensterschatten",        "ru": "Показать тень"},
            "dialog_draggable": {"en": "Draggable",         "de": "Konnte verschoben werden", "ru": "Можно двигать"},
            "dialog_modal":     {"en": "Modal",             "de": "Modaldialog",            "ru": "Модальное окно"},
            "dialog_icon_src":  {"en": "Icon URL",          "de": "Ikone URL",              "ru": "URL иконки"},
            "dialog_icon_class": {"en": "Icon class",       "de": "Ikoneklasse",            "ru": "Класс иконки"},
            "Select ID":        {"en": "Select ID",         "de": "Select ID",              "ru": "Select ID"},
            "state_oid":        {"en": "State ID",          "de": "Zustand ID",             "ru": "ID Статуса"},
            "select_on_true":   {"en": "Select by true",    "de": "Selektieren bei Wahr",   "ru": "Отметить при 1"},
            "label_true":       {"en": "Label if true",     "de": "Schild bei Wahr",        "ru": "Надпись при 1"},
            "label_false":      {"en": "Label if false",    "de": "Schild bei Falsch",      "ru": "Надпись при 0"},
            "bg_class_true":    {"en": "Background by true", "de": "Hintergrund bei Wahr",  "ru": "Фон при 1"},
            "bg_class_false":   {"en": "Background by false", "de": "Hintergrund bei Falsch", "ru": "Фон при 0"},
            "icon_true_src":    {"en": "Icon URL by true",  "de": "Ikone URL bei Wahr",     "ru": "URL иконки при 1"},
            "icon_false_src":   {"en": "Icon URL by false", "de": "Ikone URL bei Falsch",   "ru": "URL иконки при 0"},
            "icon_true_src_tooltip": {
                "en": "To center the image select 'icon-custom' class",
                "de": "Um das Bild zu zentrieren, muss 'icon-custom' Klasse gewählt werden",
                "ru": "Для помещения картинки в центре выберите 'icon-custom' класс"
            },
            "icon_false_src_tooltip": {
                "en": "To center the image select 'icon-custom' class",
                "de": "Um das Bild zu zentrieren, muss 'icon-custom' Klasse gewählt werden",
                "ru": "Для помещения картинки в центре выберите 'icon-custom' класс"
            },
            "icon_class_true": {
                "en": "Icon class by true",
                "de": "Ikonenklasse URL bei Wahr",
                "ru": "Класс иконки при 1"
            },
            "icon_class_false": {
                "en": "Icon class by false",
                "de": "Ikonenklasse URL bei Falsch",
                "ru": "Класс иконки при 0"
            },
            "badge_bg_class_true": {
                "en": "Badge background by true",
                "de": "Abzeichen- Hintergrund bei Wahr",
                "ru": "Фон бирки при 1"
            },
            "badge_bg_class_false": {
                "en": "Badge background by false",
                "de": "Abzeichen- Hintergrund bei Falsch",
                "ru": "Фон бирки при 0"
            },
            "brand_bg_class_true": {
                "en": "Brand background by true",
                "de": "Brand- Hintergrund bei Wahr",
                "ru": "Фон полоски при 1"
            },
            "brand_bg_class_false": {
                "en": "Brand background by false",
                "de": "Brand- Hintergrund bei Falsch",
                "ru": "Фон полоски при 0"
            },
            "icon_true":        {"en": "Icon by true",      "de": "Ikone bei Wahr",         "ru": "Иконка при 1"},
            "icon_false":       {"en": "Icon by false",     "de": "Ikone bei Falsch",       "ru": "Иконка при 0"},
            "icon_badge_true":  {"en": "Badge icon by true", "de": "Abzeichenikone bei Wahr", "ru": "Иконка бирки при 1"},
            "icon_badge_false": {
                "en": "Badge icon by false",
                "de": "Abzeichenikone bei Falsch",
                "ru": "Иконка бирки при 0"
            },
            "value":            {"en": "Value",             "de": "Wert",                   "ru": "Значение"},
            "select_on_value":  {"en": "Select on value",   "de": "Selektieren by Wert",    "ru": "Отметить при значении"},
            "group_slider":     {"en": "Slider",            "de": "Schieber",               "ru": "Ползунок"},
            "content_prepend":  {"en": "Сontent prepend",   "de": "Inhaltprefix",           "ru": "Префикс содержания"},
            "content_append":   {"en": "Сontent append",    "de": "Inhaltsuffix",           "ru": "Суффику содержания"},
            "label_id":         {"en": "Label ObjectID",    "de": "Beschriftung ObjectID",  "ru": "ObjectID надписи"},
            "hum_oid":          {"en": "Humidity ID",       "de": "Luftfeutigkeit ID",      "ru": "ID влажности"},
            "label_humidity":   {"en": "Label for humidity", "de": "Beschriftung Luftfeutigkeit", "ru": "Подпись влажности"},
            "lowbat_oid":       {"en": "Low battery ID",    "de": "Low battery ID",         "ru": "ID низкого заряда батареи"},
            "controlmode_oid":  {"en": "Control mode ID",   "de": "Kontrollmodus ID",       "ru": "ID Режима управления"},
            "windowopen_oid":   {"en": "Window open ID",    "de": "Fenstersensor ID",       "ru": "Сенсор окна ID"}
        });
    }

    $.extend(true, systemDictionary, {
        "Set temperature":      {"en": "Set temperature",   "de": "Soll-Temperatur",    "ru": "Выставленная темп."},
        "Actual temp.":         {"en": "Actual temp.",      "de": "Ist-Temperatur",     "ru": "Актуальная темп."},
        "Valve position":       {"en": "Valve position",    "de": "Ventilstellung",     "ru": "Позиция вентиля"},
        "Humidity":             {"en": "Humidity",          "de": "Luftfeuchtigkeit",   "ru": "Влажность"},
        "Target":               {"en": "Target",            "de": "Soll",               "ru": "Должно"},
        "Actual":               {"en": "Now",               "de": "Ist",                "ru": "Сейчас"},
        "group_service":        {"en": "Service",           "de": "Service",            "ru": "Сервис"},
        "icon_lowbat":          {"en": "Icon low battery",  "de": "Icon Batterie leer", "ru": "Иконка низкого заряда батареи"},
        "icon_control_mode_0":  {"en": "Icon auto mode",    "de": "Icon Auto Modus",    "ru": "Иконка для авто-режима"},
        "icon_control_mode_1":  {"en": "Icon manual mode",  "de": "Icon man. Modus",    "ru": "Иконка для ручного режима"},
        "icon_control_mode_2":  {"en": "Icon party mode",   "de": "Icon Party Modus",   "ru": "Иконка для режима вечеринки"},
        "icon_control_mode_3":  {"en": "Icon boost mode",   "de": "Icon Boost Modus",   "ru": "Иконка для режима наддува"},
        "icon_windowopen":      {"en": "Icon window open",  "de": "Icon Fenster offen", "ru": "Иконка открытого окна"}
    });

    vis.navChangeCallbacks.push(function (view) {
        $('.vis-metro-nav').each(function () {
            var $this = $(this);
            if ($this.attr('data-metro-nav') === view) {
                if ($this.attr('data-metro-nav-select') === 'true') {
                    $this.addClass("selected");
                }
                $this.addClass($this.attr('data-metro-class-active'));
                if ($this.attr('data-metro-class-active') !== $this.attr('data-metro-class')) {
                    $this.removeClass($this.attr('data-metro-class'));
                }
            } else {
                $this.addClass($this.attr('data-metro-class'));
                if ($this.attr('data-metro-class-active') !== $this.attr('data-metro-class')) {
                    $this.removeClass($this.attr('data-metro-class-active'));
                }
                $this.removeClass('selected');
            }
        });
    });

    vis.binds.metro = {
        version: "1.2.0",
        format: function (value, type, mustValue) {
            if (!type || type === 'bool') {

                return '_' + !(!value || value === 'false' || value === '0');

            } else if (type == 10) {

                if (!value || value === 'false' || value === '0') value = 0;
                if (value === 'true' || value === true) value = 1;
                return parseInt(value, 10);

            } else if (type === 'compare') {

                if (!value || value === 'false' || value === '0') value = 0;
                if (value === 'true' || value === true) value = 1;

                if (mustValue === 'true'  || mustValue === '1')  mustValue = 1;
                if (mustValue === 'false' || mustValue === '0') mustValue = 0;

                return '_' + (value == mustValue);
            } else if (type === '%') {
                if (value !== undefined && (typeof value === 'number' || typeof value === 'string')) value = parseFloat(value).toFixed(0) + '%';
                if (value === undefined) value = '';
                return value;
            }  else if (type === '°') {
                if (value !== undefined && (typeof value === 'number' || typeof value === 'string')) value = parseFloat(value).toFixed(1) + '°C';
                if (value === undefined) value = '';
                return value;
            }
            return value;
        },
        inputControl: function (el) {
            var $this = $(el).parent().find('input');
        },
        slider: function (el, options) {
            var $this = $(el).parent().find('.slider');
            var oid     = $this.attr('data-oid');
            var wid     = $this.attr('data-oid-working');

            if (!oid && options.hideIfNoOid) {
                $this.hide();
                return;
            }

            var min = (options.min === undefined || options.min === null || options.min === '') ? 0.00 : parseFloat(options.min);
            var max = (options.max === undefined || options.min === null || options.max === '') ? 1.00 : parseFloat(options.max);

            if (max < min) {
                var tmp = max;
                max = min;
                min = tmp;
            }
            var val = vis.states.attr(oid + '.val');
            if (val === true  || val === 'true')  val = max;
            if (val === false || val === 'false') val = min;
            val = parseFloat(val);
            if (isNaN(val)) val = min;

            if (val < min) val = min;
            if (val > max) val = max;

            options.min = min;
            options.max = max;
            options.simRange = 100;
            options.range    = options.max - options.min;
            options.factor   = options.simRange / options.range;
            val = Math.floor((val - options.min) * options.factor);

            $this.metroSlider({
                min:           0,
                max:           options.simRange,
                accuracy:      options.accuracy      || 0,
                color:         options.color         || undefined,
                completeColor: options.completeColor || undefined,
                markerColor:   options.markerColor   || undefined,
                position:      val,
                animate:       true,
                change:        function (val) {
                    val = (parseFloat(val) / options.factor) + options.min;
                    if (options.step) {
                        val = Math.round(val / options.step) * options.step;
                    }
                    if (options.digits !== undefined && options.digits !== null && options.digits !== '') {
                        vis.setValue(oid, val.toFixed(options.digits));
                        //vis.setValue(oid, parseFloat(val).toFixed(options.digits));
                    } else {
                        vis.setValue(oid, val);
                        //vis.setValue(oid, parseFloat(val));
                    }
                },
                changed:       function (val) {

                }
            });

            vis.states.bind(oid + '.val', function (e, newVal, oldVal) {
                var val = vis.states.attr(oid + '.val');

                if (val === true  || val === 'true')  val = options.max;
                if (val === false || val === 'false') val = options.min;

                val = parseFloat(val);
                if (isNaN(val)) val = options.min;
                if (val < options.min) val = options.min;
                if (val > options.max) val = options.max;
                val = Math.floor((val - options.min) * options.factor);

                try {
                    $this.metroSlider('value', val);
                } catch (e) {
                    console.error(e);
                }
            });
        },
        tile: function (el, transform) {
            var $this = $(el).parent().find('.tile');
            if (transform) $this.tileTransform();

            setTimeout(function () {
                $('.vis-metro-nav').each(function () {
                    var $this = $(this);
                    if ($this.attr('data-metro-nav') === vis.activeView) {
                        if ($this.attr('data-metro-nav-select') === 'true') {
                            $this.addClass('selected');
                        }
                        $this.addClass($this.attr('data-metro-class-active'));
                        if ($this.attr('data-metro-class-active') !== $this.attr('data-metro-class')) {
                            $this.removeClass($this.attr('data-metro-class'));
                        }
                    } else {
                        $this.addClass($this.attr('data-metro-class'));
                        if ($this.attr('data-metro-class-active') !== $this.attr('data-metro-class')) {
                            $this.removeClass($this.attr('data-metro-class-active'));
                        }
                        $this.removeClass('selected');
                    }
                });
            }, 100);
        },
        tileDialog: function (el, wid, view, options, html, isIframe) {
            var $this = $(el).parent().find('.tile');

            var width  = parseInt(options.width, 10);
            var height = parseInt(options.height, 10);

            if (isNaN(width))  width = undefined;
            if (isNaN(height)) height = undefined;

            if (view || html || vis.editMode) {
                $(el).parent().on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    $.metroDialog({
                        width:     width,
                        height:    height,
                        overlay:   options.overlay   || false,
                        shadow:    options.shadow    || false,
                        flat:      options.flat      || false,
                        draggable: options.draggable || false,
                        title:     options.title     || '',
                        icon:      options.icon  ? '<img src="' + options.icon + '">' : (options.icon_class ? '<span class="' + options.icon_class + '"></span>' : false),
                        content:   '',
                        onShow:    function(_dialog){
                            var content = _dialog.children('.content');
                            if (html) {
                                if (isIframe) {
                                    content.css('overflow', 'hidden');
                                    content.html('<iframe src="' + html + '" style="width: 100%; height: 100%" scrolling="' + (options.scroll ? 'yes' : 'no') + '"></iframe>');
                                } else {
                                    content.html(html);
                                }
                            } else {
                                content.html('<div class="vis-view-container" data-vis-contains="' + view + '"></div>');
                                if (vis.views[view]) {
                                    vis.renderView(view, view, false, function (_view) {
                                        $('#visview_' + _view).appendTo(content).show();
                                    });
                                }
                                $('#visview_' + view).appendTo(content);
                                $('#visview_' + view).show();
                            }
                        }
                    });
                });
            }
        },
        tileDialogString: function (el, wid, content_oid, options, fontSize, padding, textAlign) {
            content_oid = content_oid || '';
            var $this = $(el).parent().find('.tile');

            var width = parseInt(options.width, 10);
            var height = parseInt(options.height, 10);

            if (isNaN(width))  width = undefined;
            if (isNaN(height)) height = undefined;

            $(el).parent().on('click touchstart', function () {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                $.metroDialog({
                    width:     width,
                    height:    height,
                    overlay:   options.overlay || false,
                    shadow:    options.shadow || false,
                    flat:      options.flat || false,
                    draggable: options.draggable || false,
                    icon:      options.icon  ? '<img src="' + options.icon + '">' : (options.icon_class ? '<span class="' + options.icon_class + '"></span>' : false),
                    title:     options.title || '',
                    content:   '',
                    onShow:    function(_dialog){
                        var content = _dialog.children('.content');
                        var style = '';
                        if (fontSize)  style += 'font-size:'  + fontSize + ';';
                        if (padding)   style += 'padding:'    + padding + ';';
                        if (textAlign) style += 'text-align:' + textAlign + ';';

                        var value = vis.states.attr(content_oid + '.val');
                        if (value === undefined) value = '';
                        content.html('<div style="' + style + '" class="metro-dialog-string" data-oid="' + content_oid + '">' + value + '</div>');
                    }
                });
            });
            vis.states.bind(content_oid + '.val', function (e, newVal, oldVal) {
                $('div.metro-dialog-string[data-oid="' + content_oid + '"]').html(newVal);
            });
        },
        tileDialogSlider: function (el, wid, level_id, working_id, options, sliderOptions) {
            var $this = $(el).parent().find('.tile');

            var width  = parseInt(options.width, 10);
            var height = parseInt(options.height, 10);

            if (isNaN(width))  width  = undefined;
            if (isNaN(height)) height = undefined;

            level_id   = level_id   || '';
            working_id = working_id || '';

            sliderOptions.min = (sliderOptions.min === undefined || sliderOptions.min === null || sliderOptions.min === '') ? 0.00 : parseFloat(sliderOptions.min);
            sliderOptions.max = (sliderOptions.max === undefined || sliderOptions.min === null || sliderOptions.max === '') ? 1.00 : parseFloat(sliderOptions.max);

            var range =  sliderOptions.max - sliderOptions.min;
            var factor = 100 / range;

            $(el).parent().on('click touchstart', function () {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                $.metroDialog({
                    width:     width,
                    height:    height,
                    overlay:   options.overlay   || false,
                    shadow:    options.shadow    || false,
                    flat:      options.flat      || false,
                    draggable: options.draggable || false,
                    icon:      options.icon  ? '<img src="' + options.icon + '">' : (options.icon_class ? '<span class="' + options.icon_class + '"></span>' : false),
                    title:     options.title     || '',
                    content:   '',
                    onShow:    function(_dialog){
                        var content = _dialog.children('.content');
                        var html = '<div style="margin: 24px 0 0 24px;">';
                        html += '<div class="input-control switch"><label>';
                        html += '<input type="checkbox" name="' + wid + '_checkbox" id="' + wid + '_checkbox" data-oid="' + level_id + '" data-oid-working="' + working_id + '"/>';
                        html += '<span class="check"></span>';
                        html += '</label></div>';
                        html += '</div><div style="margin: 24px 12px 0 12px;">';
                        html += '<div data-oid="' + level_id + '" data-oid-working="' + working_id + '" id="metroSlider_' + wid + '" class="slider" data-role="slider"></div>';
                        html += '</div>';
                        content.html(html);

                        var val = vis.states.attr(level_id + '.val');
                        if (val === true || val === 'true') val = sliderOptions.max;
                        val = parseFloat(val);
                        if (isNaN(val)) val = sliderOptions.min;

                        val = Math.floor((val - sliderOptions.min) * factor);
                        sliderOptions.position = val;

                        vis.binds.metro.slider(document.getElementById('metroSlider_' + wid), sliderOptions);
                        vis.binds.basic.checkbox(document.getElementById(wid + '_checkbox'), true, sliderOptions.min, sliderOptions.max);
                    }
                });
            });
        },
        tileDialogHeating: function (el, wid, set_oid, temp_oid, drive_oid, options, sliderOptions) {
            var $this = $(el).parent().find('.tile');

            var width =  parseInt(options.width, 10);
            var height = parseInt(options.height, 10);

            if (isNaN(width))  width = undefined;
            if (isNaN(height)) height = undefined;

            set_oid   = set_oid   || '';
            temp_oid  = temp_oid  || '';
            drive_oid = drive_oid || '';

            $(el).parent().on('click touchstart', function () {
                // Protect against two events
                if (vis.detectBounce(this)) return;

                $.metroDialog({
                    width:     width,
                    height:    height,
                    overlay:   options.overlay || false,
                    shadow:    options.shadow || false,
                    flat:      options.flat || false,
                    draggable: options.draggable || false,
                    icon:      options.icon  ? '<img src="' + options.icon + '">' : (options.icon_class ? '<span class="' + options.icon_class + '"></span>' : false),
                    title:     options.title || '',
                    content:   '',
                    onShow:    function(_dialog){
                        var val_set_id = vis.states.attr(set_oid + '.val');
                        if (val_set_id === undefined || val_set_id === null || val_set_id === '') {
                            val_set_id = '';
                        } else {
                            val_set_id = val_set_id.toFixed(1);
                        }

                        var val_temp_id = vis.states.attr(temp_oid + '.val');
                        if (val_temp_id === undefined || val_temp_id === null || val_temp_id === '') {
                            val_temp_id = '';
                        } else {
                            val_temp_id = val_temp_id.toFixed(1);
                        }

                        var val_drive_id = vis.states.attr(drive_oid + '.val');
                        if (val_drive_id === undefined || val_drive_id === null || val_drive_id === '') {
                            val_drive_id = '';
                        } else {
                            val_drive_id = val_drive_id.toFixed(0);
                        }

                        var content = _dialog.children('.content');
                        var html = '<div style="margin: 24px 12px 0 12px;">';
                        if (set_oid) {
                            html += '<div data-oid="' + set_oid + '" id="metroSlider_' + wid + '" class="slider" data-role="slider"></div>';
                        }
                        html += '</div>';
                        html += '<table style="margin-top: 12px; margin-left: 12px; font-size:14px;display:inline-block;">' +
                                (set_oid   ? ('<tr><td>' + (options.label_set   || ('Set temperature')) + ':</td><td><span class="metro-dialog-string" data-oid="' + set_oid   + '">' + val_set_id   + '</span>°C</td></tr>') : '') +
                                (temp_oid  ? ('<tr><td>' + (options.label_temp  || _('Actual temp.'))   + ':</td><td><span class="metro-dialog-string" data-oid="' + temp_oid  + '">' + val_temp_id  + '</span>°C</td></tr>') : '') +
                                (drive_oid ? ('<tr><td>' + (options.label_drive || _('Valve position')) + ':</td><td><span class="metro-dialog-string" data-oid="' + drive_oid + '">' + val_drive_id + '</span>%</td></tr>')  : '') +
                                '</table>';

                        content.html(html);
                        sliderOptions.min = sliderOptions.min === undefined ? 6  : parseFloat(sliderOptions.min);
                        sliderOptions.max = sliderOptions.max === undefined ? 30 : parseFloat(sliderOptions.max);
                        if (set_oid) {
                            vis.binds.metro.slider(document.getElementById('metroSlider_' + wid), sliderOptions);
                            vis.states.bind(set_oid   + '.val', function (e, newVal, oldVal) {
                                $('span.metro-dialog-string[data-oid="' + set_oid + '"]').html(parseFloat(newVal).toFixed(1));
                            });
                        }
                        if (temp_oid) {
                            vis.states.bind(temp_oid  + '.val', function (e, newVal, oldVal) {
                                $('span.metro-dialog-string[data-oid="' + temp_oid + '"]').html(parseFloat(newVal).toFixed(1));
                            });
                        }
                        if (drive_oid) {
                            vis.states.bind(drive_oid + '.val', function (e, newVal, oldVal) {
                                $('span.metro-dialog-string[data-oid="' + drive_oid + '"]').html(parseFloat(newVal).toFixed(0));
                            });
                        }
                    }
                });
            });
        },
        onHeatingOid: function (widgetID, view, value, attr, isCss) {
            var obj = vis.objects[value];
            var changed = [];
            // If it is real object and SETPOINT
            if (obj && obj.common && obj.common.role === 'level.temperature') {
                var roles = [];
                // If some attributes are not set
                if (!vis.views[view].widgets[widgetID].data.temp_oid) {
                    roles.push('value.temperature');
                }
                if (!vis.views[view].widgets[widgetID].data.drive_oid) {
                    roles.push('value.valve');
                }
                if (!vis.views[view].widgets[widgetID].data.hum_oid) {
                    roles.push('value.humidity');
                }
                if (!vis.views[view].widgets[widgetID].data.lowbat_oid) {
                    roles.push('indicator.battery');
                }
                if (roles.length) {
                    var result = vis.findByRoles(value, roles);
                    if (result) {
                        for (var r in result) {
                            switch (r) {
                                case 'value.temperature':
                                    changed.push('temp_oid'); // remember attr to update it
                                    vis.views[view].widgets[widgetID].data.temp_oid = result[r];
                                    vis.widgets[widgetID].data.temp_oid = result[r];
                                    break;

                                case 'value.valve':
                                    changed.push('drive_oid'); // remember attr to update it
                                    vis.views[view].widgets[widgetID].data.drive_oid = result[r];
                                    vis.widgets[widgetID].data.drive_oid = result[r];
                                    break;

                                case  'value.humidity':
                                    changed.push('hum_oid');
                                    vis.views[view].widgets[widgetID].data.hum_oid = result[r];
                                    vis.widgets[widgetID].data.hum_oid = result[r];
                                    break;

                                case  'indicator.battery':
                                    changed.push('lowbat_oid');
                                    vis.views[view].widgets[widgetID].data.lowbat_oid = result[r];
                                    vis.widgets[widgetID].data.lowbat_oid = result[r];
                                    break
                            }
                        }
                    }
                }

                if (!vis.views[view].widgets[widgetID].data.controlmode_oid) {
                    var result = vis.findByName(value, 'CONTROL_MODE');
                    if (result) {
                        changed.push('controlmode_oid');
                        vis.views[view].widgets[widgetID].data.controlmode_oid = result;
                        vis.widgets[widgetID].data.controlmode_oid = result;
                    }
                }
                if (!vis.views[view].widgets[widgetID].data.windowopen_oid) {
                    var result = vis.findByName(value, 'WINDOW_STATE');
                    if (result) {
                       changed.push('windowopen_oid');
                        vis.views[view].widgets[widgetID].data.windowopen_oid = result;
                        vis.widgets[widgetID].data.windowopen_oid = result;
                    }
                }
                if (!vis.views[view].widgets[widgetID].data.windowopen_oid) {
                    var result = vis.findByName(value, 'WINDOW_OPEN_REPORTING');
                    if (result) {
                        changed.push('windowopen_oid');
                        vis.views[view].widgets[widgetID].data.windowopen_oid = result;
                        vis.widgets[widgetID].data.windowopen_oid = result;
                    }
                }
            }

            return changed.length ? changed : null;
        }
    };

	console.log('Metro version: "' + vis.binds.metro.version + '"');
</script>

<script id="tplMetroSlider" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroSlider&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee&quot; style=&quot;top: 21px; left: 41px; width: 78px; height: 17px;&quot;&gt; &lt;div class=&quot;metro vis-widget-prev-body &quot; style=&quot;padding:2px&quot;&gt; &lt;div data-o data-oid-working=&quot;&quot; class=&quot;slider&quot; data-role=&quot;slider&quot;&gt;&lt;div class=&quot;complete&quot; style=&quot;background-color: rgb(32, 32, 255); width: 0;&quot;&gt;&lt;/div&gt;&lt;a class=&quot;marker&quot; style=&quot;background-color: rgb(32, 32, 255); left: 0;&quot;&gt;&lt;/a&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color" data-vis-set="metro" data-vis-type="ctrl,slider,dimmer" data-vis-name="Slider horizontal">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width:360px; height: 16px;">
        <div class="metro vis-widget-body <%== this.data.attr('class') %>" style="padding:2px" >
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <div data-oid="<%= this.data.attr('oid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" id="metroSlider_<%= this.data.attr('wid') %>" class="slider" data-role="slider"></div>
            <div <%= (el) -> vis.binds.metro.slider(el, {min: data.min, max: data.max, step: data.step, color: data.sliderBgColor, completeColor:data.sliderCompleteColor, markerColor: data.sliderMarkerColor}) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroSliderVertical" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroSliderVertical&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock ui-selectee&quot; style=&quot;top: 215px; left: 460px; width: 12px; height: 73px;&quot;&gt; &lt;div class=&quot;metro vis-widget-prev-body &quot; style=&quot;padding:2px&quot;&gt; &lt;div data-o data-oid-working=&quot;&quot; style=&quot;height: 100%;&quot; class=&quot;slider vertical&quot; data-role=&quot;slider&quot;&gt;&lt;div class=&quot;complete&quot; style=&quot;height: 12px;&quot;&gt;&lt;/div&gt;&lt;a class=&quot;marker&quot; style=&quot;background-color: rgb(75, 0, 130); top: 344px;&quot;&gt;&lt;/a&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color" data-vis-set="metro" data-vis-type="ctrl,slider,dimmer" data-vis-name="Slider vertical">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 16px; height:360px;">
        <div class="metro vis-widget-body <%== this.data.attr('class') %>" style="padding:2px" >
            <% if (vis.editMode) { %>
                <div class="editmode-helper" />
            <% } %>
            <div data-oid="<%= this.data.attr('oid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" style="height: 100%;" id="metroSlider_<%= this.data.attr('wid') %>" class="slider vertical" class="slider" data-role="slider"></div>
            <div <%= (el) -> vis.binds.metro.slider(el, {min: data.min, max: data.max, step: data.step, color: data.sliderBgColor, completeColor: data.sliderCompleteColor, markerColor: data.sliderMarkerColor}) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroValueBoolCheckbox" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroValueBoolCheckbox&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock ui-selectee&quot; style=&quot;left: 110px; top: 81px; height: 44px; width: 21px;&quot; &gt; &lt;div class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div class=&quot;input-control checkbox&quot;&gt; &lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;w00003_checkbox&quot; data-o&gt; &lt;span class=&quot;check&quot;&gt;&lt;/span&gt; &lt;/label&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-attrs="html_prepend;html_append;oid" data-vis-set="metro" data-vis-type="ctrl,bool" data-vis-name="Bool Checkbox">
    <div class="vis-widget <%== this.data.attr('class') %>" style="" id="<%= this.data.attr('wid') %>" >
        <div class="metro vis-widget-body">
            <div class="input-control checkbox">
                <label>
                    <%== this.data.attr("html_prepend") %>
                    <input type="checkbox" name="<%= this.data.attr('wid') %>_checkbox" id="<%= this.data.attr('wid') %>_checkbox" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.checkbox(el) %>/>
                    <span class="check"></span>
                    <%== this.data.attr("html_append") %>
                </label>
            </div>
            <div <%= (el) -> vis.binds.metro.inputControl(el) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroValueBoolSwitch" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroValueBoolSwitch&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock ui-selectee&quot; style=&quot;left: 110px; top: 432px;&quot; &gt; &lt;div class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div class=&quot;input-control switch&quot;&gt; &lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;w00002_checkbox&quot; data-o&gt; &lt;span class=&quot;check&quot;&gt;&lt;/span&gt; &lt;/label&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="metro" data-vis-type="ctrl,bool" data-vis-name="Switch" data-vis-attrs="html_prepend;html_append;oid">
    <div class="vis-widget <%== this.data.attr('class') %>" style="" id="<%= this.data.attr('wid') %>" >
        <div class="metro vis-widget-body">
            <div class="input-control switch">
                <label>
                    <%== this.data.attr("html_prepend") %>
                    <input type="checkbox" name="<%= this.data.attr('wid') %>_checkbox" id="<%= this.data.attr('wid') %>_checkbox" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.checkbox(el) %>/>
                    <span class="check"></span>
                    <%== this.data.attr("html_append") %>
                </label>
            </div>
            <div <%= (el) -> vis.binds.metro.inputControl(el) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileNav" type="text/ejs" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileNav&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev  &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div data-metro-nav-select=&quot;false&quot; data-metro-class-active=&quot;bg-magenta&quot; data-metro-class=&quot;bg-indigo&quot; style=&quot;width: 100%; height: 100%;&quot; class=&quot;vis-metro-nav tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-new&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;vis-metro-nav brand ribbed-steel&quot; data-metro-nav=&quot;&quot; data-metro-class-active=&quot;ribbed-indigo&quot; data-metro-class=&quot;ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Navigation&lt;/span&gt; &lt;div class=&quot;vis-metro-nav badge bg-cyan&quot; data-metro-nav=&quot;&quot; data-metro-class-active=&quot;bg-teal&quot; data-metro-class=&quot;bg-cyan&quot;&gt;&lt;i class=&quot;icon-file&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="nav_view;hover[true]/checkbox;transform[true]/checkbox;select_current/checkbox;label[Navigation];" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_active[bg-magenta]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.badge;badge_bg_class[bg-cyan]/style,metro-,bg-;badge_bg_class_active[bg-teal]/style,metro-,bg-;" data-vis-attrs3="badge_src/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-attrs4="icon_badge[icon-file]/style,iconFont,icon-,,Icon ;brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs5="brand_bg_class_active[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs6="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[icon-new]/style,iconFont,icon-,,Icon ;" data-vis-attrs7="group.effects;sync/checkbox;hide_effect/effect;hide_duration/slider,0,10000,100;hide_options/effect-options;show_effect/effect;show_duration/slider,0,10000,100;show_options/effect-options;body-background/color" class="vis-tpl" data-vis-type="static,navigation" data-vis-set="metro" data-vis-name="Tile Navigation">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;"  <%= (el) -> vis.binds.basic.navigation(el, {nav_view:data.attr('nav_view'),hideOptions:{effect:data.attr('hide_effect'),options:(data.attr('hide_options')?data.attr('hide_options'):{}),duration:data.attr('hide_duration')},showOptions:{effect:data.attr('show_effect'),options:(data.attr('show_options')?data.attr('show_options'):{}),duration:data.attr('show_duration')},sync:data.attr('sync'),background:data.attr('body-background')}); %> >
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>">
            <div data-metro-nav="<%= this.data.attr('nav_view') %>" data-metro-nav-select="<%= this.data.attr('select_current') %>" data-metro-class-active="<%= this.data.attr('bg_class_active') %>" data-metro-class="<%= this.data.attr('bg_class') %>" style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="vis-metro-nav tile <%= this.data.attr('hover') ? 'hover' : '' %>" >
                <div class="tile-content icon <%= this.data.attr('icon_class') ? '' : 'icon-custom' %>">
                    <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                    <i class="<%= this.data.attr("icon_class") %>"></i>
                </div>
                <div class="vis-metro-nav brand" data-metro-nav="<%= this.data.attr('nav_view') %>" data-metro-class-active="<%= this.data.attr('brand_bg_class_active') %>" data-metro-class="<%= this.data.attr('brand_bg_class') %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                    <div class="vis-metro-nav badge" data-metro-nav="<%= this.data.attr('nav_view') %>" data-metro-class-active="<%= this.data.attr('badge_bg_class_active') %>" data-metro-class="<%= this.data.attr('badge_bg_class') %>">
                        <%== this.data.attr('badge_src') ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr("badge_src") + '"/>' : '' %>
                        <i class="<%= this.data.attr("icon_badge") %>"></i>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileString" type="text/ejs" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileString&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content fg-white icon&quot;&gt; &lt;i class=&quot;icon-sun-3&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt; String &lt;/span&gt; &lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;icon-sunrise&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="content_prepend;content_append;content_oid/id;" data-vis-attrs0="state_oid/id;hover/checkbox;transform/checkbox;select_on_true/checkbox;bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs1="group.icon;icon_false/image;icon_true/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class_false[icon-sun-3]/style,iconFont,icon-,,Icon ;icon_class_true[icon-weather-4]/style,iconFont,icon-,,Icon ;" data-vis-attrs2="group.badge;label_prepend;label_append;label_id/id;badge_bg_class_false[bg-cyan]/style,metro-,bg-;badge_bg_class_true[bg-teal]/style,metro-,bg-;icon_badge_false[icon-sunrise]/style,iconFont,icon-,,Icon ;icon_badge_true[icon-sunrise]/style,iconFont,icon-,,Icon ;brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs3="badge_src_false/image;badge_src_true/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" class="vis-tpl" data-vis-set="metro" data-vis-type="val" data-vis-name="Tile String">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-oid="<%= this.data.attr('state_oid') %>">
            <div style="width: 100%; height: 100%;"  id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val')) === '_true') && this.data.attr('select_on_true') ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>" >
                <div class="tile-content fg-white icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('content_prepend') %><%== vis.states.attr(this.data.attr('content_oid') + '.val') %><%== this.data.attr('content_append') %>
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>">
                    <span class="label fg-white">
                        <%== this.data.attr('label_prepend') %><%== vis.states.attr(this.data.attr('label_id') + '.val') %><%== this.data.attr('label_append') %>
                    </span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileBool" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileBool&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev  &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt;&lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-newspaper&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Boolean&lt;/span&gt; &lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;icon-folder&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;hover[true]/checkbox;transform/checkbox;select_on_true/checkbox;label_false[false];label_true[true];" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false/image;icon_true/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[icon-cancel-2]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="icon_class_true[icon-checkmark]/style,iconFont,icon-,,Icon ;" data-vis-attrs5="group.badge;icon_badge_false[icon-folder-2]/style,iconFont,icon-,,Icon ;icon_badge_true[icon-folder]/style,iconFont,icon-,,Icon ;" data-vis-attrs6="badge_bg_class_false[bg-cyan]/style,metro-,bg-;badge_bg_class_true[bg-teal]/style,metro-,bg-;" data-vis-attrs7="badge_src_false/image;badge_src_true/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-attrs8="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-set="metro" data-vis-type="val,bool" data-vis-name="Tile Bool">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-oid="<%= this.data.attr('oid') %>">
            <div style="width: 100%; height: 100%;"  id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val')) === '_true') && this.data.attr('select_on_true') ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>" >
                <div class="tile-content icon <%= this.data.attr("icon_class" + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) + '"/>' : '' %>
                    <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                    <span class="label fg-white"><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %></span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileBoolDialog" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileBoolDialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt;&lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-newspaper&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Boolean&lt;/span&gt; &lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;icon-folder&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;hover[true]/checkbox;transform/checkbox;select_on_true/checkbox;label_false[false];label_true[true];" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false/image;icon_true/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[icon-cancel-2]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="icon_class_true[icon-checkmark]/style,iconFont,icon-,,Icon ;" data-vis-attrs5="group.badge;icon_badge_false[icon-folder-2]/style,iconFont,icon-,,Icon ;icon_badge_true[icon-folder]/style,iconFont,icon-,,Icon ;" data-vis-attrs6="badge_bg_class_false[bg-cyan]/style,metro-,bg-;badge_bg_class_true[bg-teal]/style,metro-,bg-;" data-vis-attrs7="badge_src_false/image;badge_src_true/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-attrs8="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs9="group.dialog;contains_view/views;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;dialog_icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="bool,dialog" data-vis-name="Tile Bool Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-oid="<%= this.data.attr('oid') %>">
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val')) === '_true') && this.data.attr('select_on_true') ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>" >
                <div class="tile-content icon <%= this.data.attr("icon_class" + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) + '"/>' : '' %>
                    <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                    <span class="label fg-white"><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %></span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tileDialog(el, data.wid, data.contains_view, {title:data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:data.dialog_width,height:data.dialog_height}) %> style="padding: 42px 10px 10px;">
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileList8" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileList8&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev  vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt;&lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt;&lt;i class=&quot;icon-pencil&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;Value list&lt;/span&gt;&lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;hover/checkbox;transform/checkbox;label_prepend;label_append;group.bg-and-text;label(0-7)[Value list];" data-vis-attrs0="bg_class(0-7)[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="group.icon;icon(0-7)/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs2="icon_class(0-7)[icon-pencil]/style,iconFont,icon-,,Icon ;" data-vis-attrs3="group.badge;icon_badge(0-7)[icon-pencil]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="badge_bg_class(0-7)[bg-cyan]/style,metro-,bg-;" data-vis-attrs5="brand_bg_class(0-7)[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs6="badge_src/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-set="metro" data-vis-type="val,list" data-vis-name="Tile ValueList 8">
        <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
            <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-oid="<%= this.data.attr('oid') %>">
                <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) %>" >
                    <div class="tile-content icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) ? '' : 'icon-custom' %>">
                        <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) + '"/>' : '' %>
                        <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) %>"></i>
                    </div>
                    <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) %>">
                        <span class="label fg-white"><%== this.data.attr('label_prepend') %><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) %><%== this.data.attr('label_append') %></span>
                        <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'), 10)) %>">
                            <i class="<%= this.data.attr('icon_badge' + vis.states.attr(this.data.attr('oid') + '.val')) %>"></i>
                            <%== this.data.attr('badge_src') ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr("badge_src") + '"/>' : '' %>
                        </div>
                    </div>
                </div>
                <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
            </div>
        </div>
    </div>
</script>

<script id="tplMetroTileBoolNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileBoolNumber&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev  vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt;&lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt;&lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-cancel-2&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;Bool/Num&lt;/span&gt;&lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="state_oid/id;select_on_true/checkbox;number_oid/id;hover[true]/checkbox;transform/checkbox;label_false;label_true;label_append;" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false_src/image;icon_true_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[icon-cancel-2]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="icon_class_true[icon-checkmark]/style,iconFont,icon-,,Icon ;" data-vis-attrs5="group.badge;icon_badge_false[]/style,iconFont,icon-,,Icon ;icon_badge_true[]/style,iconFont,icon-,,Icon ;badge_bg_class_false[bg-cyan]/style,metro-,bg-;badge_bg_class_true[bg-teal]/style,metro-,bg-;" data-vis-attrs6="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs7="badge_src_false/image;badge_src_true/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-set="metro" data-vis-type="val,bool" data-vis-name="Tile Bool / Number">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-oid="<%= this.data.attr('state_oid') %>">
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val')) === '_true') && this.data.select_on_true ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>" >
                <div class="tile-content icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val')) + '_src') ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))  + '_src')+ '"/>' : '' %>
                    <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>">
                    <span class="label fg-white"><%== (this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) || '') + ((vis.states.attr(this.data.attr('number_oid') + '.val') !== undefined) ? vis.states.attr(this.data.attr('number_oid') + '.val') : '') %><%== this.data.attr('label_append') || '' %></span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileState" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileState&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev  vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;tile hover bg-indigo&quot;&gt;&lt;div class=&quot;tile-content icon&quot;&gt;&lt;i class=&quot;icon-unlocked&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;State&lt;/span&gt;&lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="state_oid/id;value;select_on_value/checkbox;hover[true]/checkbox;transform[true]/checkbox;label_false;label_true;" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false/image;icon_true/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[]/style,iconFont,icon-,,Icon ;icon_class_true[]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="group.badge;icon_badge_false[]/style,iconFont,icon-,,Icon ;icon_badge_true[]/style,iconFont,icon-,,Icon ;" data-vis-attrs5="badge_bg_class_false[bg-cyan]/style,metro-,bg-;" data-vis-attrs6="badge_bg_class_true[bg-teal]/style,metro-,bg-;" data-vis-attrs7="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs8="brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs9="badge_src_false/image;badge_src_true/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-set="metro" data-vis-type="ctrl" data-vis-name="Tile State">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-val="<%= this.data.attr('value') %>" data-oid="<%= this.data.attr('state_oid') %>" <%= (el) -> vis.binds.basic.state(el) %> >
            <div style="width: 100%; height: 100%;"  id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value')) === '_true') && this.data.select_on_value ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>" >
                <div class="tile-content icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) + '"/>' : '' %>
                    <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>">
                    <span class="label fg-white"><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %></span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    </div>
                </div>
            </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileToggle" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileToggle&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot; data-oid=&quot;dev1&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-minus-2&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Toggle&lt;/span&gt; &lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;icon-minus&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;hover[true]/checkbox;transform[true]/checkbox;select_on_true/checkbox;label_false;label_true;" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false/image;icon_true/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[icon-minus]/style,iconFont,icon-,,Icon ;icon_class_true[icon-plus]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="group.badge;icon_badge_false[icon-minus-2]/style,iconFont,icon-,,Icon ;icon_badge_true[icon-plus-2]/style,iconFont,icon-,,Icon ;" data-vis-attrs5="badge_bg_class_false[bg-cyan]/style,metro-,bg-;" data-vis-attrs6="badge_bg_class_true[bg-teal]/style,metro-,bg-;" data-vis-attrs7="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs8="brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs9="badge_src_false/image;badge_src_true/image;badge_width/slider,0,100,1;badge_height/slider,0,100,1;badge_top[0]/slider,0,100,1;badge_left[0]/slider,0,100,1;" data-vis-attrs10="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;oidTrueValue;oidFalseValue;" data-vis-set="metro" data-vis-type="ctrl,bool" data-vis-name="Tile Toggle">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%"
            class="metro vis-widget-body <%== this.data.attr('class') %>"
            data-oid="<%= this.data.attr('oid') %>"
            data-url-true="<%=  this.data.attr('urlTrue') %>"
            data-url-false="<%= this.data.attr('urlFalse') %>"
            data-oid-true="<%=  this.data.attr('oidTrue') %>"
            data-oid-false="<%= this.data.attr('oidFalse') %>"
            data-oid-true-value="<%=  this.data.attr('oidTrueValue') %>"
            data-oid-false-value="<%= this.data.attr('oidFalseValue') %>"
            <%= (el) -> vis.binds.basic.toggle(el) %>
            >
            <div style="width: 100%; height: 100%;"  id="metroTile_<%= this.data.attr('wid') %>" class="tile icon <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val')) === '_true') && this.data.attr('select_on_true') ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>" >
                <div class="tile-content icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) + '"/>' : '' %>
                    <i class="<%= vis.states.attr(this.data.attr('oid') + '.val') ? this.data.attr("icon_class_true") : this.data.attr("icon_class_false") %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                    <span class="label fg-white"><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %></span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileStateNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileStateNumber&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-meter-slow&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;State/Num&lt;/span&gt;&lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="state_oid/id;value;select_on_value/checkbox;number_oid/id;hover[true]/checkbox;transform[true]/checkbox;label_false;label_true;label_append;" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false_src/image;icon_true_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[icon-meter-slow]/style,iconFont,icon-,,Icon ;icon_class_true[icon-meter-fast]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="group.badge;badge_bg_class[]/style,metro-,bg-;hide_on_0/checkbox;" data-vis-attrs5="group.brand;brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs6="brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-set="metro" data-vis-type="val" data-vis-name="Tile State / val Badge Number">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;" >
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" data-val="<%= this.data.attr('value') %>" data-oid="<%= this.data.attr('state_oid') %>" <%= (el) -> vis.binds.basic.state(el) %> >
            <div style="width: 100%; height: 100%;"  id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value')) === '_true') && this.data.select_on_value ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>" >
                <div class="tile-content icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value')) + '_src') ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value')) + '_src') + '"/>' : '' %>
                    <i class="<%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>">
                    <span class="label fg-white"><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %><%== this.data.attr('label_append') %></span>
                    <div class="badge <%= this.data.attr('badge_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>">
                        <i class="<%= this.data.attr('icon_badge' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'), 'compare', this.data.attr('value'))) %>"></i>
                        <%== this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('badge_top') ? ('top:' + this.data.attr('badge_top') + '%;') : '') + (this.data.attr('badge_left') ? ('left:' + this.data.attr('badge_left') + '%;') : '') + (this.data.attr('badge_width') ? ('width:' + this.data.attr('badge_width') + '%;') : '') + (this.data.attr('badge_height') ? ('height:' + this.data.attr('badge_height') + '%;') : '') + '" src="' + this.data.attr('badge_src' + vis.binds.metro.format(vis.states.attr(this.data.attr('state_oid') + '.val'))) + '"/>' : '' %><%= (vis.states.attr(this.data.attr("number_oid") + '.val') !== undefined) ? vis.states.attr(this.data.attr("number_oid") + '.val') : '' %>
                    </div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileDimmer" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDimmer&quot; style=&quot; position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 122px; height: 77px; padding: 3px;&quot;&gt;&lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt;&lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile bg-indigo&quot;&gt; &lt;div class=&quot;tile-content&quot; style=&quot; zoom: 0.5;&quot;&gt; &lt;div style=&quot;float:left; height: 90px;&quot;&gt; &lt;img width=&quot;90px&quot; src=&quot;widgets/metro/img/light_light_dim.png&quot;&gt; &lt;/div&gt; &lt;div style=&quot;margin: 30px 70px 0 0; float:right&quot;&gt; &lt;div class=&quot;input-control switch&quot;&gt; &lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;w00004_checkbox&quot; data-o&gt; &lt;span class=&quot;check&quot;&gt;&lt;/span&gt; &lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;clear: both; margin: 0 12px;&quot; class=&quot;slider&quot; data-role=&quot;slider&quot;&gt;&lt;div class=&quot;complete&quot; style=&quot;width: 0;&quot;&gt;&lt;/div&gt;&lt;a class=&quot;marker&quot; style=&quot;left: 0;&quot;&gt;&lt;/a&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Dimmer&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step[1];hover/checkbox;transform/checkbox;label;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color" data-vis-set="metro" data-vis-type="ctrl,dimmer" data-vis-name="Tile Dimmer">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width:287px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >

            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content">
                <div style="float:left; height: 90px;">
                <%
                var str = vis.states.attr(this.data.oid + '.val');
                var val = parseFloat(str);
                if (str === true || str === 'true') val = 1;
                if (isNaN(val)) val = 0;

                var min = this.data.attr('min');
                if (min !== undefined && min !== null && min !== '') {
                    min = parseFloat(min);
                } else {
                    min = 0;
                }

                var max = this.data.attr('max');
                if (max !== undefined && max !== null && max !== '') {
                    max = parseFloat(max);
                } else {
                    max = 1;
                }

                val = (val - min) / (max - min);

                if (val === 1) {
                %>
                <img width="90px" src="widgets/metro/img/light_light_dim_100.png"/>
                <% } else if (val >= 0.9) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_90.png"/>
                <% } else if (val >= 0.8) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_80.png"/>
                <% } else if (val >= 0.7) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_70.png"/>
                <% } else if (val >= 0.6) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_60.png"/>
                <% } else if (val >= 0.5) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_50.png"/>
                <% } else if (val >= 0.4) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_40.png"/>
                <% } else if (val >= 0.3) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_30.png"/>
                <% } else if (val >= 0.2) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_20.png"/>
                <% } else if (val >= 0.1) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_10.png"/>
                <% } else if (val >= 0.01) { %>
                <img width="90px" src="widgets/metro/img/light_light_dim_00.png"/>
                <% } else { %>
                <img width="90px" src="widgets/metro/img/light_light_dim.png"/>
                <% } %>
                </div>
                <div style="margin: 30px 70px 0 0; float:right">
                    <div class="input-control switch">
                        <label>
                            <input type="checkbox" name="<%= this.data.attr('wid') %>_checkbox" id="<%= this.data.attr('wid') %>_checkbox" data-oid="<%= this.data.attr('oid') %>" <%= (el) -> vis.binds.basic.checkbox(el, true, data.min, data.max) %>/>
                            <span class="check"></span>
                        </label>
                    </div>
                </div>
                    <div style="clear: both; margin: 0 12px;" data-oid="<%= this.data.attr('oid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" id="metroSlider_<%= this.data.attr('wid') %>" class="slider" data-role="slider"></div>
                    <div <%= (el) -> vis.binds.metro.slider(el, {min: parseFloat(data.min), max: parseFloat(data.max), step: parseFloat(data.step), color: data.sliderColor, completeColor: data.sliderCompleteColor, markerColor: data.sliderMarkerColor}) %>></div>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %><%= (el) -> vis.binds.metro.inputControl(el) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileDimmerDialog" type="text/ejs" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDimmerDialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt;&lt;div class=&quot;tile-content&quot; style=&quot;text-align: center&quot;&gt;&lt;img width=&quot;90%&quot; src=&quot;widgets/metro/img/light_light_dim.png&quot;&gt;&lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;Dimmer Dialog&lt;/span&gt;&lt;/div&gt; &lt;/div&gt;&lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step[1];digits/number;hover[true]/checkbox;transform[true]/checkbox;label;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color;" data-vis-attrs3="group.dialog;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox" class="vis-tpl" data-vis-set="metro" data-vis-type="ctrl,dimmer,dialog" data-vis-name="Tile Dimmer Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >

            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content" style="text-align: center">
                <%
                var str = vis.states.attr(this.data.oid + '.val');
                var val = parseFloat(str);
                if (str === true || str === 'true') val = 1;
                if (isNaN(val)) val = 0;

                var min = this.data.attr('min');
                if (min !== undefined && min !== null && min !== '') {
                    min = parseFloat(min);
                } else {
                    min = 0;
                }

                var max = this.data.attr('max');
                if (max !== undefined && max !== null && max !== '') {
                    max = parseFloat(max);
                } else {
                    max = 1;
                }

                val = (val - min) / (max - min);

                if (val === 1) {
                %>
                <img width="90%" src="widgets/metro/img/light_light_dim_100.png"/>
                <% } else if (val >= 0.9) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_90.png"/>
                <% } else if (val >= 0.8) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_80.png"/>
                <% } else if (val >= 0.7) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_70.png"/>
                <% } else if (val >= 0.6) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_60.png"/>
                <% } else if (val >= 0.5) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_50.png"/>
                <% } else if (val >= 0.4) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_40.png"/>
                <% } else if (val >= 0.3) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_30.png"/>
                <% } else if (val >= 0.2) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_20.png"/>
                <% } else if (val >= 0.1) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_10.png"/>
                <% } else if (val >= 0.01) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_00.png"/>
                <% } else { %>
                <img width="90%" src="widgets/metro/img/light_light_dim.png"/>
                <% } %>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                </div>
            </div>
            <div
                <%= (el) -> vis.binds.metro.tileDialogSlider(el, data.wid, data.oid, data['oid-working'], {title: data.label, flat: data.dialog_flat, shadow: data.dialog_shadow, overlay: data.dialog_modal, icon: data.dialog_icon_src, icon_class: data.dialog_icon_class, draggable: data.dialog_draggable, width: 300, height: 180}, {min: data.min, max: data.max, step: parseFloat(data.step), color: data.sliderColor, completeColor: data.sliderCompleteColor, markerColor: data.sliderMarkerColor, digits: data.digits}) %> style="padding: 42px 10px 10px;">
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileShutter" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileShutter&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div id=&quot;19l1ml014&quot; class=&quot;vis-widget_prev  vis-widget-lock &quot; style=&quot;width: 287px; height: 120px; padding: 3px; zoom: 0.5;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; id=&quot;metroTile_19l1ml014&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content&quot;&gt; &lt;div style=&quot;float:left; height: 90px;&quot;&gt; &lt;img width=&quot;90px&quot; src=&quot;widgets/metro/img/fts_shutter_100.png&quot;&gt; &lt;/div&gt; &lt;div style=&quot;margin: 30px 70px 0 0; float:right&quot;&gt; &lt;div class=&quot;input-control switch&quot;&gt; &lt;label&gt; &lt;input type=&quot;checkbox&quot; name=&quot;19l1ml014_checkbox&quot; id=&quot;19l1ml014_checkbox&quot; data-oid=&quot;nothing_selected&quot; data-oid-working=&quot;&quot;&gt; &lt;span class=&quot;check&quot;&gt;&lt;/span&gt; &lt;/label&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;clear: both; margin: 0 12px;&quot; data-oid=&quot;nothing_selected&quot; data-oid-working=&quot;&quot; class=&quot;slider&quot; data-role=&quot;slider&quot;&gt;&lt;div class=&quot;complete&quot; style=&quot;width: 0;&quot;&gt;&lt;/div&gt;&lt;a class=&quot;marker&quot; style=&quot;left: 0;&quot;&gt;&lt;/a&gt;&lt;/div&gt;  &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;Shutter&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step[1];hover/checkbox;transform/checkbox;label;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color" data-vis-set="metro" data-vis-type="ctrl,shutter" data-vis-name="Tile Shutter">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width:287px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >

            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content">
                    <div style="float:left; height: 90px;">
                    <%
                    var str = vis.states.attr(this.data.oid + '.val');
                    var val = parseFloat(str);
                    if (str === true || str === 'true') val = 1;
                    if (isNaN(val)) val = 0;

                    var min = this.data.attr('min');
                    if (min !== undefined && min !== null && min !== '') {
                        min = parseFloat(min);
                    } else {
                        min = 0;
                    }

                    var max = this.data.attr('max');
                    if (max !== undefined && max !== null && max !== '') {
                        max = parseFloat(max);
                    } else {
                        max = 1;
                    }

                    val = (val - min) / (max - min);
                    val = 1 - val;
                    if (val === 1) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_100.png"/>
                    <% } else if (val >= 0.9) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_90.png"/>
                    <% } else if (val >= 0.8) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_80.png"/>
                    <% } else if (val >= 0.7) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_70.png"/>
                    <% } else if (val >= 0.6) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_60.png"/>
                    <% } else if (val >= 0.5) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_50.png"/>
                    <% } else if (val >= 0.4) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_40.png"/>
                    <% } else if (val >= 0.3) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_30.png"/>
                    <% } else if (val >= 0.2) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_20.png"/>
                    <% } else if (val >= 0.1) { %>
                    <img width="90px" src="widgets/metro/img/fts_shutter_10.png"/>
                    <% } else { %>
                    <img width="90px" src="widgets/metro/img/fts_window_2w.png"/>
                    <% } %>
                    </div>
                    <div style="margin: 30px 70px 0 0; float:right">
                        <div class="input-control switch">
                            <label>
                                <input type="checkbox" name="<%= this.data.attr('wid') %>_checkbox" id="<%= this.data.attr('wid') %>_checkbox" data-oid="<%= this.data.attr('oid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" <%= (el) -> vis.binds.basic.checkbox(el, true, data.min, data.max) %>/>
                                <span class="check"></span>
                            </label>
                        </div>
                    </div>
                    <div style="clear: both; margin: 0 12px;" data-oid="<%= this.data.attr('oid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" id="metroSlider_<%= this.data.attr('wid') %>" class="slider" data-role="slider"></div>
                    <div <%= (el) -> vis.binds.metro.slider(el, {min: data.min, max: data.max, step: parseFloat(data.step), color:data.sliderColor,completeColor:data.sliderCompleteColor,markerColor:data.sliderMarkerColor}) %>></div>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                </div>
            </div>


            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %><%= (el) -> vis.binds.metro.inputControl(el) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileShutterDialog" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileShutterDialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content&quot; style=&quot;text-align: center&quot;&gt; &lt;img width=&quot;90px&quot; src=&quot;widgets/metro/img/fts_shutter_100.png&quot;&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Shutter dialog&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step[1];hover[true]/checkbox;transform[true]/checkbox;label;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color;" data-vis-attrs3="group.dialog;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox" data-vis-set="metro" data-vis-type="ctrl,shutter,dialog" data-vis-name="Tile Shutter Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >

            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content" style="text-align: center">
                <%
                var str = vis.states.attr(this.data.oid + '.val');
                var val = parseFloat(str);
                if (str === true || str === 'true') val = 1;
                if (isNaN(val)) val = 0;

                var min = this.data.attr('min');
                if (min !== undefined && min !== null && min !== '') {
                    min = parseFloat(min);
                } else {
                    min = 0;
                }

                var max = this.data.attr('max');
                if (max !== undefined && max !== null && max !== '') {
                    max = parseFloat(max);
                } else {
                    max = 1;
                }

                val = (val - min) / (max - min);
                val = 1 - val;

                if (val === 1) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_100.png"/>
                <% } else if (val >= 0.9) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_90.png"/>
                <% } else if (val >= 0.8) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_80.png"/>
                <% } else if (val >= 0.7) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_70.png"/>
                <% } else if (val >= 0.6) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_60.png"/>
                <% } else if (val >= 0.5) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_50.png"/>
                <% } else if (val >= 0.4) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_40.png"/>
                <% } else if (val >= 0.3) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_30.png"/>
                <% } else if (val >= 0.2) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_20.png"/>
                <% } else if (val >= 0.1) { %>
                <img width="90px" src="widgets/metro/img/fts_shutter_10.png"/>
                <% } else { %>
                <img width="90px" src="widgets/metro/img/fts_window_2w.png"/>
                <% } %>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                </div>
            </div>
            <div
                <%= (el) -> vis.binds.metro.tileDialogSlider(el, data.wid, data.oid, data['oid-working'], {title:data.label,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:300,height: 180}, {min: data.min, max: data.max, step: parseFloat(data.step),color:data.sliderColor,completeColor:data.sliderCompleteColor,markerColor:data.sliderMarkerColor}) %> style="padding: 42px 10px 10px;">
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileHeating" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileHeating&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock &quot; style=&quot;width: 250px; height: 136px; padding: 3px; zoom: 0.5;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile bg-indigo&quot;&gt; &lt;div class=&quot;tile-content&quot;&gt; &lt;div style=&quot;float:left; height: 90px;&quot;&gt; &lt;img width=&quot;90px&quot; src=&quot;widgets/metro/img/sani_heating_temp.png&quot;&gt; &lt;/div&gt; &lt;div style=&quot;float: right; padding-top: 16px; padding-right: 12px;&quot;&gt; &lt;table style=&quot;color:white;font-size:11px;display:inline-block;&quot;&gt; &lt;tr&gt;&lt;td&gt;Set temperature:&lt;/td&gt;&lt;td&gt;0%&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Actual temperature:&lt;/td&gt;&lt;td&gt;0.0°C&lt;/td&gt;&lt;/tr&gt; &lt;tr&gt;&lt;td&gt;Drive position:&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;/tr&gt; &lt;/table&gt; &lt;/div&gt; &lt;div style=&quot;clear: both; margin: 0 12px;&quot; class=&quot;slider&quot; data-role=&quot;slider&quot;&gt;&lt;/div&gt;  &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Heating&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="set_oid/id/onHeatingOid;temp_oid/id;drive_oid/id;hum_oid/id;hover/checkbox;transform/checkbox;label;min[6]/slider,-20,40,1;max[30]/slider,-20,40,1;step;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="label_set;label_temp;label_drive;label_humidity;" data-vis-attrs3="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color;" data-vis-attrs4="group.service;lowbat_oid/id;icon_lowbat[icon-battery]/style,iconFont,icon-,,Icon;controlmode_oid/id;icon_control_mode_0[icon-clock]/style,iconFont,icon-,,Icon;icon_control_mode_1[icon-radio-unchecked]/style,iconFont,icon-,,Icon;icon_control_mode_2[icon-briefcase]/style,iconFont,icon-,,Icon;windowopen_oid/id;icon_windowopen[icon-enter]/style,iconFont,icon-,,Icon;badge_bg_class[]/style,metro-,bg-;" data-vis-set="metro" data-vis-type="ctrl,heating" data-vis-name="Tile Heating">
    <% // some data processing to prepare the data 
        var size_badge      = 0;

        if (this.data.attr('controlmode_oid')) size_badge++;
        if (this.data.attr('windowopen_oid'))  size_badge++;
        if (this.data.attr('lowbat_oid'))      size_badge++; 
    %>
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width:287px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content">
                    <div style="float:left; height: 90px;">
                        <img width="90px" src="widgets/metro/img/sani_heating_temp.png"/>
                    </div>
                    <div style="float: right; padding-top: 16px; padding-right: 12px;">
                        <table style="color:white;font-size:11px;display:inline-block;">
                            <% if (this.data.attr('set_oid')) { %>
                                <tr><td><%== this.data.attr('label_set')   ? this.data.attr('label_set')   : _('Set temperature') %>:</td><td><%= vis.binds.metro.format(vis.states.attr(this.data.attr('set_oid') + '.val'), '°') %></td></tr>
                            <% } %>
                            <% if (this.data.attr('temp_oid')) { %>
                                <tr><td><%== this.data.attr('label_temp')  ? this.data.attr('label_temp')  : _('Actual temp.') %>:</td><td><%=    vis.binds.metro.format(vis.states.attr(this.data.attr('temp_oid') + '.val'), '°') %></td></tr>
                            <% } %>
                            <% if (this.data.attr('drive_oid')) { %>
                                <tr><td><%== this.data.attr('label_drive') ? this.data.attr('label_drive') : _('Valve position') %>:</td><td><%=  vis.binds.metro.format(vis.states.attr(this.data.attr('drive_oid') + '.val'), '%') %></td></tr>
                            <% } %>
                            <% if (this.data.attr('hum_oid')) { %>
                                <tr><td><%== this.data.attr('label_humidity') ? this.data.attr('label_humidity') : _('Humidity') %>:</td><td><%=  vis.binds.metro.format(vis.states.attr(this.data.attr('hum_oid') + '.val'), '%') %></td></tr>
                            <% } %>
                        </table>
                    </div>
                    <div style="clear: both; margin: 0 12px;" data-oid="<%= this.data.attr('set_oid') %>" data-oid-working="<%= this.data.attr('oid-working') %>" id="metroSlider_<%= this.data.attr('wid') %>" class="slider" data-role="slider"></div>
                    <div <%= (el) -> vis.binds.metro.slider(el, {color: data.sliderColor, completeColor: data.sliderCompleteColor, markerColor: data.sliderMarkerColor, max: (data.max === '' || data.max === undefined || data.max === null) ? 30 : data.max, min: (data.min === '' || data.min === undefined || data.min === null) ? 6 : data.min, step: parseFloat(data.step) || 0.1, hideIfNoOid: true}) %>></div>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                    <% if (size_badge > 0) { %>
                        <div class="badge <%= this.data.attr('badge_bg_class') %>" style="width: <%= size_badge * 19 %>px">
                        <% if (this.data.attr('controlmode_oid')) { %>
                            <i class="<%= this.data.attr('icon_control_mode_' + vis.states.attr(this.data.attr('controlmode_oid') + '.val')) %>" style="padding: 0 1px;"></i>
                        <% } %>
                        <% if (this.data.attr('lowbat_oid')) { %>
                            <i class="<%= (vis.states.attr(this.data.attr('lowbat_oid') + '.val') === true || vis.states.attr(this.data.attr('lowbat_oid') + '.val') === 'true' || vis.states.attr(this.data.attr('lowbat_oid') + '.val') == 1) ? this.data.attr('icon_lowbat') : 'metro-invisible' %>" style="padding: 0 1px;"></i>
                        <% } %>
                        <% if (this.data.attr('windowopen_oid')) { %>
                            <i class="<%= (vis.states.attr(this.data.attr('windowopen_oid') + '.val') === true || vis.states.attr(this.data.attr('windowopen_oid') + '.val') === 'true' || vis.states.attr(this.data.attr('windowopen_oid') + '.val') == 1) ? this.data.attr('icon_windowopen') : 'metro-invisible' %>" style="padding: 0 1px;"></i>
                        <% } %>
                        </div>
                    <% } %>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %><%= (el) -> vis.binds.metro.inputControl(el) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileHeatingDialog" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileHeatingDialog&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content&quot; style=&quot;text-align: center&quot;&gt; &lt;img width=&quot;105px&quot; src=&quot;widgets/metro/img/sani_heating_temp.png&quot;&gt; &lt;/div&gt; &lt;div style=&quot;color:white; font-size:11px; margin-top: 84px; padding-left: 12px;&quot;&gt; Target: °C, Actual: °C &lt;/div&gt; &lt;div class=&quot;brand &quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-attrs="set_oid/id/onHeatingOid;temp_oid/id;drive_oid/id;hover[true]/checkbox;transform[true]/checkbox;label;min[6]/slider,-20,40,1;max[30]/slider,-20,40,1;step;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="label_short_set;label_short_temp;label_short_drive;label_set;label_temp;label_drive;" data-vis-attrs3="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color;" data-vis-attrs4="group.dialog;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox" data-vis-set="metro" data-vis-type="ctrl,heating,dialog" data-vis-name="Tile Heating Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content" style="text-align: center">
                     <img width="105px" src="widgets/metro/img/sani_heating_temp.png"/>
                </div>
                <div style="color:white; font-size:11px; margin-top: 84px; padding-left: 12px;">
                    <%== this.data.attr('set_oid')   ? (      (this.data.attr('label_short_set')   ? this.data.attr('label_short_set')   : _('Target'))         + ': ' + vis.binds.metro.format(vis.states.attr(this.data.attr('set_oid')   + '.val'), '°')) : '' %>
                    <%== this.data.attr('temp_oid')  ? (' ' + (this.data.attr('label_short_temp')  ? this.data.attr('label_short_temp')  : _('Actual'))         + ': ' + vis.binds.metro.format(vis.states.attr(this.data.attr('temp_oid')  + '.val'), '°')) : '' %>
                    <%== this.data.attr('drive_oid') ? (' ' + (this.data.attr('label_short_drive') ? this.data.attr('label_short_drive') : _('Valve position')) + ': ' + vis.binds.metro.format(vis.states.attr(this.data.attr('drive_oid') + '.val'), '%')) : '' %>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tileDialogHeating(el, data.wid, data.set_oid, data.temp_oid, data.drive_oid, {title: data.label, flat: data.dialog_flat, shadow: data.dialog_shadow, overlay: data.dialog_modal, icon: data.dialog_icon_src, icon_class: data.dialog_icon_class, draggable: data.dialog_draggable, width: 300, height: 180, label_set: this.data.attr('label_set'), label_temp: this.data.attr('label_temp'), label_drive: this.data.attr('label_drive')}, {color: data.sliderColor, completeColor: data.sliderCompleteColor, markerColor: data.sliderMarkerColor, max: data.max, min: data.min, step: parseFloat(data.step)}); %>></div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileDialogStatic" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDialogStatic&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev  vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content fg-white icon&quot;&gt; &lt;i class=&quot;icon-home&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand &quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;&lt;/span&gt; &lt;div class=&quot;badge &quot;&gt;&lt;i class=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt;" data-vis-attrs="label;content_oid/id;hover[true]/checkbox;transform[true]/checkbox;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-attrs2="group.badge;icon_badge[]/style,iconFont,icon-,,Icon ;" data-vis-attrs3="badge_bg_class[]/style,metro-,bg-;" data-vis-attrs4="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs5="group.dialog;html/html;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;dialog_icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="ctrl,dialog" data-vis-name="static - Tile Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>" >
                <div class="tile-content fg-white icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
                    <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                    <i class="<%= this.data.attr("icon_class") %>"></i>
                    <%== this.data.attr('content_oid') ? vis.states.attr(this.data.content_oid + '.val') : '' %>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                    <div class="badge <%= this.data.attr("badge_bg_class") %>"><i class="<%= this.data.attr("icon_badge") %>"></i></div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tileDialog(el, data.wid, null, {title: data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay: data.dialog_modal, icon: data.dialog_icon_src, icon_class: data.dialog_icon_class, draggable: data.dialog_draggable, width: data.dialog_width, height: data.dialog_height}, data.html) %> style="padding: 42px 10px 10px;">
                <div class="caption"></div>
                <div class="content"></div>
            </div>
        </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>

<script id="tplMetroTileStaticDialogNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileStaticDialogNumber&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 120px; height: 120px; padding: 3px; z-index: 0;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-book&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand bg-orange&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;&lt;/span&gt; &lt;div style=&quot;display: none;&quot; class=&quot;badge &quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;/div&gt;" data-vis-attrs="content_oid/id;number_oid/id;hide_on_0/checkbox;hover[true]/checkbox;transform[true]/checkbox;bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs0="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[icon-pictures]/style,iconFont,icon-,,Icon ;" data-vis-attrs1="group.badge;label;badge_bg_class[]/style,metro-,bg-;brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.dialog;html/html;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;dialog_icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="static,dialog" data-vis-name="Tile Dialog / val - Badge Number">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
        <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %> <%= this.data.attr('bg_class') %>" >
            <div class="tile-content icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
                <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                <i class="<%= this.data.attr("icon_class") %>"></i>
                <%== this.data.attr('content_oid') ? vis.states.attr(this.data.content_oid + '.val') : '' %>
            </div>
            <div class="brand <%= this.data.attr("brand_bg_class") %>">
                <span class="label fg-white"><%= this.data.attr("label") %></span>
                <div style="<%= vis.states.attr(this.data.number_oid + '.val') > 0 ? '' : 'display:none;' %>" class="badge <%= this.data.attr("badge_bg_class") %>"><%= vis.states.attr(this.data.number_oid + '.val') %></div>
            </div>
        </div>
        <div <%= (el) -> vis.binds.metro.tileDialog(el, data.wid, null, {title:data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:data.dialog_width,height:data.dialog_height}, data.html) %> style="padding: 42px 10px 10px;">
            <div class="caption"></div>
            <div class="content"></div></div>
            </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>

<script id="tplMetroTileDialogString" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDialogString&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-film&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Dialog Object&lt;/span&gt; &lt;div class=&quot;badge &quot;&gt;&lt;i class=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="content_oid/id;dialog_oid/id;hover[true]/checkbox;transform[true]/checkbox;bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs0="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-attrs1="group.badge;label;icon_badge[]/style,iconFont,icon-,,Icon ;badge_bg_class[]/style,metro-,bg-;brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.dialog;dialog_fontSize[12px];dialog_padding[0px 0px 0px 0px];dialog_textAlign;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;dialog_icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="val,dialog" data-vis-name="Tile Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
    <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >

        <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>" >
        <div class="tile-content icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
        <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
        <i class="<%= this.data.attr("icon_class") %>"></i>
        <%== this.data.attr('content_oid') ? vis.states.attr(this.data.content_oid + '.val') : '' %>
    </div>
    <div class="brand <%= this.data.attr("brand_bg_class") %>">
    <span class="label fg-white"><%= this.data.attr("label") %></span>
    <div class="badge <%= this.data.attr("badge_bg_class") %>"><i class="<%= this.data.attr("icon_badge") %>"></i></div>
    </div>
    </div>

    <div <%= (el) -> vis.binds.metro.tileDialogString(el, data.wid, data.dialog_oid, {title:data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:data.dialog_width,height:data.dialog_height},data.dialog_fontSize, data.dialog_padding, data.dialog_textAlign) %> style="padding: 42px 10px 10px;">
    <div class="caption"></div>
    <div class="content"></div></div>
    </div>
    <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>

<script id="tplMetroTileStringDialogNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileStringDialogNumber&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot;class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-film&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Dialog Object&lt;/span&gt; &lt;div class=&quot;badge bg-cyan&quot;&gt;1&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="content_oid/id;dialog_oid/id;number_oid/id;hide_on_0/checkbox;hover[true]/checkbox;transform[true]/checkbox;bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs0="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[icon-database]/style,iconFont,icon-,,Icon ;" data-vis-attrs1="group.badge;label;badge_bg_class[]/style,metro-,bg-;brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.dialog;dialog_fontSize[12px];dialog_padding[0px 0px 0px 0px];dialog_textAlign;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;dialog_icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="val,dialog" data-vis-name="Tile Dialog / Badge Number">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>" >
                <div class="tile-content icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
                    <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                    <i class="<%= this.data.attr("icon_class") %>"></i>
                    <%== this.data.attr('content_oid') ? vis.states.attr(this.data.content_oid + '.val') : '' %>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                <div style="<%= vis.states.attr(this.data.number_oid + '.val') > 0 ? '' : 'display:none;' %>" class="badge <%= this.data.attr("badge_bg_class") %>"><%= vis.states.attr(this.data.number_oid + '.val') %></div>
            </div>
        </div>

        <div <%= (el) -> vis.binds.metro.tileDialogString(el, data.wid, data.dialog_oid, {title:data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:data.dialog_width,height:data.dialog_height},data.dialog_fontSize,data.dialog_padding,data.dialog_textAlign) %> style="padding: 42px 10px 10px;">
            <div class="caption"></div>
            <div class="content"></div></div>
        </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>

<script id="tplMetroTileDialog" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-pictures&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;View Container&lt;/span&gt; &lt;div class=&quot;badge &quot;&gt;&lt;i class=&quot;&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="contains_view/views;hover[true]/checkbox;transform[true]/checkbox;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs2="icon_class[icon-pictures]/style,iconFont,icon-,,Icon ;" data-vis-attrs3="group.badge;label;icon_badge[]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="badge_bg_class[]/style,metro-,bg-;" data-vis-attrs5="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs6="group.dialog;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;" data-vis-attrs7="dialog_icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="container,dialog" data-vis-name="Tile Dialog">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>" >
                <div class="tile-content icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
                    <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                    <i class="<%= this.data.attr("icon_class") %>"></i>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                    <div class="badge <%= this.data.attr("badge_bg_class") %>"><i class="<%= this.data.attr("icon_badge") %>"></i></div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tileDialog(el, data.wid, data.contains_view, {title:data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:data.dialog_width,height:data.dialog_height}) %> style="padding: 42px 10px 10px;">
                <div class="caption"></div>
                <div class="content"></div>
            </div>
        </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>

<script id="tplMetroTileDialogNumber" type="text/ejs" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDialogNumber&quot; style=&quot;position: relative; text-align: initial;padding: 4px&quot;&gt;&lt;div class=&quot;vis-widget_prev ui-draggable-handle &quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-pictures&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Dialog num&lt;/span&gt; &lt;div class=&quot;badge bg-teal&quot;&gt;2&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="contains_view/views;number_oid/id;hide_on_0/checkbox;hover[true]/checkbox;transform[true]/checkbox;" data-vis-attrs0="bg_class[]/style,metro-,bg- ribbed-;" data-vis-attrs1="group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[]/style,iconFont,icon-,,Icon ;" data-vis-attrs2="group.badge;label;badge_bg_class[]/style,metro-,bg-;" data-vis-attrs3="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs4="group.dialog;dialog_width;dialog_height;dialog_title;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;" data-vis-attrs5="dialog_icon_class[]/style,iconFont,icon-,,Icon ;" class="vis-tpl" data-vis-set="metro" data-vis-type="container,dialog" data-vis-name="Tile Dialog / val - Badge Number">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>" >
                <div class="tile-content icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
                    <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                    <i class="<%= this.data.attr("icon_class") %>"></i>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                    <div style="<%= vis.states.attr(this.data.number_oid + '.val') > 0 ? '' : 'display:none;' %>" class="badge <%= this.data.attr("badge_bg_class") %>"><%= vis.states.attr(this.data.number_oid + '.val') %></div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tileDialog(el, data.wid, data.contains_view, {title:data.dialog_title,flat:data.dialog_flat,shadow:data.dialog_shadow,overlay:data.dialog_modal,icon:data.dialog_icon_src,icon_class:data.dialog_icon_class,draggable:data.dialog_draggable,width:data.dialog_width,height:data.dialog_height}) %> style="padding: 42px 10px 10px;">
                <div class="caption"></div>
                <div class="content"></div>
            </div>
        </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>

<script id="tplMetroTileFrameDialogNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileFrameDialogNumber&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 136px; height: 136px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt;&lt;div class=&quot;tile-content icon&quot;&gt;&lt;i class=&quot;icon-cloud&quot;&gt;&lt;/i&gt;&lt;/div&gt;&lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;iFrame Dialog&lt;/span&gt; &lt;div style=&quot;&quot; class=&quot;badge &quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt; &lt;div class=&quot;caption&quot;&gt;&lt;/div&gt; &lt;div class=&quot;content&quot;&gt;&lt;/div&gt;&lt;/div&gt; &lt;/div&gt;  &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="content;hover[true]/checkbox;transform[true]/checkbox;bg_class[bg-indigo]/style,metro-,bg- ribbed-;group.icon;icon_src/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;icon_class[icon-accessibility]/style,iconFont,icon-,,Icon ;" data-vis-attrs0="group.badge;label;badge_label;badge_bg_class[]/style,metro-,bg-;brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs1="group.dialog;dialog_url[https:~~maps.google.com~maps?f=q&amp;source=s_q&amp;hl=de&amp;geocode=&amp;q=Karlsruhe&amp;ie=UTF8&amp;t=m&amp;z=12&amp;output=embed&amp;iwloc=near];dialog_scroll;dialog_width[400px];dialog_height[300px];dialog_title[Google maps];dialog_flat[true]/checkbox;dialog_shadow[true]/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;dialog_icon_src/image;dialog_icon_class[icon-globe]/style,iconFont,icon-,,Icon ;" data-vis-set="metro" data-vis-type="iframe,dialog" data-vis-name="Tile Dialog / iFrame">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >
            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>" >
                <div class="tile-content icon <%= this.data.attr("icon_class") ? '' : 'icon-custom' %>">
                    <%== this.data.attr("icon_src") ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr("icon_src") + '"/>' : '' %>
                    <i class="<%= this.data.attr("icon_class") %>"></i>
                    <%== this.data.attr('content') || '' %>
                </div>
                <div class="brand <%= this.data.attr("brand_bg_class") %>">
                    <span class="label fg-white"><%= this.data.attr('label') %></span>
                    <div style="" class="badge <%= this.data.attr('badge_bg_class') %>"><%= this.data.attr('badge_label') %></div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tileDialog(el, data.wid, null, {title: data.dialog_title, flat: data.dialog_flat, shadow: data.dialog_shadow, overlay: data.dialog_modal, icon: data.dialog_icon_src, icon_class: data.dialog_icon_class, draggable: data.dialog_draggable, width: data.dialog_width, height: data.dialog_height, scroll: data.dialog_scroll}, data.dialog_url, true) %> style="padding: 42px 10px 10px;">
                <div class="caption"></div>
                <div class="content"></div></div>
            </div>
        <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
    </div>
</script>



<script id="tplMetroTileToggleNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileToggle&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body &quot; data-oid=&quot;dev1&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt; &lt;div class=&quot;tile-content icon&quot;&gt; &lt;i class=&quot;icon-minus-2&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt; &lt;span class=&quot;label fg-white&quot;&gt;Toggle&lt;/span&gt; &lt;div class=&quot;badge bg-cyan&quot;&gt;&lt;i class=&quot;icon-minus&quot;&gt;&lt;/i&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;  &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;number_oid/id;hide_on_0/checkbox;hover[true]/checkbox;transform[true]/checkbox;select_on_true/checkbox;label_false;label_true;" data-vis-attrs0="bg_class_false[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="bg_class_true[bg-teal]/style,metro-,bg- ribbed-;" data-vis-attrs2="group.icon;icon_false/image;icon_true/image;icon_width/slider,0,100,1;icon_height/slider,0,100,1;icon_top/slider,0,100,1;icon_left/slider,0,100,1;" data-vis-attrs3="icon_class_false[icon-minus]/style,iconFont,icon-,,Icon ;icon_class_true[icon-plus]/style,iconFont,icon-,,Icon ;" data-vis-attrs4="group.badge;badge_bg_class[]/style,metro-,bg-;" data-vis-attrs5="badge_bg_class_false[bg-cyan]/style,metro-,bg-;" data-vis-attrs6="badge_bg_class_true[bg-teal]/style,metro-,bg-;" data-vis-attrs7="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs8="brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs9="group.ccontrol;urlTrue;urlFalse;oidTrue/id;oidFalse/id;oidTrueValue;oidFalseValue;" data-vis-set="metro" data-vis-type="ctrl,bool" data-vis-name="Tile Toggle - Bage Number">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;">
        <div style="width: 100%; height: 100%"
            class="metro vis-widget-body <%== this.data.attr('class') %>"
            data-oid="<%= this.data.attr('oid') %>"
            data-url-true="<%=  this.data.attr('urlTrue') %>"
            data-url-false="<%= this.data.attr('urlFalse') %>"
            data-oid-true="<%=  this.data.attr('oidTrue') %>"
            data-oid-false="<%= this.data.attr('oidFalse') %>"
            data-oid-true-value="<%=  this.data.attr('oidTrueValue') %>"
            data-oid-false-value="<%= this.data.attr('oidFalseValue') %>"
            <%= (el) -> vis.binds.basic.toggle(el) %>
            >
            <div style="width: 100%; height: 100%;"  id="metroTile_<%= this.data.attr('wid') %>" class="tile icon <%= this.data.attr('hover') ? 'hover ' : '' %><%= (vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val')) === '_true') && this.data.attr('select_on_true') ? 'selected' : '' %> <%= this.data.attr('bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>" >
                <div class="tile-content icon <%= this.data.attr('icon_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '' : 'icon-custom' %>">
                    <%== this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) ? '<img style="position: absolute;' + (this.data.attr('icon_top') ? ('top:' + this.data.attr('icon_top') + '%;') : '') + (this.data.attr('icon_left') ? ('left:' + this.data.attr('icon_left') + '%;') : '') + (this.data.attr('icon_width') ? ('width:' + this.data.attr('icon_width') + '%;') : '') + (this.data.attr('icon_height') ? ('height:' + this.data.attr('icon_height') + '%;') : '') + '" src="' + this.data.attr('icon' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) + '"/>' : '' %>
                    <i class="<%= vis.states.attr(this.data.attr('oid') + '.val') ? this.data.attr("icon_class_true") : this.data.attr("icon_class_false") %>"></i>
                </div>
                <div class="brand <%= this.data.attr('brand_bg_class' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %>">
                    <span class="label fg-white"><%== this.data.attr('label' + vis.binds.metro.format(vis.states.attr(this.data.attr('oid') + '.val'))) %></span>
                    <div style="<%= vis.states.attr(this.data.number_oid + '.val') > 0 ? '' : 'display:none;' %>" class="badge <%= this.data.attr("badge_bg_class") %>"><%= vis.states.attr(this.data.number_oid + '.val') %></div>
                </div>
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
    </div>
</script>

<script id="tplMetroTileDimmerDialogactiv" type="text/ejs" data-vis-prev="&lt;div id=&quot;prev_tplMetroTileDimmerDialog&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev vis-widget-lock&quot; style=&quot;width: 120px; height: 120px; padding: 3px;&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%&quot; class=&quot;metro vis-widget-prev-body&quot;&gt; &lt;div style=&quot;width: 100%; height: 100%;&quot; class=&quot;tile hover bg-indigo&quot;&gt;&lt;div class=&quot;tile-content&quot; style=&quot;text-align: center&quot;&gt;&lt;img width=&quot;90%&quot; src=&quot;widgets/metro/img/light_light_dim.png&quot;&gt;&lt;/div&gt; &lt;div class=&quot;brand ribbed-steel&quot;&gt;&lt;span class=&quot;label fg-white&quot;&gt;Dimmer Dialog&lt;/span&gt;&lt;/div&gt; &lt;/div&gt;&lt;div style=&quot;padding: 42px 10px 10px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid;oid-working;min;max;step[1];digits/number;hover[true]/checkbox;transform[true]/checkbox;label;" data-vis-attrs0="bg_class[bg-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs1="brand_bg_class[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs2="brand_bg_class_false[ribbed-steel]/style,metro-,bg- ribbed-;" data-vis-attrs3="brand_bg_class_true[ribbed-indigo]/style,metro-,bg- ribbed-;" data-vis-attrs4="group.slider;sliderColor/color;sliderCompleteColor/color;sliderMarkerColor/color;" data-vis-attrs5="group.dialog;dialog_flat/checkbox;dialog_shadow/checkbox;dialog_draggable[true]/checkbox;dialog_modal/checkbox;autoclose/slider,0,30000,100;" class="vis-tpl" data-vis-set="metro" data-vis-type="ctrl,dimmer,dialog" data-vis-name="Tile Dimmer Dialog activ">
    <div id="<%= this.data.attr('wid') %>" class="vis-widget" style="width: 136px; height: 136px; padding: 3px;" <%= (el) -> vis.preloadImages(['widgets/metro/img/light_light_dim_100.png','widgets/metro/img/light_light_dim_90.png','widgets/metro/img/light_light_dim_80.png','widgets/metro/img/light_light_dim_70.png','widgets/metro/img/light_light_dim_60.png','widgets/metro/img/light_light_dim_50.png','widgets/metro/img/light_light_dim_40.png','widgets/metro/img/light_light_dim_30.png','widgets/metro/img/light_light_dim_20.png','widgets/metro/img/light_light_dim_10.png','widgets/metro/img/light_light_dim.png']); %>>
        <div style="width: 100%; height: 100%" class="metro vis-widget-body <%== this.data.attr('class') %>" >

            <div style="width: 100%; height: 100%;" id="metroTile_<%= this.data.attr('wid') %>" class="tile <%= this.data.attr('hover') ? 'hover ' : '' %><%= this.data.attr('bg_class') %>">
                <div class="tile-content" style="text-align: center">
                <%
                var str = vis.states.attr(this.data.oid + '.val');
                var val = parseFloat(str);
                if (str === true || str === 'true') val = 1;
                if (isNaN(val)) val = 0;

                var min = this.data.attr('min');
                if (min !== undefined && min !== null && min !== '') {
                    min = parseFloat(min);
                } else {
                    min = 0;
                }

                var max = this.data.attr('max');
                if (max !== undefined && max !== null && max !== '') {
                    max = parseFloat(max);
                } else {
                    max = 1;
                }

                val = (val - min) / (max - min);

                if (val === 1) {
                %>
                <img width="90%" src="widgets/metro/img/light_light_dim_100.png"/>
                <% } else if (val >= 0.9) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_90.png"/>
                <% } else if (val >= 0.8) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_80.png"/>
                <% } else if (val >= 0.7) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_70.png"/>
                <% } else if (val >= 0.6) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_60.png"/>
                <% } else if (val >= 0.5) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_50.png"/>
                <% } else if (val >= 0.4) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_40.png"/>
                <% } else if (val >= 0.3) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_30.png"/>
                <% } else if (val >= 0.2) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_20.png"/>
                <% } else if (val >= 0.1) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_10.png"/>
                <% } else if (val >= 0.01) { %>
                <img width="90%" src="widgets/metro/img/light_light_dim_00.png"/>
                <% } else { %>
                <img width="90%" src="widgets/metro/img/light_light_dim.png"/>
                <% } %>
                </div>

		<div class="brand <%= vis.states.attr(this.data.attr('oid') + '.val') > 0 ? this.data.attr("brand_bg_class_true") : this.data.attr("brand_bg_class_false") %>">
                    <span class="label fg-white"><%= this.data.attr("label") %></span>
                </div>
            </div>
            <div
                <%= (el) -> vis.binds.metro.tileDialogSlider(el, data.wid, data.oid, data['oid-working'], {title: data.label, flat: data.dialog_flat, shadow: data.dialog_shadow, overlay: data.dialog_modal, icon: data.dialog_icon_src, icon_class: data.dialog_icon_class, draggable: data.dialog_draggable, width: 300, height: 180}, {min: data.min, max: data.max, step: parseFloat(data.step), color: data.sliderColor, completeColor: data.sliderCompleteColor, markerColor: data.sliderMarkerColor, digits: data.digits}) %> style="padding: 42px 10px 10px;">
            </div>
            <div <%= (el) -> vis.binds.metro.tile(el, data.transform) %>></div>
        </div>
	<div class="popup-helper" <%= (el) -> vis.binds.jqueryui.dialogAutoClose(el, data.attr('autoclose')) %> />
    </div>
</script>


<!-- --------------metro.html--- END -->
<!-- --------------players.html--- START -->
<!--
    ioBroker.vis players Widget-Set
    version: "0.1.0"
    Copyright 10.2016-2017 instalator<vvvalt@mail.ru>
-->
<link rel="stylesheet" href="./vis_files/style(2).css">
<script type="text/javascript" src="./vis_files/players.js"></script>

<script id="tplWinampPlayer" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img style=&quot;width:112px; height:52px&quot; src=&quot;widgets/players/img/winamp.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid_play/id/onPlayWinampChanged;oid_next/id;oid_prev/id;oid_stop/id;oid_pause/id;oid_seek/id;oid_vol/id;oid_mute/id;oid_shuffle/id;oid_repeat/id;oid_artist/id;oid_title/id;oid_album/id;oid_bitrate/id;" data-vis-set="players" data-vis-type="val" data-vis-beta="true" data-vis-name="Winamp Player">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:354px; height:161px" id="<%= this.data.attr('wid') %>" data-vis-resizable='{"disabled":true, "handles":"e"}'>
    <map id="consoleMap" name="consoleMap">
        <area class="winamp-btn" data-id="repeat"   shape="circle" coords="323,47,9"   alt="Toggle Repeat">
        <area class="winamp-btn" data-id="shuffle"  shape="circle" coords="324,71,9"   alt="Toggle Shuffle">
        <area class="winamp-btn" data-id="playlist" shape="circle" coords="304,99,11"  alt="Toggle Playlist">
        <area class="winamp-btn" data-id="library"  shape="circle" coords="329,99,11"  alt="Toggle dia Library">
        <area class="winamp-btn" data-id="mute"     shape="circle" coords="171,129,7"  alt="Toggle Mute">
        <area class="winamp-btn" data-id="prev"     shape="circle" coords="19,124,11"  alt="Previous Track">
        <area class="winamp-btn" data-id="next"     shape="circle" coords="138,124,11" alt="Next Track">
        <area class="winamp-btn" data-id="stop"     shape="circle" coords="108,125,11" alt="Stop">
        <area class="winamp-btn" data-id="pause"    shape="circle" coords="78,125,11"  alt="Pause">
        <area class="winamp-btn" data-id="play"     shape="circle" coords="48,125,11"  alt="Play">
    </map>
    <div class="winamp">
        <div class="winamp-head">
            <img class="winamp-head_r" src="widgets/players/img/winamp/waBoxTitleRight.gif">
            <img class="winamp-head_l" src="widgets/players/img/winamp/waBoxTitleLeft.gif">
            <div class="winamp-head_c">
                <img class="winamp-head_c-bg" src="widgets/players/img/winamp/waBoxBg.gif">
                <img class="winamp-head_c-img" src="widgets/players/img/winamp/waConsoleTitle.gif">
            </div>
        </div>
        <div class="winamp-body">
            <img src="widgets/players/img/winamp/console.gif" usemap="#consoleMap" width="354" height="144" border="0">
            <img class="winamp-repeat" src="widgets/players/img/winamp/waLightOn.gif" border="0" >
            <img class="winamp-shuffle" src="widgets/players/img/winamp/waLightOn.gif" border="0" >
            <div class="winamp-vol">
                <div class="winamp-vol-slider"></div>
                <span class="volume"></span>
            </div>
            <div class="winamp-seek">
                <div class="winamp-seek-slider"></div>
                <span class="seek"></span>
            </div>
            <div class="winamp-artist">Artist: </div>
            <div class="winamp-title">Title: </div>
            <div class="winamp-album">Album: </div>
            <div class="winamp-bitrate">kbps: </div>
        </div>
    </div>
       <% vis.binds.players.createWidgetWinampPlayer(this.data.wid, this.view, this.data, this.style); %>
	</div>
</script>

<script id="tplWinampPlaylist" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img style=&quot;width:112px; height:52px&quot; src=&quot;widgets/players/img/winamp_plst.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid_playlist/id/onWinampPlaylistChanged;oid_playid/id;oid_track/id;oid_clear/id;" data-vis-set="players" data-vis-type="val" data-vis-beta="true" data-vis-name="Winamp Playlist">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:354px; height:161px" id="<%= this.data.attr('wid') %>" >
            <div class="win-plst-head">
                <img class="winamp-head_r" src="widgets/players/img/winamp/waBoxTitleRight.gif">
                <img class="winamp-head_l" src="widgets/players/img/winamp/waBoxTitleLeft.gif">
                <img class="winamp-plst-close" src="widgets/players/img/winamp/closeBox.gif">
                <div class="winamp-head_c">
                    <img class="winamp-head_c-bg" src="widgets/players/img/winamp/waBoxBg.gif">
                    <img class="winamp-head_c-img" src="widgets/players/img/winamp/waPlaylistTitle.gif">
                </div>
            </div>
            <div class="win-plst-body">
                <div class="winamp-playlist">
                    <ul class="winamp-playlist-container">
                    </ul>
                </div>
            </div>
            <div class="win-plst-footer">
                <img class="win-plst-footer-resize" src="widgets/players/img/winamp/waResize.gif">
                <img class="win-plst-footer-l" src="widgets/players/img/winamp/waFooterLeft.gif">
                <div class="win-plst-footer-b">
                    <img class="win-plst-footer-bg" src="widgets/players/img/winamp/waFooterBg.gif">
                    <img class="win-plst-btn-clear" src="widgets/players/img/winamp/plclear.gif">
                </div>
            </div>

    <% vis.binds.players.createWidgetWinampPlaylist(this.data.wid, this.view, this.data, this.style); %>
	</div>
</script>

<script id="tplWinampBrowser" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img style=&quot;width:112px; height:52px&quot; src=&quot;widgets/players/img/winamp_plst.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid_browser/id/onWinampBrowserChanged;oid_add/id;" data-vis-set="players" data-vis-type="val" data-vis-beta="true" data-vis-name="Winamp Browser">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width:354px; height:161px" id="<%= this.data.attr('wid') %>" >
            <div class="win-browser-head">
                <img class="winamp-head_r" src="widgets/players/img/winamp/waBoxTitleRight.gif">
                <img class="winamp-head_l" src="widgets/players/img/winamp/waBoxTitleLeft.gif">
                <img class="winamp-brwsr-close" src="widgets/players/img/winamp/closeBox.gif">
                <div class="winamp-head_c">
                    <img class="winamp-head_c-bg" src="widgets/players/img/winamp/waBoxBg.gif">
                    <img class="winamp-head_c-img" src="widgets/players/img/winamp/titleML.gif">
                </div>
            </div>
            <div class="win-plst-body">
                <div class="medialibrary">
                    <table class="mlTable">
                        <tbody>
                        <tr>
                            <td class="mlHead">Name<img border="0" src="widgets/players/img/winamp/asc.gif"></td>
                            <!--<td class="mlHead">Date</td>-->
                            <!--<td class="mlHead">Size</td>-->
                        </tr>
                        <tr class="mlChoice">
                            <td class="mlChoice">
                                <span class="mlItem">..</span>
                                <div class="winamp-browser">
                                    <ul class="browser-container"></ul>
                                </div>
                            </td>
					    </tr>
                        </tbody>
                    </table>
                </div>
                <!--<div class="medialibrary-loading">
                    <img src="widgets/players/img/winamp/loading.gif">
                </div>-->
            </div>
            <div class="win-plst-footer"">
                <img class="winamp-head_r" src="widgets/players/img/winamp/waResize.gif">
                <img class="winamp-head_l" src="widgets/players/img/winamp/waFooterLeft.gif">
                <div class="win-plst-footer-b">
                    <img class="win-plst-footer-bg" src="widgets/players/img/winamp/waFooterBg.gif">
                    <img class="browser-btn-add" src="widgets/players/img/winamp/add.gif">
                </div>
            </div>


    <% vis.binds.players.createWidgetWinampBrowser(this.data.wid, this.view, this.data, this.style); %>
	</div>
</script>

<script id="tplSonosMobilePlayer" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img style=&quot;width:112px; height:52px&quot; src=&quot;widgets/players/img/sonos.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid_play/id/onPlaySonosChanged;oid_state/id;oid_next/id;oid_prev/id;oid_pause/id;oid_vol/id;oid_artist/id;oid_title/id;oid_album/id;oid_cover/id;oid_next_title/id;text_next;" data-vis-set="players" data-vis-beta="true" data-vis-update-style="true" data-vis-name="Sonos Player">
    <div class="vis-widget sonos-body sonos-landscape <%== this.data.attr('class') %>" style="width: 354px; height: 161px; background: black" id="<%= this.data.attr('wid') %>">
        <div class="sonos-status-container">
            <img class="sonos-current-track-art" />
            <div class="sonos-current-track-info">
                <div>
                    <p class="sonos-track"></p>
                    <p class="sonos-artist"></p>
                    <p class="sonos-album"></p>
                </div>
                <p class="sonos-next-track"><span class="sonos-next-track-title"></span> <span class="sonos-next-track-text"></span></p>
                <div class="sonos-controls">
                    <img class="sonos-button" data-control="prev"  src="widgets/players/img/sonos/prev.svg">
                    <img class="sonos-button" data-control="play"  src="widgets/players/img/sonos/play.svg">
                    <img class="sonos-button" data-control="pause" src="widgets/players/img/sonos/pause.svg" style="display: none">
                    <img class="sonos-button" data-control="next"  src="widgets/players/img/sonos/next.svg">
                    <div class="sonos-master-volume"></div>
                </div>
            </div>
        </div>
	</div>
    <% vis.binds.players.createWidgetSonosPlayer(this.data.wid, this.view, this.data, this.style); %>
</script>

<!-- --------------players.html--- END -->
<!-- --------------plumb.html--- START -->
<!--
    ioBroker.vis plumb widgets

    version: "1.0.1"

    Copyright 2015-2017 smiling_Jack <smiling_Jack@ioBroker.net>

-->
<link rel="stylesheet" type="text/css" href="./vis_files/plumb.css">

<script type="text/javascript">
    "use strict";

    if (vis.editMode) {
        $.extend(true, systemDictionary, {
            "color_off": 		{"en": "color_off",             "de": "Farbe aus", "ru": "color_off"},
            "color_on": 		{"en": "color_on",              "de": "Farbe an", "ru": "color_on"},
            "group_conTop": 	{"en": "group_conTop",          "de": "Verbindung oben", "ru": "group_conTop"},
            "conTop_show": 		{"en": "conTop_show",           "de": "Anzeigen", "ru": "conTop_show"},
            "conTop_size": 		{"en": "conTop_size",           "de": "Größe", "ru": "conTop_size"},
            "conTop_pos": 		{"en": "conTop_pos",            "de": "Position", "ru": "conTop_pos"},
            "conTop": 			{"en": "conTop",                "de": "Verbindung oben", "ru": "conTop"},
            "group_conBottom": 	{"en": "group_conBottom",       "de": "Verbindung unten", "ru": "group_conBottom"},
            "conBottom_show": 	{"en": "conBottom_show",        "de": "Anzeigen", "ru": "conBottom_show"},
            "conBottom_size": 	{"en": "conBottom_size",        "de": "Größe", "ru": "conBottom_size"},
            "conBottom_pos": 	{"en": "conBottom_pos",         "de": "Position", "ru": "conBottom_pos"},
            "conBottom": 		{"en": "conBottom",             "de": "Verbindung unten", "ru": "conBottom"},
            "group_conLeft": 	{"en": "group_conLeft",         "de": "Verbindung links", "ru": "group_conLeft"},
            "conLeft_show": 	{"en": "conLeft_show",          "de": "Anzeigen", "ru": "conLeft_show"},
            "conLeft_size": 	{"en": "conLeft_size",          "de": "Größe", "ru": "conLeft_size"},
            "conLeft_pos": 		{"en": "conLeft_pos",           "de": "Position", "ru": "conLeft_pos"},
            "conLeft": 			{"en": "conLeft",               "de": "Verbindung links", "ru": "conLeft"},
            "group_conRight": 	{"en": "group_conRight",        "de": "Verbindung rechts", "ru": "group_conRight"},
            "conRight_show": 	{"en": "conRight_show",         "de": "Anzeigen", "ru": "conRight_show"},
            "conRight_size": 	{"en": "conRight_size",         "de": "Größe", "ru": "conRight_size"},
            "conRight_pos": 	{"en": "conRight_pos",          "de": "Position", "ru": "conRight_pos"},
            "conRight": 		{"en": "conRight",              "de": "Verbindung rechts", "ru": "conRight"},
            "type": 			{"en": "type", 					"de": "Art", "ru": "type"},
            "fix": 				{"en": "fix", 					"de": "Fix", "ru": "fix"},
            "bool_on": 			{"en": "bool_on", 				"de": "An", "ru": "bool_on"},
            "bool_off": 		{"en": "bool_off", 				"de": "Aus", "ru": "bool_off"},
            "level_min": 		{"en": "level_min", 			"de": "Wert min", "ru": "level_min"},
            "level_max": 		{"en": "level_max", 			"de": "Wert max", "ru": "level_max"},
            "water_color": 		{"en": "water_color", 			"de": "Wasserfabe", "ru": "water_color"},
            "is_filter": 		{"en": "is_filter", 			"de": "ist Filter", "ru": "is_filter"},
            "top_water": 		{"en": "top_water", 			"de": "Wasser oben", "ru": "top_water"},
            "bottom_water": 	{"en": "bottom_water", 			"de": "Wasser unten", "ru": "bottom_water"},
            "filter_pattern": 	{"en": "filter_pattern", 		"de": "Filter Bild", "ru": "filter_pattern"},
            "filter_size": 		{"en": "filter_size", 			"de": "Filter gröse ", "ru": "filter_size"},
            "filter_opa": 		{"en": "filter_opa", 			"de": "Filter trans.", "ru": "filter_opa"},
            "conTop_water": 	{"en": "conTop_water", 			"de": "Wasserfarbe", "ru": "conTop_water"},
            "conBottom_water": 	{"en": "conBottom_water", 		"de": "Wasserfarbe", "ru": "conBottom_water"},
            "conLeft_water": 	{"en": "conLeft_water", 		"de": "Wasserfarbe", "ru": "conLeft_water"},
            "conRight_water": 	{"en": "conRight_water", 		"de": "Wasserfarbe", "ru": "conRight_water"},
            "ctrl": 			{"en": "ctrl", 					"de": "ctrl", "ru": "ctrl"},
            "show_pipe": 		{"en": "show_pipe", 			"de": "Zeige Rohr", "ru": "show_pipe"},
            "show_symbol": 		{"en": "show_symbol", 			"de": "Zeige Symbol", "ru": "show_symbol"},
            "turn_direction": 	{"en": "turn_direction", 		"de": "Richtung", "ru": "turn_direction"},
            "position": 		{"en": "position", 				"de": "Position", "ru": "position"},
            "time": 			{"en": "time", 					"de": "Geschwindigkeit", "ru": "time"},
            "start": 			{"en": "start", 				"de": "Anfang", "ru": "start"},
            "ende": 			{"en": "ende", 					"de": "Ende", "ru": "ende"},
            "stroke": 			{"en": "stroke", 				"de": "Strahlbreite", "ru": "stroke"},
            "head_color": 		{"en": "head_color", 			"de": "Kopffarbe", "ru": "head_color"},
            "fog": 				{"en": "fog", 					"de": "Sprühnebel", "ru": "fog"},
            "head_show": 		{"en": "head_show", 			"de": "Kopf anzeigen", "ru": "head_show"},
            "head_round": 		{"en": "head_round", 			"de": "Kopf rund", "ru": "head_round"},
            "pipe_size": 		{"en": "Pipe size", 			"de": "Rohr größe", "ru": "pipe_size"},
            "spray_width": 		{"en": "spray_width", 			"de": "Sprühweite", "ru": "spray_width"},
            "spray_range": 		{"en": "spray_range", 			"de": "Sprühbereich", "ru": "spray_range"},
            "test": 			{"en": "test", 					"de": "Test", "ru": "test"},
            "head_size": 		{"en": "head_size", 			"de": "Kopfgröse", "ru": "head_size"},
            "opacity": 			{"en": "opacity", 				"de": "Transparenz", "ru": "opacity"},

            "group_filter": 	{"en": "group_filter", 			"de": "Filter", "ru": "group_filter"},
            "conTop_level": 	{"en": "conTop_level", 			"de": "Füllstand", "ru": "conTop_level"},
            "conTop_color_off": {"en": "conTop_color_off", 		"de": "Farbe aus", "ru": "conTop_color_off"},
            "conTop_color_on": 	{"en": "conTop_color_on", 		"de": "Farbe an", "ru": "conTop_color_on"},
            "conBottom_level": 	{"en": "conBottom_level", 		"de": "Füllstand", "ru": "conBottom_level"},
            "conBottom_color_off": {"en": "conBottom_color_off", "de": "Farbe aus", "ru": "conBottom_color_off"},
            "conBottom_color_on": {"en": "conBottom_color_on", 	"de": "Farbe an", "ru": "conBottom_color_on"},
            "conLeft_level": 	{"en": "conLeft_level", 		"de": "Füllstand", "ru": "conLeft_level"},
            "conLeft_color_off": {"en": "conLeft_color_off", 	"de": "Farbe aus", "ru": "conLeft_color_off"},
            "conLeft_color_on": {"en": "conLeft_color_on", 		"de": "Farbe an", "ru": "conLeft_color_on"},
            "conRight_level": 	{"en": "conRight_level", 		"de": "Füllstand", "ru": "conRight_level"},
            "conRight_color_off": {"en": "conRight_color_off", 	"de": "Farbe aus", "ru": "conRight_color_off"},
            "conRight_color_on": {"en": "conRight_color_on", 	"de": "Farbe an", "ru": "conRight_color_on"},
        });

        $(document).keydown(function (e) {
            if (vis.binds.plumb.dragging) {
                $("#visview_" + vis.activeView).find(".plumb_dock_bottom, .plumb_dock_left, .plumb_dock_right, .plumb_dock_top").droppable("option", "disabled", true).removeClass("drop-hover");
                e.preventDefault();
            }
            if (e.keyCode === 76) {
                if ($('#' + vis.activeWidgets[0]).hasClass("plumb_pipe")) {
                    vis.binds.plumb.check_lengh(vis.activeWidgets[0])
                }
            }
        });
    }

    vis.binds.plumb = {
		version: "1.0.0",
		showVersion: function () {
            if (vis.binds.plumb.version) {
                console.log('Version vis-plumb: ' + vis.binds.plumb.version);
                vis.binds.plumb.version = null;
            }
        },
        dragging: false,
        data: {},
        plumb_drop: function ($this, no_pos) {
            var drag_id;
            var self_id;
            var left;
            var top;
            if (vis.editMode) {

                $($this).find(".plumb_dock_top").droppable({
                    accept: ".pl_b:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: "touch",
                    drop: function (event, ui) {

                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        top = Math.round(parseInt($this.css('top')) - ui.draggable.height()) + 'px';
                        left = Math.round(parseInt($this.css('left')) + $(this).position().left - $(ui.draggable).find('.plumb_dock_bottom').position().left + (($(this).width() - $(ui.draggable).find('.plumb_dock_bottom').width()) / 2 )) + 'px';


                        vis.views[vis.activeView].widgets[self_id].data.conTop = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conBottom = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $('#inspect_conBottom').val(self_id);

                        $(ui.draggable).css({
                            top: top,
                            left: left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1  + 'px',
                            left: parseInt(left) - 1 + 'px'
                        });
                        vis.save();

                    }
                });

                $($this).find('.plumb_dock_bottom').droppable({
                    accept: ".pl_t:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: "touch",
                    drop: function (event, ui) {
                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        left = Math.round(parseInt($this.css("left")) + $(this).position().left - $(ui.draggable).find(".plumb_dock_top").position().left + (($(this).width() - $(ui.draggable).find(".plumb_dock_top").width()) / 2 )) + 'px';
                        top = Math.round(parseInt($this.css("top")) + $this.height()) + 'px';

                        vis.views[vis.activeView].widgets[self_id].data.conBottom = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conTop = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $("#inspect_conTop").val(self_id);

                        $(ui.draggable).css({
                            "top": top,
                            "left": left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1  + 'px',
                            "left": parseInt(left) - 1 + 'px'
                        });
                        vis.save();
                    }
                });

                $($this).find(".plumb_dock_left").droppable({
                    accept: ".pl_r:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: "touch",
                    drop: function (event, ui) {
                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        left = Math.round(parseInt($this.css("left")) - ui.draggable.width()) + 'px';
                        top = Math.round(parseInt($this.css("top")) + $(this).position().top - $(ui.draggable).find(".plumb_dock_right").position().top + (($(this).height() - $(ui.draggable).find(".plumb_dock_right").height()) / 2 )) + 'px';

                        vis.views[vis.activeView].widgets[self_id].data.conLeft = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conRight = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $("#inspect_conRight").val(self_id);

                        $(ui.draggable).css({
                            top: top,
                            "left": left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1  + 'px',
                            "left": parseInt(left) - 1 + 'px'
                        });
                        vis.save();
                    }
                });

                $($this).find(".plumb_dock_right").droppable({
                    accept: ".pl_l:not(#" + $($this).attr('id') + ")",
                    hoverClass: "drop-hover",
                    tolerance: 'touch',
                    drop: function (event, ui) {
                        drag_id = $(ui.draggable).attr('id');
                        self_id = $this.attr('id');
                        left = Math.round(parseInt($this.css("left")) + $this.width()) + 'px';
                        top = Math.round(parseInt($this.css("top")) + $(this).position().top - $(ui.draggable).find(".plumb_dock_left").position().top + (($(this).height() - $(ui.draggable).find(".plumb_dock_left").height()) / 2 )) + 'px';

                        vis.views[vis.activeView].widgets[self_id].data.conRight = drag_id;
                        vis.views[vis.activeView].widgets[drag_id].data.conLeft = self_id;
                        vis.views[vis.activeView].widgets[drag_id].style.top = top;
                        vis.views[vis.activeView].widgets[drag_id].style.left = left;

                        $("#inspect_conLeft").val(self_id);

                        $(ui.draggable).css({
                            top: top,
                            "left": left
                        });

                        $('.widget-helper').css({
                            top: parseInt(top) - 1 + 'px',
                            "left": parseInt(left) - 1 + 'px'
                        });
                        vis.save();
                    }
                });

                $this.on("dragstart", function (event, ui) {
                    vis.binds.plumb.dragging = true;
                    $("#visview_" + vis.activeView).find(".plumb_dock_bottom, .plumb_dock_left, .plumb_dock_right, .plumb_dock_top").droppable("option", "disabled", false);
                });

                $this.on("dragstop", function (event, ui) {
                    vis.binds.plumb.dragging = false;
                });
            }
        },
        check_lengh: function (id) {
            if ($('#' + id).hasClass("plumb_pipe")) {
                var data = vis.views[vis.activeView].widgets[id].data;

                if (data.conLeft !== "" && data.conRight !== "" && data.conLeft !== undefined && data.conRight !== undefined) {
                    var $left = $('#' + data.conLeft);
                    var $right = $('#' + data.conRight);
                    var length;

                    length = parseInt($right.css("left")) - (parseInt($left.css("left")) + parseInt($left.css("width")));

                    if (length > 0) {
                        vis.views[vis.activeView].widgets[id].style.width = length + 'px';
                        vis.views[vis.activeView].widgets[id].style.left = parseInt($left.css("left")) + parseInt($left.css("width")) + 'px';
                        vis.save();
                        $('#' + id).css({
                            width: length + 'px',
                            "left": parseInt($left.css("left")) + parseInt($left.css("width")) + 'px'
                        });
                        $('.widget-helper').css({
                            width: length + 'px',
                            "left": parseInt($left.css("left")) + parseInt($left.css("width")) + 'px'
                        });
                    }

                } else if (data.conTop !== "" && data.conBottom !== "" && data.conTop !== undefined && data.conBottom !== undefined) {
                    var $top = $('#' + data.conTop);
                    var $bottom = $('#' + data.conBottom);

                    length = parseInt($bottom.css("top")) - (parseInt($top.css("top")) + parseInt($top.css('height')));
                    if (length > 0) {
                        vis.views[vis.activeView].widgets[id].style.height = length + 'px';
                        vis.views[vis.activeView].widgets[id].style.top = parseInt($top.css("top")) + parseInt($top.css('height')) + 'px';
                        vis.save();
                        $('#' + id).css({
                            height: length + 'px',
                            top: parseInt($top.css("top")) + parseInt($top.css('height')) + 'px'
                        });
                        $('.widget-helper').css({
                            height: length + 'px',
                            top: parseInt($top.css("top")) + parseInt($top.css('height')) + 'px'
                        });
                    }
                }
            }
        },
        check: function (id, event, back) {
            var data = {
                type:   'plumb_change',
                from:   event.from,
                color:  event.color,
                status: event.status
            };
            vis.binds.plumb.set_normal(id, data, back, event.list);

//            var $this = $('#' + id);
//            var plumb = vis.binds.plumb.data;
//            var self = vis.binds.plumb.data[id];

//            if (self.coli) {
//                if (!event.status) {
//                    vis.binds.plumb.rest_collision(id, data)
//                }
//            } else {
//                if (event.status) {
//                    if ((self.status == true && event.status == true && self.color.c != event.color.c && self.color.c_from != event.color.c_from && self.type != "tpice" )) {
//                        vis.binds.plumb.set_collision(id)
//                    } else {
//                        if (self.color.c != event.color.c || self.color.c_from != event.color.c_from) {
//                            vis.binds.plumb.set_normal(id, data)
//                        }
//                    }
//                } else {
//
////                    if (self.color.c != event.color.c || self.color.c_from != event.color.c_from) {
//                    vis.binds.plumb.set_normal(id, data)
////                    }
//                }
//            }

        },
        set_normal: function (id, event, back, list) {
            list = list || [];
            var self = vis.binds.plumb.data[id];
            $('#' + id + '_fill').attr('fill', event.color.c);

            self.status = event.status;
            self.color  = event.color;

            if (list.indexOf(id) === -1) {
                list.push(id);
                event.list = list;
                if (back) {
                    vis.binds.plumb.trigger_b(id, event);
                } else {
                    vis.binds.plumb.trigger(id, event);
                }
            } else {
                console.warn('Detected cyclic structure: ' + list.join(', ') + ' => ' + id);
            }
        },
        set_collision: function (id) {
            var plumb = vis.binds.plumb.data;
            var self = vis.binds.plumb.data[id];
            self.status = true;
            self.coli = true;

            if (self.conLeft && self.conRight) {
                $('#' + id + "_coli_l").attr("stop-color", plumb[self.conLeft].color.c);
                $('#' + id + "_coli_r").attr("stop-color", plumb[self.conRight].color.c);
                $('#' + id + "_fill").attr("fill", "url(#" + id + "_coli)");
            } else if (self.conTop && self.conBottom) {
                $('#' + id + "_coli_t").attr("stop-color", plumb[self.conTop].color.c);
                $('#' + id + "_coli_b").attr("stop-color", plumb[self.conBottom].color.c);
                $('#' + id + "_fill").attr("fill", "url(#" + id + "_coli)");
            }
        },
        rest_collision: function (id, event) {
            var plumb = vis.binds.plumb.data;
            var self = vis.binds.plumb.data[id];
            var e = JSON.parse(JSON.stringify(event));

            e.status = true;

            $.each(self.cons, function () {
                if (self[this] && self[this] !== event.from) {
                    e.color = plumb[self[this]].color;
                    self.color = e.color;
                }
            });

            $('#' + id + '_fill').attr('fill', e.color.c);

            vis.binds.plumb.trigger_b(id, e);
            self.coli = false;
        },
        trigger: function (id, event) {
            var self = vis.binds.plumb.data[id];
            var e = JSON.parse(JSON.stringify(event));
            $.each(self.cons, function () {
                if (self[this] && self[this] !== event.from) {
                    e.from = id;
                    var conArr = self[this].split(',');
                    conArr.forEach(function(value) {
                        $('#' + value).trigger(e);
                    });
                }
            });
        },
        trigger_b: function (id, event) {
            var self = vis.binds.plumb.data[id];
            var e = JSON.parse(JSON.stringify(event));
            $.each(self.cons, function () {
                if (self[this] && self[this] === event.from) {
                    e.from = id;
                    var conArr = self[this].split(',');
                    conArr.forEach(function(value) {
                        $('#' + value).trigger(e);
                    });
                }
            });
        },

        svg_tpiece: function (id) {
            $('#' + id + "_svg").append('\
            <svg\
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 600 600"\
            >\
            <defs>\
            <radialGradient id="' + id + '_c" gradientUnits="userSpaceOnUse" cy="400" cx="400" gradientTransform="matrix(0 -1.393 1.4925 0 -197.01 957.21)" r="100">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".666"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </radialGradient>\
            <radialGradient id="' + id + '_b" gradientUnits="userSpaceOnUse" cy="400" cx="600" gradientTransform="matrix(-1.4925 0 0 -1.393 1295.5 757.21)" r="100">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".666"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </radialGradient>\
            <linearGradient id="' + id + '_e" y2="400" gradientUnits="userSpaceOnUse" x2="500" y1="200" x1="500">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_d" y2="300" gradientUnits="userSpaceOnUse" x2="400" y1="300" x1="200">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_a" y2="500" gradientUnits="userSpaceOnUse" x2="400" y1="500" x1="200">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            </defs>\
            <g>\
            <path id="' + id + '_fill"  d="m400 200h200v200h-200zm-200-200h200v600h-200z" fill="#c0c0c0"/>\
            <g>\
            <rect height="200" width="200" y="200" x="200" fill="url(#' + id + '_c)"/>\
            <rect height="200" width="200" y="200" x="200" fill="url(#' + id + '_b)"/>\
            <rect height="200" width="200" y="200" x="200" fill="url(#' + id + '_d)"/>\
            <rect height="200" width="200" y="200" x="400" fill="url(#' + id + '_e)"/>\
            <rect height="200" width="200" y="400" x="200" fill="url(#' + id + '_a)"/>\
            <rect height="200" width="200" y="0" x="200"   fill="url(#' + id + '_a)"/>\
            </g>\
            </g>\
            </svg>\
            ');
        },
        svg_bogen: function (id) {
            $('#' + id + "_svg").append('\
            <svg\
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 600 600"\
            >\
            <defs>\
            <clipPath id="' + id + '_clip">\
            <path d="m600 0a600 600 0 0 1 -600 600v-600z"/>\
            </clipPath>\
            <radialGradient id="' + id + '_a" gradientUnits="userSpaceOnUse" cy="0" cx="0" gradientTransform="matrix(0 2 -2 0 0 0)" r="300">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            <stop stop-color="#000000" stop-opacity="0" offset="1"/>\
            </radialGradient>\
            </defs>\
            <g clip-path="url(#' + id + '_clip)">\
            <path id="' + id + '_fill" fill="#c0c0c0" d="m600 0a600 600 0 0 1 -600 600v-600z"/>\
            <rect height="600" width="600" y="0" x="0" fill="url(#' + id + '_a)"/>\
            </g>\
            </svg>\
            ');
        },
        svg_pipe_v: function (id) {
            $('#' + id + '_svg').append('\
            <svg \
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 100 100" ">\
            <defs>\
            <linearGradient id="' + id + '_a" gradientUnits="userSpaceOnUse" x2="100" y1="50" y2="50">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_coli" gradientUnits="userSpaceOnUse" y2="100" x1="50" x2="50">\
            <stop id="' + id + '_coli_t" stop-color="#000000" offset="0"/>\
            <stop id="' + id + '_coli_b" stop-color="#000000" offset="1"/>\
            </linearGradient>\
            </defs>\
            <rect  id="' + id + '_fill"  height="100" width="100" y="0" x="0" fill="#c0c0c0"/>\
            <rect height="100" width="100" y="0" x="0" fill="url(#' + id + '_a)"/>\
            </svg>\
            ');
        },
        svg_pipe_h: function (id) {
            $('#' + id + "_svg").append('\
            <svg \
            width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 100 100" ">\
            <defs>\
            <linearGradient id="' + id + '_a"  gradientUnits="userSpaceOnUse" y2="100" x1="50" x2="50">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="' + id + '_coli" gradientUnits="userSpaceOnUse" x2="100" y1="50" y2="50">\
            <stop id="' + id + '_coli_l" stop-color="#000000" offset="0"/>\
            <stop id="' + id + '_coli_r" stop-color="#000000" offset="1"/>\
            </linearGradient>\
            </defs>\
            <rect  id="' + id + '_fill"  height="100" width="100" y="0" x="0" fill="#c0c0c0"/>\
            <rect height="100" width="100" y="0" x="0" fill="url(#' + id + '_a)"/>\
            </svg>\
            ');
        },
        svg_check_valve_h: function (id) {
            $('#' + id + "_svg").append('\
             <svg\
             width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
             viewBox="0 0 500 200">\
            <defs>\
            <radialGradient id="' + id + '_a" gradientUnits="userSpaceOnUse" cy="80" cx="260" r="75">\
            <stop stop-color="#eeeeee" offset="0"/>\
            <stop stop-color="#bbbbbb" offset=".25"/>\
            <stop stop-color="#666666" offset="1"/>\
            </radialGradient>\
            <linearGradient id="' + id + '_b"  gradientUnits="userSpaceOnUse" x2="250" x1="250" y2="200">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            </defs>\
            <path id="' + id + '_fill_right"  d="m500 0h-250l-41 40v120l41 40h250v-200z"  fill="#c0c0c0"/>\
            <path id="' + id + '_fill_left" d="m0 0h250l-40 41v119l40 40h-249z"  fill="#c0c0c0"/>\
            <rect height="200" width="500" y="0" x="0" fill="url(#' + id + '_b)"/>\
            <g>\
            <path d="m250 200-100-100m100-100-100 100" stroke-linecap="round" stroke="#000000" stroke-width="20" />\
            <path d="m30 100 120 .26" stroke-linecap="round" stroke="#000000" stroke-width="20" />\
            <circle cy="100" cx="270" r="75" fill="url(#' + id + '_a)"/>\
            </g>\
            </svg>\
            ');
        },
        svg_check_valve_v: function (id) {
            $('#' + id + "_svg").append('\
             <svg\
             width="100%"\
            height="100%"\
            preserveAspectRatio="none"\
            viewBox="0 0 200 500">\
            <defs>\
            <radialGradient id="' + id + '_d" gradientUnits="userSpaceOnUse" cy="210" cx="90" r="75">\
            <stop stop-color="#eeeeee" offset="0"/>\
            <stop stop-color="#bbbbbb" offset=".25"/>\
            <stop stop-color="#666666" offset="1"/>\
            </radialGradient>\
            <linearGradient id="' + id + '_c" y2="250" gradientUnits="userSpaceOnUse" y1="250" gradientTransform="rotate(90)" x2="200" >\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            </defs>\
            <path id="' + id + '_fill_top" d="m0 0v250l40 41h120l40-41v-250h-200z" fill="#c0c0c0"/>\
            <path id="' + id + '_fill_bottom"  d="m0 500v-250l41 40h119l40-40v250z"  fill="#c0c0c0"/>\
            <rect transform="rotate(-90)" height="200" width="500" y="0" x="-500" fill="url(#' + id + '_c)"/>\
            <g>\
            <path d="m200 252.4-100 100m-100-100 100 100" stroke="#000000" stroke-linecap="round" stroke-width="20" fill="none"/>\
            <circle cy="235" cx="100" r="75" fill="url(#' + id + '_d)"/>\
            <path d="m99.87 470.13.26-120" stroke="#000000" stroke-linecap="round" stroke-width="20" fill="none"/>\
            </g>\
            </svg>\
            ');
        },

        pump: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: "pump",
                cons: [],
                coli: false,
                conLeft:   data.conLeft   || null,
                conRight:  data.conRight  || null,
                conTop:    data.conTop    || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            setTimeout(function () {
                $this.find(".plumb_dock_right, .plumb_dock_left, .plumb_dock_top, .plumb_dock_bottom").remove();
                var l;
                var t;
                var s;

                if (data.conTop && data.conTop != "") {
                    self.cons.push("conTop");
                    if (data.conTop_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_top_svg" class="plumb_dock_top"></div>');
                        vis.binds.plumb.svg_pipe_v(id + "_dock_top");

                        s = (data.conTop_size || 20);
                        t = '-10';
                        l = (($this.width() - s) / 100 * (data.conTop_pos || 50));

                        $this.find(".plumb_dock_top").css({
                            top: t + 'px',
                            left: l + 'px',
                            height: '20px',
                            width: s + 'px'
                        });

                        $('#' + id + "_dock_top_fill").attr("fill", data.color_off);
                    }
                }

                if (data.conBottom && data.conBottom != "") {
                    self.cons.push("conBottom");
                    if (data.conBottom_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_bottom_svg" class="plumb_dock_bottom"></div>');
                        vis.binds.plumb.svg_pipe_v(id + "_dock_bottom");
                        s = (data.conBottom_size || 20);
                        t = '-10';
                        l = (($this.width() - s) / 100 * (data.conBottom_pos || 50));

                        $this.find(".plumb_dock_bottom").css({
                            bottom: t + 'px',
                            left: l + 'px',
                            height: '20px',
                            width: s + 'px'
                        });
                        $('#' + id + "_dock_bottom_fill").attr("fill", data.color_off);
                    }
                }

                if (data.conLeft && data.conLeft != "") {
                    self.cons.push("conLeft");
                    if (data.conLeft_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_left_svg" class="plumb_dock_left"></div>');
                        vis.binds.plumb.svg_pipe_h(id + "_dock_left");
                        s = (data.conLeft_size || 20);
                        l = '-10';
                        t = (($this.height() - s) / 100 * (data.conLeft_pos || 50));

                        $this.find(".plumb_dock_left").css({
                            top: t + 'px',
                            left: l + 'px',
                            height: s + 'px',
                            width: '20px'
                        });
                        $('#' + id + "_dock_left_fill").attr("fill", data.color_off);
                    }
                }

                if (data.conRight && data.conRight != "") {
                    self.cons.push("conRight");
                    if (data.conRight_show) {
                        $this.find(".pump").append('<div id="' + id + '_dock_right_svg" class="plumb_dock_right"></div>');
                        vis.binds.plumb.svg_pipe_h(id + "_dock_right");
                        s = (data.conRight_size || 20);
                        l = '-10';
                        t = (($this.height() - s) / 100 * (data.conRight_pos || 50));

                        $this.find(".plumb_dock_right").css({
                            top: t + 'px',
                            right: l + 'px',
                            height: s + 'px',
                            width: '20px'
                        });
                        $('#' + id + "_dock_right_fill").attr("fill", data.color_off);
                    }
                }
                vis.binds.plumb.plumb_drop($this);
            });

            $this.bind('plumb_change', function (event) {
                if (vis.states[data.oid + '.val'] >= 1 && !event.status && event.color.c_from !== id) {
                    setTimeout(function () {
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: true,
                            list: event.list,
                            color: {
                                c_from: id,
                                c_default: data.color_off,
                                c: data.color_on
                            }
                        };
                        self.color = ev.color;
                        $('#' + event.from).trigger(ev);
                    }, 0);
                }
            });

            vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                vis.binds.plumb.stop = 0;
                var ev = {
                    type: 'plumb_change',
                    from: id,
                    color: {
                        c_from: id,
                        c_default: data.color_off
                    }
                };
                if (newVal >= 1) {
                    ev.color.c = data.color_on;
                    ev.status = true
                } else {
                    ev.color.c = data.color_off;
                    ev.status = false
                }
                self.color = ev.color;
                $.each(self.cons, function () {
                    $('#' + id + "_dock_top_fill").attr("fill", ev.color.c);
                    $('#' + id + "_dock_bottom_fill").attr("fill", ev.color.c);
                    $('#' + id + "_dock_left_fill").attr("fill", ev.color.c);
                    $('#' + id + "_dock_right_fill").attr("fill", ev.color.c);
                    var conArr = self[this].split(',');
                    conArr.forEach(function(value) {
                        $('#' + value).trigger(ev);
                    });
                });
            });

            setTimeout(function () {
                $($this.parent()).on("rendered", function () {
                    var ev = {
                        type: 'plumb_change',
                        from: id,
                        color: {
                            c_from: id,
                            c_default: data.color_off
                        }
                    };
                    if (vis.states[data.oid + '.val'] >= 1) {
                        ev.color.c = data.color_on;
                        ev.status = true;
                        self.status = true;
                    } else {
                        ev.color.c = data.color_off;
                        ev.status = false;
                        self.status = true;
                    }
                    self.color = ev.color;
                    $.each(self.cons, function () {
                        $('#' + id + "_dock_top_fill").attr("fill", ev.color.c);
                        $('#' + id + "_dock_bottom_fill").attr("fill", ev.color.c);
                        $('#' + id + "_dock_left_fill").attr("fill", ev.color.c);
                        $('#' + id + "_dock_right_fill").attr("fill", ev.color.c);
                        var conArr = self[this].split(',');
                        conArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    });
                })
            });
        },
        sprinkler_i: function (el, data) {
            var $this = $(el).parent();
            var $head = $(el);
            var $wp = $this.find(".plumb_sprinkler_i");
            var $water = $this.find(".plumb_sprinkler_i_water");
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: "pump",
                cons: ["conTop", "conBottom", "conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            $this.css('overflow', 'visible');

            vis.binds.plumb.plumb_drop($this);

            $($this).on('resize', function () {
                set();
            });

            $this.bind('plumb_change', function (event) {
                self.status = event.status;
                if (event.status) {
                    $wp.show();
                    $head.css({
                        "background-color": data.head_color
                    });
                } else {
                    $wp.hide();
                    if (!data['head-show']) {
                        $head.css({
                            "background-color": 'transparent'
                        });
                    }
                }
            });

            function set() {
                $('#' + id + '_style').remove();

                $('<style id="' + id + '_style">\
                    @-webkit-keyframes ' + id + '-ANIMATION {\
                        0%   { -webkit-transform: rotate(' + data.start + 'deg);}\
                        80%  { -webkit-transform: rotate(' + data.ende + 'deg);}\
                        100% { -webkit-transform: rotate(' + data.start + 'deg);}\
                    }\
                    @keyframes ' + id + '-ANIMATION {\
                        0%   { transform: rotate(' + data.start + 'deg);}\
                        80%  { transform: rotate(' + data.ende + 'deg); }\
                        100% { transform: rotate(' + data.start + 'deg);}\
                    }\
                <style>').appendTo("head");


                $wp.css({
                    "-webkit-animation": id + "-ANIMATION " + data.time + "s infinite linear",
                    "animation": id + "-ANIMATION " + data.time + "s infinite linear"
                });
                $water.css({
                    height: data.spray_width + 'px',
                    width: data.stroke + 'px',
                    left: parseInt($($wp).width() / 2 - data.stroke / 2) + 'px',
                    top: parseInt($($wp).height() / 2 - data.spray_width) + 'px',
                    position: "relative",
                    "background-color": data.water_color,
                    opacity: data.opacity,
                    "border-radius": "100px"
                });


                if (data.fog) {
                    $water.css({
                        "box-shadow": '0 0 ' + (data.stroke * 2) + 'px ' + data.stroke + 'px ' + data.water_color
                    })
                }

                if (data.head_round === 'true' || data.head_round === true) {
                    $head.css({
                        "border-radius": '100%'
                    });
                }

                if (self.status || (vis.editMode && data.test)) {
                    $wp.show()
                } else {
                    $wp.hide()
                }

                if ((self.status === true || data.head_show === "true" || data.head_show === true ) || (vis.editMode && (data.test === "true" || data.test === true))) {
                    $head.css({
                        "background-color": data.head_color
                    });
                } else {
                    $head.css({
                        "background-color": 'transparent'
                    });
                }
            }

            setTimeout(function () {
                set();
            });
        },
        sprinkler_r: function (el, data) {
            var $this = $(el).parent();
            var $head = $this.find(".plumb_sprinkler_r_head");
            var $water = $this.find(".plumb_sprinkler_r");
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: 'pump',
                cons: ["conTop", "conBottom", "conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            vis.binds.plumb.plumb_drop($this);

            $this.bind('plumb_change', function (event) {
                self.status = event.status;
                if (event.status) {
                    $water.show();
//                    $head.css({
//                        "background-color": data.head_color
//                    });
                } else {
                    $water.hide();
                    if (!data["head-show"]) {
//                        $head.css({
//                            "background-color": "transparent"
//                        });
                    }
                }
            });

            function set() {
                var time   = data.time   || 36;
                var start  = data.start  || 0;
                var end    = data.ende   || 180;
                var stroke = data.stroke || 10;
                var set_w  = parseInt(data.spray_width);
                var svg_w  = set_w;
                var svg_t;
                var svg_l;
                var spray_w;
                var spray_t;
                var spray_h;
                var spray_l;
                var radius;
                var head = parseInt(data.head_size, 10) / 2;

                if (data.spray_range === '270-90') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w;
                    spray_h = set_w / 2;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;

                    start = 180 / 100 * parseInt(start, 10) + 270;
                    end = 180 / 100 * parseInt(end, 10) + 270;
                } else if (data.spray_range === '90-270') {
                    svg_t = -set_w / 2;
                    svg_l = 0;
                    spray_w = set_w;
                    spray_h = set_w / 2;
                    spray_t = head;
                    spray_l = -set_w / 2 + head;

                    start = 180 / 100 * parseInt(start, 10) + 90;
                    end = 180 / 100 * parseInt(end, 10) + 90;
                } else if (data.spray_range === '180-360') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w / 2;
                    spray_h = set_w;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;

                    start = 180 / 100 * parseInt(start, 10) + 180;
                    end = 180 / 100 * parseInt(end, 10) + 180;
                } else if (data.spray_range === '0-180') {
                    svg_t = 0;
                    svg_l = -set_w / 2;
                    spray_w = set_w / 2;
                    spray_h = set_w;
                    spray_t = -set_w / 2 + head;
                    spray_l = head;

                    start = 180 / 100 * parseInt(start, 10);
                    end = 180 / 100 * parseInt(end, 10);
                } else if (data.spray_range === '270-360') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;

                    start = 90 / 100 * parseInt(start, 10) + 270;
                    end = 90 / 100 * parseInt(end, 10) + 270;
                } else if (data.spray_range === '0-90') {
                    svg_t = 0;
                    svg_l = -set_w / 2;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = -set_w / 2 + head;
                    spray_l = head;

                    start = 90 / 100 * parseInt(start, 10);
                    end = 90 / 100 * parseInt(end, 10);
                } else if (data.spray_range === '180-270') {
                    svg_t = -set_w / 2;
                    svg_l = 0;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = head;
                    spray_l = -set_w / 2 + head;

                    start = 90 / 100 * parseInt(start, 10) + 180;
                    end = 90 / 100 * parseInt(end, 10) + 180;
                } else if (data.spray_range === '90-180') {
                    svg_t = -set_w / 2;
                    svg_l = -set_w / 2;
                    spray_w = set_w / 2;
                    spray_h = set_w / 2;
                    spray_t = head;
                    spray_l = head;

                    start = 90 / 100 * parseInt(start, 10) + 90;
                    end = 90 / 100 * parseInt(end, 10) + 90;
                } else if (data.spray_range === '360') {
                    svg_t = 0;
                    svg_l = 0;
                    spray_w = set_w;
                    spray_h = set_w;
                    spray_t = -set_w / 2 + head;
                    spray_l = -set_w / 2 + head;
                    start = 360 / 100 * parseInt(start, 10);
                    if (end === '100') {
                        end = 359.99;
                    } else {
                        end = 360 / 100 * parseInt(end, 10);
                    }
                }
                if (data.head_round) {
                    radius = '100%';
                } else {
                    radius = '0';
                }
                $water.css({
                    top: parseInt(spray_t) + 'px',
                    left: parseInt(spray_l) + 'px',
                    height: spray_h + 'px',
                    width: spray_w + 'px',
                    position: 'absolute',
                    overflow: 'hidden'
                });

                $this.css({
                    "border-radius": radius,
                    width: data.head_size + 'px',
                    height: data.head_size + 'px'
                });

                $('#widget_helper_' + id).css({
                    width: parseInt(data.head_size) + 2 + 'px',
                    height: parseInt(data.head_size) + 2 + 'px'
                });


                var _turn_winkel = start * Math.PI / 180;
                var r = 250;
                var x1 = 250 + r * Math.sin(_turn_winkel);
                var y1 = 250 - r * Math.cos(_turn_winkel);
                var x2 = 250 + r * Math.sin(end * Math.PI / 180);
                var y2 = 250 - r * Math.cos(end * Math.PI / 180);
                var p;
                if ((end - start) < 180) {
                    p = "M" + x1 + "," + y1 + " A" + r + "," + r + " 0 0,1 " + x2 + "," + y2 + "L 250 250 z";
                } else {
                    p = "M" + x1 + "," + y1 + " A" + r + "," + r + " 0 1,1 " + x2 + "," + y2 + " L 250 250 z"
                }

                $('#' + id + "_svg").remove();
                $water.append('\
                    <svg\
                    xmlns:svg="http://www.w3.org/2000/svg"\
                    xmlns="http://www.w3.org/2000/svg"\
                    id = "' + id + '_svg"\
                    width="100%"\
                    height="100%"\
                    viewBox="0 0 500 500"\
                    >\
                <clipPath id="starfoo_' + id + '">\
                    <path d="' + p + '"/>\
                    </clipPath>\
                         <g transform="translate(0,0)" clip-path="url(#starfoo_' + id + ')">\
                            <g style="stroke:' + data.water_color + ';stroke-width:' + stroke + ';stroke-linecap:round;stroke-opacity:' + data.opacity + '" >\
                                <path d="M 250,500 250,0"/>\
                                <path d="M 293,496 207,3.8"/>\
                                <path d="M 335,485 165,14.7"/>\
                                <path d="M 375,467 125,33"/>\
                                <path d="M 411,442 89.2,58"/>\
                                <path d="M 442,411 58.3,88.9"/>\
                                <path d="M 467,375 33.2,125"/>\
                                <path d="M 485,335 14.8,165"/>\
                                <path d="M 496,293 3.61,207"/>\
                                <path d="M 500,250 -0.117,250"/>\
                                <path d="M 496,207 3.68,293"/>\
                                <path d="M 485,165 14.9,335"/>\
                                <path d="M 467,125 33.2,375"/>\
                                <path d="M 442,89.2 58.2,411"/>\
                                <path d="M 411,58.3 89.1,442"/>\
                                <path d="M 375,33.3 125,467"/>\
                                <path d="M 335,14.9 165,485"/>\
                                <path d="M 293,3.71 207,496"/>\
                                <animateTransform id="t_two_' + id + '" attributeName="transform" type="rotate" from="0 250 250" to=" 360 250 250" begin="0s" dur="' + time + '" repeatCount="indefinite"   />\
                            </g>\
                        </g>\
                    </svg>\
                ');
                //                    <circle cx="250" cy="250" r="' + data.head_size + '"  fill="' + data.head_color + '"  />\

                if (self.status || (vis.editMode && data.test)) {
                    $water.show()
                } else {
                    $water.hide()
                }

                var $svg = $this.find("svg");
                $svg.css({
                    width: svg_w + 'px',
                    height: svg_w + 'px',
                    top: parseInt(svg_t) + 'px',
                    left: parseInt(svg_l) + 'px',
                    position: 'absolute'
                });

                if (data.head_round === 'true' || data.head_round === true) {
                    $head.css({
                        "border-radius": '100%'
                    });
                }
            }

            setTimeout(function () {
                set();
            });
        },
        pipe_h: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            $($this).on('resize', function () {
                $('#widget_helper_' + id).css({
                    top: parseInt($this.css('top')) - 2 + 'px',
                    left: parseInt($this.css('left')) - 2 + 'px'
                })
            });

            $($this).on('resizestop', function (event, ui) {
                vis.views[vis.activeView].widgets[id].style.left = ui.position.left;
                vis.views[vis.activeView].widgets[id].style.top = ui.position.top;
                vis.save();
            });
            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_pipe_h(id);

                $($this).css('height', data.pipe_size + 'px');
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);
            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        pipe_v: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type:       'pipe',
                cons:       ['conTop', 'conBottom'],
                coli:       false,
                conLeft:    data.conLeft    || null,
                conRight:   data.conRight   || null,
                conTop:     data.conTop     || null,
                conBottom:  data.conBottom  || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };
            $($this).on('resize', function () {
                $('#widget_helper_' + id).css({
                    top:    parseInt($this.css('top'))  - 2 + 'px',
                    left:   parseInt($this.css('left')) - 2 + 'px'
                })
            });

            $($this).on("resizestop", function (event, ui) {
                vis.views[vis.activeView].widgets[id].style.left = ui.position.left;
                vis.views[vis.activeView].widgets[id].style.top = ui.position.top;
                vis.save();
            });

            setTimeout(function () {
                vis.binds.plumb.svg_pipe_v(id);

                $($this).css('width', data.pipe_size + 'px');
                $('#widget_helper_' + id).css({
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_br: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conRight", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_bl: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_tr: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type:       'pipe',
                cons:       ["conRight", "conTop"],
                coli:       false,
                conLeft:    data.conLeft || null,
                conRight:   data.conRight || null,
                conTop:     data.conTop || null,
                conBottom:  data.conBottom || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width:  parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        bogen_tl: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conTop"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_bogen(id);
                $($this).css({
                    height: data.pipe_size + 'px',
                    width: data.pipe_size + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(data.pipe_size) + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event);
                });
            }
        },
        valve_h: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_from;

            plumb[id] = {
                type: 'pipe',
                cons: ["conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            $($this).css({
                height: parseInt(data.pipe_size) + 'px',
                width: parseInt(parseInt(data.pipe_size) * 1.5) + 'px'
            });
            $('#widget_helper_' + id).css({
                height: parseInt(data.pipe_size) + 2 + 'px',
                width: parseInt(parseInt(data.pipe_size) * 1.5) + 2 + 'px'
            });

            vis.binds.plumb.plumb_drop($this);

            if (data.ctrl) {
                $(el).on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (vis.states[data.oid + '.val'] >= 1) {
                        vis.setValue(data.oid, 0);
                    } else {
                        vis.setValue(data.oid, 1);
                    }
                });
            }

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            $this.bind('plumb_change', function (event) {
                if (event.status) {
                    last_from = event.from;
                }

                if (vis.states[data.oid + '.val'] >= 1) {
                    vis.binds.plumb.check(id, event);
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };

                function check_ev(ev) {
                    var x = ev;
                    x.color = x.color || {};
                    if (!x.color.c) x.color.c = '#c0c0c0';
                    if (!x.color.c_default) x.color.c_default = '#c0c0c0';
                    return x
                }

                if (newVal === true) newVal = 1;
                    else if (newVal === false) newVal = 0;
                var conLeftArr = self.conLeft.split(',');
                var conRightArr = self.conRight.split(',');
                if (newVal >= 1) {
                    $this.find('path').attr('fill', $this.data('color_on'));
                    if (self.conLeft == last_from && last_from !== undefined && plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color        = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        ev.status       = JSON.parse(JSON.stringify(plumb[self.conLeft].status));
                        ev              = check_ev(ev);
                        self.color      = ev.color;
                        self.status     = ev.status;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else if (plumb[self.conRight] && plumb[self.conRight].status) {
                        last_from   = self.conRight;
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        ev.status   = JSON.parse(JSON.stringify(plumb[self.conRight].status));
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else {
                        if (conLeftArr.length <= 1) {
                            last_from   = self.conLeft;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft] ? plumb[self.conLeft].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conLeft] ? plumb[self.conLeft].status : false));
                        }
                        else if (conRightArr.length <= 1) {
                            last_from   = self.conRight;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight] ? plumb[self.conRight].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conRight] ? plumb[self.conRight].status : false));
                        }
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                } else {
                    $this.find('path').attr('fill', $this.data('color_off'));
                    if (self.conLeft == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft] ? plumb[self.conLeft].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conRightArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }

                    if (self.conRight == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight] ? plumb[self.conRight].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conLeftArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                }
            }

            vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                set(newVal)
            });

            if (vis.states[data.oid + '.val'] >= 1) {
                $this.find("path").attr("fill", $this.data('color_on'));
            } else {
                $this.find("path").attr("fill", $this.data('color_off'));
            }
        },
        valve_v: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_from;
            vis.binds.plumb.data[id] = {
                type:       'pipe',
                cons:       ["conTop", "conBottom"],
                coli:       false,
                conLeft:    data.conLeft || null,
                conRight:   data.conRight || null,
                conTop:     data.conTop || null,
                conBottom:  data.conBottom || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };

            var self = plumb[id];

            $($this).css({
                height: parseInt(parseInt(data.pipe_size) * 1.5) + 'px',
                width:  parseInt(data.pipe_size) + 'px'
            });
            $('#widget_helper_' + id).css({
                height: parseInt(parseInt(data.pipe_size) * 1.5) + 2 + 'px',
                width: parseInt(data.pipe_size) + 2 + 'px'
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            if (data.ctrl) {
                $(el).on('click touchstart', function () {
                    // Protect against two events
                    if (vis.detectBounce(this)) return;

                    if (vis.states[data.oid + '.val'] >= 1) {
                        vis.setValue(data.oid, 0);
                    } else {
                        vis.setValue(data.oid, 1);
                    }
                });
            }

            $this.bind('plumb_change', function (event) {
                if (vis.states[data.oid + '.val'] >= 1) {
                    vis.binds.plumb.check(id, event);
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };

                function check_ev(ev) {
                    var x = ev;
                    x.color = x.color || {};
                    if (!x.color.c)         x.color.c = '#c0c0c0';
                    if (!x.color.c_default) x.color.c_default = '#c0c0c0';
                    return x
                }

                if (newVal === true) newVal = 1;
                    else if (newVal === false) newVal = 0;
                var conBottomArr = self.conBottom.split(',');
                var conTopArr = self.conTop.split(',');
                if (newVal >= 1) {
                    $this.find('path').attr('fill', $this.data('color_on'));

                    if (self.conTop == last_from && last_from !== undefined && plumb[self.conTop] && plumb[self.conTop].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conTop].color));
                        ev.status   = JSON.parse(JSON.stringify(plumb[self.conTop].status));
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conBottomArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else if (plumb[self.conBottom] && plumb[self.conBottom].status) {
                        last_from   = self.conBottom;
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conBottom].color));
                        ev.status   = JSON.parse(JSON.stringify(plumb[self.conBottom].status));
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conTopArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    } else {
                        if (conTopArr.length <= 1) {
                            last_from   = self.conTop;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conTop] ? plumb[self.conTop].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conTop] ? plumb[self.conTop].status : false));
                        }
                        else if (conBottomArr.length <= 1) {
                            last_from   = self.conBottom;
                            ev.color    = JSON.parse(JSON.stringify(plumb[self.conBottom] ? plumb[self.conBottom].color : {c_default: $this.data('color_on')}));
                            ev.status   = JSON.parse(JSON.stringify(plumb[self.conBottom] ? plumb[self.conBottom].status : false));
                        }
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = ev.status;
                        conBottomArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                } else {
                    $this.find('path').attr('fill', $this.data('color_off'));

                    if (self.conTop == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conTop] ? plumb[self.conTop].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conBottomArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }

                    if (self.conBottom == last_from) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conBottom] ? plumb[self.conBottom].color : {c_default: $this.data('color_off')}));
                        ev.status   = false;
                        ev.color.c  = ev.color.c_default;
                        ev          = check_ev(ev);
                        self.color  = ev.color;
                        self.status = false;
                        conTopArr.forEach(function(value) {
                            $('#' + value).trigger(ev);
                        });
                    }
                }
            }

            vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                set(newVal);
            });

            if (vis.states[data.oid + '.val'] >= 1) {
                $this.find('path').attr('fill', $this.data('color_on'));
            } else {
                $this.find('path').attr('fill', $this.data('color_off'));
            }
        },
        c_valve_h: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_true;

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            setTimeout(function () {
                vis.binds.plumb.svg_check_valve_h(id);
                $($this).css({
                    height: parseInt(data.pipe_size) + 'px',
                    width: parseInt(parseInt(data.pipe_size) * 2.5) + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) + 2 + 'px',
                    width: parseInt(parseInt(data.pipe_size) * 2.5) + 2 + 'px'
                });

                if (data.turn_direction) {
                    $this.find('svg').css({
                        "-webkit-transform": "rotate(180deg)",
                        "transform": "rotate(180deg)"
                    })
                }
            });

            $($this).find(".plumb_c_valve_h_back_r").css({right: "0px"});

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            vis.binds.plumb.plumb_drop($this);

            $this.bind('plumb_change', function (event) {

                if (self.conLeft == event.from && !data.turn_direction) {
                    $('#' + id + "_fill_left").attr("fill", event.color.c);
                    $('#' + id + "_fill_right").attr("fill", event.color.c);
                    if (event.status) {
                        last_true = event;
                    } else {
                        last_true = undefined;
                    }
                    vis.binds.plumb.check(id, event);
                } else if (self.conLeft == event.from) {
                    if (last_true) {
                        $('#' + id + "_fill_left").attr("fill", last_true.color.c);
                        $('#' + id + "_fill_right").attr("fill", last_true.color.c);
                        vis.binds.plumb.check(id, last_true);
                    } else {
                        $('#' + id + "_fill_right").attr("fill", event.color.c);
                    }
                }

                if (self.conRight == event.from && data.turn_direction) {
                    $('#' + id + "_fill_left").attr("fill", event.color.c);
                    $('#' + id + "_fill_right").attr("fill", event.color.c);
                    if(event.status){
                        last_true = event;
                    }else{
                        last_true = undefined;
                    }
                    vis.binds.plumb.check(id, event)
                } else if (self.conRight == event.from) {
                    if(last_true){
                        $('#' + id + "_fill_left").attr("fill", last_true.color.c);
                        $('#' + id + "_fill_right").attr("fill", last_true.color.c);
                        vis.binds.plumb.check(id, last_true)
                    }else{
                        $('#' + id + "_fill_right").attr("fill", event.color.c);
                    }
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };
                var self_color;
                if (newVal >= 1) {
                    self_color = $this.data('color_on');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        self.color = ev.color;

                        $('#' + data.conRight).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        self.color = ev.color;
                        $('#' + data.conLeft).trigger(ev);
                    }
                } else {
                    self_color = $this.data('color_off');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;
                        $('#' + data.conLeft).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;
                        $('#' + data.conRight).trigger(ev);
                    }
                }
            }
        },
        c_valve_v: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;
            var last_true;

            vis.binds.plumb.data[id] = {
                type: 'pipe',
                cons: ["conTop", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || 'red');

            var self = plumb[id];

            setTimeout(function () {
                vis.binds.plumb.svg_check_valve_v(id);
                $($this).css({
                    height: parseInt(parseInt(data.pipe_size) * 2.5) + 'px',
                    width:  parseInt(data.pipe_size) + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(parseInt(data.pipe_size) * 2.5) + 2 + 'px',
                    width:  parseInt(data.pipe_size) + 2 + 'px'
                });

                if (data.turn_direction) {
                    $this.find('svg').css({
                        "-webkit-transform": "rotate(180deg)",
                        "transform": "rotate(180deg)"
                    })
                }
            });

            $($this).trigger('resize');

            $($this).find(".plumb_c_valve_h_back_r").css({right: 0});

            vis.binds.plumb.plumb_drop($this);

            $this.bind('plumb_change', function (event) {
                if (self.conTop == event.from && data.turn_direction) {
                    $('#' + id + "_fill_top").attr("fill", event.color.c);
                    $('#' + id + "_fill_bottom").attr("fill", event.color.c);
                    if (event.status){
                        last_true = event;
                    }else{
                        last_true = undefined;
                    }
                    vis.binds.plumb.check(id, event)
                } else if (self.conTop == event.from) {
                    if (last_true) {
                        $('#' + id + "_fill_top").attr("fill",last_true);
                        $('#' + id + "_fill_bottom").attr("fill", last_true);
                        vis.binds.plumb.check(id, last_true)
                    } else {
                        $('#' + id + "_fill_top").attr("fill", event.color.c);
                    }
                }

                if (self.conBottom == event.from && !data.turn_direction) {
                    $('#' + id + "_fill_top").attr("fill", event.color.c);
                    $('#' + id + "_fill_bottom").attr("fill", event.color.c);
                    if (event.status) {
                        last_true = event;
                    } else {
                        last_true = undefined;
                    }

                    vis.binds.plumb.check(id, event);
                } else if (self.conBottom == event.from) {
                    if (last_true) {
                        $('#' + id + "_fill_top").attr("fill",last_true);
                        $('#' + id + "_fill_bottom").attr("fill", last_true);
                        vis.binds.plumb.check(id, last_true)
                    } else {
                        $('#' + id + "_fill_top").attr("fill", event.color.c);
                    }
                }
            });

            function set(newVal) {
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true
                };
                var self_color;
                if (newVal >= 1) {
                    self_color = $this.data('color_on');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        self.color = ev.color;
                        $('#' + data.conRight).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        self.color = ev.color;
                        $('#' + data.conLeft).trigger(ev);
                    }
                } else {
                    self_color = $this.data('color_off');
                    $this.find(".plumb_valve_l").css({"border-color": "rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) " + self_color});
                    $this.find(".plumb_valve_r").css({"border-color": "rgba(0, 0, 0, 0) " + self_color + " rgba(0, 0, 0, 0) rgba(0, 0, 0, 0)"});

                    if (plumb[self.conLeft] && plumb[self.conLeft].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conLeft].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;

                        $('#' + data.conLeft).trigger(ev);
                    }

                    if (plumb[self.conRight] && plumb[self.conRight].status) {
                        ev.color    = JSON.parse(JSON.stringify(plumb[self.conRight].color));
                        ev.color.c  = ev.color.c_default;
                        ev.status   = false;
                        self.color  = ev.color;
                        $('#' + data.conRight).trigger(ev);
                    }
                }
            }
        },
        tpice_hb: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: "tpice",
                cons: ["conLeft", "conRight", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        tpice_ht: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type:       "tpice",
                cons:       ["conLeft", "conRight", "conTop"],
                coli:       false,
                conLeft:    data.conLeft || null,
                conRight:   data.conRight || null,
                conTop:     data.conTop || null,
                conBottom:  data.conBottom || null,
                status:     false,
                color: {
                    c:          null,
                    c_from:     null,
                    c_default:  null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        tpice_vl: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: "tpice",
                cons: ["conLeft", "conTop", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        tpice_vr: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');

            vis.binds.plumb.data[id] = {
                type: "tpice",
                cons: ["conRight", "conTop", "conBottom"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            setTimeout(function () {
                vis.binds.plumb.svg_tpiece(id);
                $($this).css({
                    height: parseInt(data.pipe_size) * 3 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 'px'
                });
                $('#widget_helper_' + id).css({
                    height: parseInt(data.pipe_size) * 3 + 2 + 'px',
                    width: parseInt(data.pipe_size) * 3 + 2 + 'px'
                });
                if (data.oid) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(vis.states[data.oid + '.val']) ? $this.data('color_on') : $this.data('color_off'));
                }
            });

            vis.binds.plumb.plumb_drop($this);

            $this.data('color_on',  data.color_on  || 'green');
            $this.data('color_off', data.color_off || '#c0c0c0');

            if (data.oid) {
                vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                    $('#' + id + '_fill').attr('fill', !vis.binds.basic.isFalse(newVal) ? $this.data('color_on') : $this.data('color_off'));
                });
            } else {
                $this.bind('plumb_change', function (event) {
                    vis.binds.plumb.check(id, event)
                });
            }
        },
        ent_e_top: function (el, data) {
            var $this = $(el).parent();
            var id = $this.attr('id');
            var plumb = vis.binds.plumb.data;

            vis.binds.plumb.data[id] = {
                type: "pump",
                cons: ["conTop", "conBottom", "conLeft", "conRight"],
                coli: false,
                conLeft: data.conLeft || null,
                conRight: data.conRight || null,
                conTop: data.conTop || null,
                conBottom: data.conBottom || null,
                status: false,
                color: {
                    c: null,
                    c_from: null,
                    c_default: null
                }
            };

            var self = plumb[id];

            vis.binds.plumb.plumb_drop($this);

            $this.find(".tank_simple_svg").append('\
            <svg\
            height="100%"\
            viewBox="0 0 300 600"\
            width="100%"\
            preserveAspectRatio="none"\
             >\
            <defs>\
            <clipPath id="e_' + id + '" clipPathUnits="userSpaceOnUse">\
            <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
            </clipPath>\
            <linearGradient id="d_' + id + '" gradientUnits="userSpaceOnUse" y1="300" x2="300" y2="300">\
            <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
            <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <linearGradient id="a_' + id + '">\
            <stop stop-color="#000000" stop-opacity="0" offset="0"/>\
            <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
            </linearGradient>\
            <radialGradient id="c_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="172.7" cx="153.34" gradientTransform="matrix(.98033 .00033848 -.00012370 .35826 3.079 -12.306)" r="150"/>\
            <radialGradient id="b_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="427.04" cx="150" gradientTransform="matrix(-1 0 0 -.37168 300 709.06)" r="150"/>\
            <linearGradient x1="25" y1="10" x2="25" y2="90" id="spray_grad_' + id + '" gradientUnits="userSpaceOnUse">\
            <stop offset="0.3" style="stop-color:#353575;stop-opacity:1" />\
            <stop offset="1" style="stop-color:#bb5500;stop-opacity:1"  />\
            </linearGradient>\
            <linearGradient x1="150" y1="300" x2="150" y2="550" id="fill_grad_' + id + '" gradientUnits="userSpaceOnUse">\
            <stop id="fill_grad_top' + id + '"    offset="0" style="stop-color:#bb5500;stop-opacity:0" />\
            <stop id="fill_grad_bottom' + id + '" offset="1" style="stop-color:' + data.water_color + ';stop-opacity:1"  />\
            </linearGradient>\
            <pattern id="kies_' + id + '" x="0" y="0" height="' + data.filter_size + '" width="' + data.filter_size + '" patternUnits="userSpaceOnUse">\
                    <image height="' + data.filter_size + '" width="' + data.filter_size + '"  xlink:href="' + data.filter_pattern + '"></image>\
            </pattern>\
            </defs>\
            <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
            <rect id="' + id + '_fill" clip-path="url(#e_' + id + ')" height="400" width="300" y="200" x="0" fill="url(#fill_grad_' + id + ')"/>\
            <rect id="' + id + '_kies" clip-path="url(#e_' + id + ')" height="450" width="300" y="250" x="0" style="opacity:' + data.filter_opa / 100 + '" fill="url(#kies_' + id + ')"/>\
            <rect class="' + id + '_spray" style="color:#000000" fill="#bb5500" stroke="#000000" stroke-linecap="round" stroke-width="0" height="60" width="300" y="120" x="0"></rect>\
            <polyline points="0,180 300,180" stroke="black" stroke-width="5"></polyline>\
            <path d="m0 50h300v500h-300z" fill="url(#d_' + id + ')" />\
            <path fill="url(#b_' + id + ')" d="m300 550a150 50 0 0 1 -75 43 150 50 0 0 1 -150 0 150 50 0 0 1 -75 -43h150z"/>\
            <path fill="url(#c_' + id + ')" d="m0  50a150 50 0 0 1 75 -43 150 50 0 0 1 150 -0 150 50 0 0 1 75 43h-0z"/>\
            <path class="' + id + '_spray" style="stroke-dasharray:10,7,3; stroke:url(#spray_grad_' + id + ');stroke-width:3;stroke-linecap:none;stroke-opacity:1" d="M 150,120 100,5 M 140,120 100,5 M 130,120 100,5 M 120,120 100,5 M 110,120 100,5 M 100,120 100,5 M  90,120 100,5 M  80,120 100,5 M  70,120 100,5 M  60,120 100,5 M  50,120 100,10"></path>\
            <path class="' + id + '_spray" style="stroke-dasharray:10,7,3; stroke:url(#spray_grad_' + id + ');stroke-width:3;stroke-linecap:none;stroke-opacity:1" d="M 250,120 200,5 M 240,120 200,5 M 230,120 200,5 M 220,120 200,5 M 210,120 200,5 M 200,120 200,5 M 190,120 200,5 M 180,120 200,5 M 170,120 200,5 M 160,120 200,5 M 150,120 200,10"></path>\
            </svg>\
            ');
            $this.bind('plumb_change', function (event) {
                if (self.conTop == event.from) {
                    if (event.status) {
                        $("." + id + "_spray").show()
                    } else {
                        $("." + id + "_spray").hide()
                    }
                }
                if (self.conRight == event.from) {
                    if (event.status) {
                        $('#fill_grad_top' + id).css("stop-opacity", "1");

                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: true,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: data.water_color
                            }
                        };
                        $('#' + self.conBottom).trigger(ev);
                    } else {
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: false,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: event.color.c_default
                            }
                        };
                        $('#' + self.conBottom).trigger(ev);
                        $('#fill_grad_top' + id).css("stop-opacity", '0')
                    }
                }
                if (self.conBottom == event.from) {
                    if (event.status) {
                        $('#fill_grad_top' + id).css("stop-opacity", '1');
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: true,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: "#bb5500"
                            }

                        };
                        $('#' + self.conRight).trigger(ev);
                    } else {
                        var ev = {
                            type: 'plumb_change',
                            from: id,
                            status: false,
                            color: {
                                c_from: id,
                                c_default: event.color.c_default,
                                c: event.color.c_default
                            }

                        };
                        $('#' + self.conRight).trigger(ev);
                        $('#fill_grad_top' + id).css("stop-opacity", "0")
                    }
                }
            });
        },
        tank_simple: function (el, data) {
            if (data.conRight_pos !== undefined) {
                var $this = $(el).parent();
                var id = $this.attr('id');
                var plumb = vis.binds.plumb.data;
                var last_event;
                vis.binds.plumb.data[id] = {
                    type: "pump",
                    cons: [],
                    coli: false,
                    conLeft: data.conLeft || null,
                    conRight: data.conRight || null,
                    conTop: data.conTop || null,
                    conBottom: data.conBottom || null,
                    status: false,
                    color: {
                        c: null,
                        c_from: null,
                        c_default: null
                    }
                };

                var self = plumb[id];

                vis.binds.plumb.plumb_drop($this);

                $this.find(".tank_simple_svg").append('\
                    <svg\
                    height="100%"\
                    viewBox="0 0 300 600"\
                    width="100%"\
                    preserveAspectRatio="none"\
                     >\
                    <defs>\
                    <clipPath id="e_' + id + '" clipPathUnits="userSpaceOnUse">\
                    <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
                    </clipPath>\
                    <linearGradient id="d_' + id + '" gradientUnits="userSpaceOnUse" y1="300" x2="300" y2="300">\
                    <stop stop-color="#000000" stop-opacity=".5" offset="0"/>\
                    <stop stop-color="#000000" stop-opacity="0" offset=".5"/>\
                    <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
                    </linearGradient>\
                    <linearGradient id="a_' + id + '">\
                    <stop stop-color="#000000" stop-opacity="0" offset="0"/>\
                    <stop stop-color="#000000" stop-opacity=".5" offset="1"/>\
                    </linearGradient>\
                    <radialGradient id="c_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="172.7" cx="153.34" gradientTransform="matrix(.98033 .00033848 -.00012370 .35826 3.079 -12.306)" r="150"/>\
                    <radialGradient id="b_' + id + '" xlink:href="#a_' + id + '" gradientUnits="userSpaceOnUse" cy="427.04" cx="150" gradientTransform="matrix(-1 0 0 -.37168 300 709.06)" r="150"/>\
                    <linearGradient x1="150" y1="300" x2="150" y2="600" id="fill_grad_' + id + '" gradientUnits="userSpaceOnUse">\
                    <stop id="fill_grad_top' + id + '"    offset="0" style="stop-color:' + data.top_water + ';stop-opacity:1" />\
                    <stop id="fill_grad_bottom' + id + '" offset="1" style="stop-color:' + data.bottom_water + ';stop-opacity:1"  />\
                    </linearGradient>\
                    <pattern id="kies_' + id + '" x="0" y="0" height="' + data.filter_size + '" width="' + data.filter_size + '" patternUnits="userSpaceOnUse">\
                            <image height="' + data.filter_size + '" width="' + data.filter_size + '"  xlink:href="' + data.filter_pattern + '"></image>\
                    </pattern>\
                    </defs>\
                    <path d="m146.46.013672a150 50 0 0 0 -71.46 6.6855 150 50 0 0 0 -75 43.301v499.8.20h.013672a150 50.2 0 0 0 74.986 43.28 150 50.2 0 0 0 150 0 150 50.2 0 0 0 74.97 -43.28h.03v-.20-499.8a150 50 0 0 0 -75 -43.301 150 50 0 0 0 -78.54 -6.6853z" fill="' + data.color + '"/>\
                    <rect id="' + data.wid + '_fill" style="color:#000000" clip-path="url(#e_' + id + ')" height="300" width="300" y="300" x="0" fill="url(#fill_grad_' + id + ')"/>\
                    <rect id="' + id + '_kies" clip-path="url(#e_' + id + ')" height="450" width="300" y="150" x="0" style="display: none; opacity:' + data.filter_opa / 100 + '" fill="url(#kies_' + id + ')"/>\
                    <path d="m0 50h300v500h-300z" fill="url(#d_' + id + ')"/>\
                    <path fill="url(#b_' + id + ')" d="m300 550a150 50 0 0 1 -75 43 150 50 0 0 1 -150 0 150 50 0 0 1 -75 -43h150z"/>\
                    <path fill="url(#c_' + id + ')" d="m0  50a150 50 0 0 1 75 -43 150 50 0 0 1 150 -0 150 50 0 0 1 75 43h-0z"/>\
                    </svg>\
                ');


                setTimeout(function () {
                    if (data.is_filter) {
                        $('#' + id + "_kies").show();
                    }

                    $this.find(".plumb_dock_right, .plumb_dock_left, .plumb_dock_top, .plumb_dock_bottom").remove();
                    $this.removeClass("pl_l");
                    $this.removeClass("pl_r");
                    $this.removeClass("pl_t");
                    $this.removeClass("pl_b");
                    var l;
                    var t;
                    var s;
                    var shadow;

                    if (data.conTop && data.conTop != "") {
                        self.cons.push("conTop");
                        if (data.conTop_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_top_svg" class="plumb-dock-svg plumb_dock_top"></div>');
                            vis.binds.plumb.svg_pipe_v(id + "_dock_top");

                            s = (parseInt(data.conTop_size) || 20);
                            t = "-9";
                            l = (($this.width() - s) / 100 * (data.conTop_pos || 50));

                            $this.find(".plumb_dock_top").css({
                                top: t + 'px',
                                left: l + 'px',
                                height: "50px",
                                width: s + 'px',
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });

                            $('#' + id + "_dock_top_fill").attr("fill", data.color_off);
                            $this.addClass("pl_t");
                        }
                    }

                    if (data.conBottom && data.conBottom != "") {
                        self.cons.push("conBottom");
                        if (data.conBottom_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_bottom_svg" class="plumb-dock-svg plumb_dock_bottom"></div>');
                            vis.binds.plumb.svg_pipe_v(id + "_dock_bottom");
                            s = (parseInt(data.conBottom_size) || 20);
                            t = "-9";
                            l = (($this.width() - s) / 100 * (data.conBottom_pos || 50));

                            $this.find(".plumb_dock_bottom").css({
                                bottom: t + 'px',
                                left: l + 'px',
                                height: "50px",
                                width: s + 'px',
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });
                            $('#' + id + "_dock_bottom_fill").attr("fill", data.color_off);
                            $this.addClass("pl_b")
                        }
                    }
                    if (data.conLeft && data.conLeft != "") {
                        self.cons.push("conLeft");
                        if (data.conLeft_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>');
                            vis.binds.plumb.svg_pipe_h(id + "_dock_left");
                            s = (parseInt(data.conLeft_size) || 20);
                            l = "-9";
                            t = (($this.height() - s) / 100 * (data.conLeft_pos || 50));

                            $this.find(".plumb_dock_left").css({
                                top: t + 'px',
                                left: l + 'px',
                                height: s + 'px',
                                width: "20px",
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });
                            $('#' + id + "_dock_left_fill").attr("fill", data.color_off);
                            $this.addClass("pl_l")
                        }
                    }
                    if (data.conRight && data.conRight != "") {
                        self.cons.push("conRight");
                        if (data.conRight_show) {
                            $this.find(".tank_simple").append('<div id="' + id + '_dock_right_svg" class="plumb-dock-svg plumb_dock_right"></div>');
                            vis.binds.plumb.svg_pipe_h(id + "_dock_right");
                            s = (parseInt(data.conRight_size) || 20);
                            l = "-9";
                            t = (($this.height() - s) / 100 * (data.conRight_pos || 50));

                            $this.find(".plumb_dock_right").css({
                                top: t + 'px',
                                right: l + 'px',
                                height: s + 'px',
                                width: "20px",
                                overflow: "hidden"
                            }).find("svg").css({
                                position: 'absolute',
                                width: '100%',
                                height: '100%'
                            });
                            $('#' + id + "_dock_right_fill").attr("fill", data.color_off);
                            $this.addClass('pl_r')
                        }
                    }
                    vis.binds.plumb.plumb_drop($this);

                    if (data.oid) {
                        set(vis.states[data.oid + '.val']);
                    }
                    vis.states.bind(data.oid + '.val', function (e, newVal, oldVal) {
                        set(newVal);
                    });
                }, 0);

                $this.bind('plumb_change', function (event) {
                    if (event.status) {
                        last_event = event.from;
                    }
                });
            }

            function set(_newVal) {
                var newVal = _newVal || 0;
                var step = 600 / 100;
                var val;
                var level;
                if (data.type === 'level') {
                    step = 600 / (data.level_max - data.level_min );
                    val = (newVal - data.level_min) * step;
                    if (val < 0) {
                        val = 0
                    }
                    level = parseInt(100 / 600 * val);
                    $('#' + data.wid + "_fill").attr('height', val).attr('y', 600 - val);
                    $('#fill_grad_' + id).attr('y1', 600 - val);
                } else if (data.type === 'bool') {
                    step = 600 / 100;

                    if (newVal) {
                        val = data.level_max * step;
                    } else {
                        val = data.level_min * step;
                    }

                    level = parseInt(100 / 600 * val);
                    $('#' + data.wid + "_fill").attr('height', val).attr("y", 600 - val);
                    $('#fill_grad_' + id).attr("y1", 600 - val);
                } else if (data.type === 'fix') {
                    level = parseInt(100 / 600 * (data.level_min * step));
                    $('#' + data.wid + "_fill").attr('height', data.level_min * step).attr("y", 600 - data.level_min * step);
                    $('#fill_grad_' + id).attr("y1", 600 - data.level_min * step);
                }


//                --------------------------------------------------------------------------------------------------------------------
                var ev = {
                    type:   'plumb_change',
                    from:   id,
                    status: true,
                    color: {
                        c_from: id
//                        c_default: event.color.c_default || "#C0C0C0",
//                        c: event.color.c || "#C0C0C0"
                    }
                };
                if (self.conRight != last_event) {
                    if (level > parseInt(data.conRight_level)) {
                        ev.color.c = data.conRight_color_on;
                        ev.color.c_default = data.conRight_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conRight_color_off;
                        ev.color.c_default = data.conRight_color_off;
                    }
                    $('#' + id + "_dock_right_fill").attr("fill", ev.color.c);
                    $('#' + self.conRight).trigger(ev);

                }
                if (self.conLeft != last_event) {
                    if (level >= parseInt(data.conLeft_level)) {
                        ev.color.c = data.conLeft_color_on;
                        ev.color.c_default = data.conLeft_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conLeft_color_off;
                        ev.color.c_default = data.conLeft_color_off;
                    }
                    $('#' + id + "_dock_left_fill").attr("fill", ev.color.c);
                    $('#' + self.conLeft).trigger(ev);
                }
                if (self.conTop != last_event) {
                    if (level >= parseInt(data.conTop_level)) {
                        ev.color.c = data.conTop_color_on;
                        ev.color.c_default = data.conTop_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conTop_color_off;
                        ev.color.c_default = data.conTop_color_off;
                    }
                    $('#' + id + "_dock_top_fill").attr("fill", ev.color.c);
                    $('#' + self.conTop).trigger(ev);
                }
                if (self.conBottom != last_event) {
                    if (level >= parseInt(data.conBottom_level)) {
                        ev.color.c = data.conBottom_color_on;
                        ev.color.c_default = data.conBottom_color_off;
                    } else {
                        ev.status = false;
                        ev.color.c = data.conBottom_color_off;
                        ev.color.c_default = data.conBottom_color_off;
                    }
                    $('#' + id + "_dock_bottom_fill").attr("fill", ev.color.c);
                    $('#' + self.conBottom).trigger(ev);
                }
//
//                if (self.conRight == last_event) {
//                    $('#' + id + "_dock_right_fill").attr("fill", event.color.c);
//                } else if (self.conLeft == last_event) {
//                    $('#' + id + "_dock_left_fill").attr("fill", event.color.c);
//                } else if (self.conTop == last_event) {
//                    $('#' + id + "_dock_top_fill").attr("fill", event.color.c);
//                } else if (self.conBottom == last_event) {
//                    $('#' + id + "_dock_bottom_fill").attr("fill", event.color.c);
//                }
            }

            setTimeout(function () {
                $($this.parent()).on('rendered', function () {
                    if (data.oid) {
                        set(vis.states[data.oid + '.val']);
                    }
                });
            }, 0);
        }
    };

    vis.binds.plumb.showVersion();
</script>

<script id="tplPlump_pump" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplPlump_pump&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev pl_b pl_t ui-selectee ui-draggable-handle &quot; data-vis-resizable=&quot;{}&quot; style=&quot;top: 163px; left: 449px; width: 57px; height: 183px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt;	&lt;div class=&quot;pump&quot; &gt;&lt;img style=&quot;position: absolute; width: 100%;&quot; src=&quot;./widgets/plumb/img/pumpe.png&quot;&gt;&lt;div class=&quot;plumb_dock_top ui-droppable&quot;&gt;&lt;/div&gt;&lt;div class=&quot;plumb_dock_bottom ui-droppable&quot;&gt;&lt;/div&gt;	&lt;div class=&quot;plumb_dock_left ui-droppable&quot;&gt;&lt;/div&gt;	&lt;div class=&quot;plumb_dock_right ui-droppable&quot;&gt;&lt;/div&gt;	&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="Pump" data-vis-attrs="oid;src[widgets/plumb/img/pumpe.png]/image;color_off[#C0C0C0]/color;color_on[#00ff00]/color;group.conTop;conTop_show/checkbox;conTop_size[20]/slider,10,50,5;conTop_pos[50]/slider,0,100,1;conTop;group.conBottom;conBottom_show/checkbox;conBottom_size[20]/slider,10,50,5;conBottom_pos[50]/slider,0,100,1;conBottom;group.conLeft;conLeft_show/checkbox;conLeft_size[20]/slider,10,50,5;conLeft_pos[50]/slider,0,100,1;conLeft;group.conRight;conRight_show/checkbox;conRight_size[20]/slider,10,50,5;conRight_pos[50]/slider,0,100,1;conRight">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_t pl_l pl_r" data-vis-resizable='{}' style=" width: 65px; height: 205px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.pump(el, data) %>>
	<div class="pump" >
	  <% if (vis.editMode) { %>
                <div class="editmode-helper" style="z-index:0" />
            <% } %>
            <img class="pump_img" <%= this.data.attr('src') ? 'src="' + this.data.attr('src') + '"' : '' %> />
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_right"></div>
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_top"></div>
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_i-sprinkler" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplPlump_isprinkler&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev pl pl_b pl_t pl_l pl_r ui-draggable-handle &quot; data-vis-resizable=&quot;{&quot;grid&quot;: [ 10, 10 ]}&quot; style=&quot;width: 20px; height: 17px; overflow: visible; left: 242px; top: 228px; position: absolute;&quot; &gt; &lt;div class=&quot;plumb_sprinkler_i_body vis-widget-prev-body&quot; style=&quot;border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; background-color: rgb(0, 0, 0);&quot;&gt; &lt;div class=&quot;plumb_sprinkler_i&quot; &gt; &lt;div class=&quot;plumb_splinkler_i_water&quot; style=&quot;height: 60px; width: 5px; left: 7px; top: -51px; position: relative; background-color: rgb(27, 138, 222);&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;plumb_dock_top ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_bottom ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_left ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_right ui-droppable&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="Sprinker I" data-vis-attrs="_no_resize[true]/hidden;test/checkbox;spray_width[100]/slider,10,500,1;head_size[20]/slider,10,50,5;time[4];start[0];ende[90];stroke[4];opacity[0.8];fog/checkbox;water_color[blue]/color;head_color[black]/color;head_show[true]/checkbox;head_round[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_t pl_l pl_r" style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="plumb_sprinkler_i_body vis-widget-body" <%= (el) -> vis.binds.plumb.sprinkler_i(el, data) %>>
            <% if (vis.editMode) { %><div class="editmode-helper" /><% } %>
            <div class="plumb_sprinkler_i" style="display: 'none'">
                <div class="plumb_sprinkler_i_water"></div>
            </div>
            <div class="plumb_dock_top"></div>
            <div class="plumb_dock_bottom"></div>
            <div class="plumb_dock_left"></div>
            <div class="plumb_dock_right"></div>
        </div>
    </div>
</script>

<script id="tplPlump_r-sprinkler" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplPlump_isprinkler&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev pl pl_b pl_t pl_l pl_r ui-draggable-handle &quot; data-vis-resizable=&quot;{&quot;grid&quot;: [ 10, 10 ]}&quot; style=&quot;width: 20px; height: 17px; overflow: visible; left: 242px; top: 228px; position: absolute;&quot; &gt; &lt;div class=&quot;plumb_sprinkler_i_body vis-widget-prev-body&quot; style=&quot;border-top-left-radius: 100%; border-top-right-radius: 100%; border-bottom-right-radius: 100%; border-bottom-left-radius: 100%; background-color: rgb(0, 0, 0);&quot;&gt; &lt;div class=&quot;plumb_sprinkler_i&quot; &gt; &lt;div class=&quot;plumb_splinkler_i_water&quot; style=&quot;height: 60px; width: 5px; left: 7px; top: -51px; position: relative; background-color: rgb(27, 138, 222);&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;plumb_dock_top ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_bottom ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_left ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_right ui-droppable&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="Sprinker R" data-vis-attrs="_no_resize[true]/hidden;spray_width[100]/slider,10,500,1;" data-vis-attrs0="spray_range[360]/nselect,360,0-180,90-270,270-90,0-90,90-180,180-270,270-360;test/checkbox;time[30];head_size[20]/slider,10,50,5;start[0]/slider,0,100,1;ende[100]/slider,0,100,1;stroke[4];opacity[0.8]/slider,0,1,0.01;water_color[blue]/color;head_color[black]/color;head_round[true]/checkbox">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_t pl_l pl_r" style=" width: 20px; height: 20px;overflow: visible" id="<%= this.data.attr('wid') %>">
        <div style="overflow: visible" class="plumb_sprinkler_r_body vis-widget-body" <%= (el) -> vis.binds.plumb.sprinkler_r(el, data) %>>
            <div class="plumb_sprinkler_r_head"></div>
            <div class="plumb_dock_top"></div>
            <div class="plumb_dock_bottom"></div>
            <div class="plumb_dock_left"></div>
            <div class="plumb_dock_right"></div>
            <div class="plumb_sprinkler_r" style="display: 'none'">
            </div>
        </div>
    </div>
</script>

<script id="tplPlump_pipe_V" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_pipe_v.png&quot; &gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Pipe_V" data-vis-attrs="pipe_size[20]/slider,10,50,5;conTop;conBottom;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> plumb_pipe pl pl_b pl_t" data-vis-resizable='{"handles": "n,s" }' style="width: 20px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.pipe_v(el, data) %>>
	<div class="pipe_v" >
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_pipe_H" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_pipe_h.png&quot; class=&quot;&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Pipe_H" data-vis-attrs="pipe_size[20]/slider,10,50,5;conLeft;conRight;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> plumb_pipe pl pl_l pl_r " data-vis-resizable='{"handles": "e, w"}' style=" width: 100px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.pipe_h(el, data) %>>
	<div class="pipe_h" >
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_br" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_bogen.png&quot; class=&quot;&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Bogen_br" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conBottom;conRight;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_r pl_b "  style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_br(el, data) %>>
	<div class="bogen_br">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate180"></div>
	<div class="plumb_dock_right"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_bl" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_bogen.png&quot; class=&quot;plumb-flip-x&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Bogen_bl" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conBottom;conLeft;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_l pl_b " style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_bl(el, data) %>>
	<div class="bogen_bl plumb_body">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-flip-y"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_tr" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_bogen.png&quot; class=&quot;plumb-flip-y&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Bogen_tr" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conTop;conRight;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_t pl_r " style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_tr(el, data) %>>
	<div class="bogen_tr plumb_body">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-flip-x"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_bogen_tl" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_bogen.png&quot; class=&quot;plumb-rotate180&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Bogen_tl" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conTop;conLeft;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class')%>  pl pl_t pl_l " style=" width: 20px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.bogen_tl(el, data) %>>
	<div class="bogen_tl plumb_body">
	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_left"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_valve_H" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplPlump_valve_H&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev pl_l pl_r ui-selectee ui-draggable-handle &quot; data-vis-resizable=&quot;{&quot;grid&quot;: [ 20, 10 ],&quot;aspectRatio&quot;: true}&quot; style=&quot;top: 245px; left: 240px; width: 40px; height: 20px;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt;   &lt;div class=&quot;valve_h&quot; &gt;    &lt;div class=&quot;plumb_valve_l&quot; style=&quot;border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgb(255, 0, 0); border-width: 10px 0px 10px 20px;&quot;&gt;&lt;/div&gt;    &lt;div class=&quot;plumb_valve_r&quot; style=&quot;border-color: rgba(0, 0, 0, 0) rgb(255, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0); border-width: 10px 20px 10px 0px;&quot;&gt;&lt;/div&gt;    &lt;div class=&quot;plumb_dock_left ui-droppable&quot;&gt;&lt;/div&gt;    &lt;div class=&quot;plumb_dock_right ui-droppable&quot;&gt;&lt;/div&gt;   &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="valve_H" data-vis-attrs="_no_resize[true]/hidden;oid;pipe_size[20]/slider,10,50,5;conLeft;conRight;ctrl/checkbox;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r " style=" width: 30px; height: 20px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.valve_h(el, data) %>>
	<div class="valve_h " >
	<svg style="display: block"
	   preserveAspectRatio="none"
            	height="100%"
            	width="100%"
            	viewBox="0 0 350 200">
              <path d="m0 0v200l175-87.5 175 87.5v-200l-175 87.5-175-87.5z" fill-rule="evenodd" fill="#ff0000"/>
            </svg>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_valve_V" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplPlump_valve_v&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev pl_t pl_b ui-selectee ui-draggable-handle &quot; data-vis-resizable=&quot;{&quot;grid&quot;: [ 10, 20 ],&quot;aspectRatio&quot;: true}&quot; style=&quot;width: 20px; height: 35px; left: 121px; top: 469px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;div class=&quot;valve_v &quot; &gt; &lt;div class=&quot;plumb_valve_t&quot; style=&quot;border-color: rgb(255, 0, 0) rgba(0, 0, 0, 0) rgba(0, 0, 0, 0); border-width: 20px 10px 0px;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_valve_b&quot; style=&quot;border-color: rgba(0, 0, 0, 0) rgba(0, 0, 0, 0) rgb(255, 0, 0); border-width: 0px 10px 20px;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_top ui-droppable&quot;&gt;&lt;/div&gt; &lt;div class=&quot;plumb_dock_bottom ui-droppable&quot;&gt;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="valve_V" data-vis-attrs="_no_resize[true]/hidden;oid;pipe_size[20]/slider,10,50,5;conTop;conBottom;ctrl/checkbox;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_t pl_b " style=" width: 20px; height: 32px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.valve_v(el, data) %>>
	<div class="valve_v " >
	<svg style="display: block"
	   preserveAspectRatio="none"\
                	height="100%"
                	width="100%"
                	viewBox="0 0 200 350">
                 <path d="m0 350h200l-87.5-175 87.5-175h-200l87.5 175-87.5 175z" fill-rule="evenodd" fill="#ff0000"/>
                </svg>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_check_valve_H" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_c_valve_h.png&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="Check Valve H" data-vis-attrs="_no_resize[true]/hidden;conLeft;conRight;pipe_size[20]/slider,10,50,5;turn_direction[false]/checkbox;color_on/color;color_off/color;">
         <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r " style=" width: 50px; height: 20px;" id="<%= this.data.attr('wid') %>">
             <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.c_valve_h(el, data) %>>
    	<div class="valve_h " >
    	<div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
    	<div class="plumb_dock_left"></div>
    	<div class="plumb_dock_right"></div>
    	</div>
             </div>
         </div>
</script>

<script id="tplPlump_check_valve_V" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_c_valve_v.png&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="val" data-vis-name="Check Valve V" data-vis-attrs="_no_resize[true]/hidden;conTop;conBottom;pipe_size[20]/slider,10,50,5;turn_direction[false]/checkbox;color_on/color;color_off/color;">
         <div class="vis-widget <%== this.data.attr('class') %> pl pl_t pl_b " style=" width: 20px; height: 50px;" id="<%= this.data.attr('wid') %>">
             <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.c_valve_v(el, data) %>>
    	<div class="valve_v " >
    	       <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg"></div>
    	<div class="plumb_dock_top"></div>
    	<div class="plumb_dock_bottom"></div>
    	</div>
             </div>
         </div>
</script>

<script id="tplPlump_Tpiece_ht" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_tpice.png&quot; &gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Pipe_HT" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conLeft;conRight;conTop;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_t" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_ht(el, data) %>>
	<div class="tpice_ht" >
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate270"></div>
	   <div class="tpice-hr plumb_body"></div>
	   <div class="tpice-t plumb_body"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_Tpiece_hb" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_tpice.png&quot; class=&quot;plumb-flip-y&quot; &gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Pipe_HB" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conLeft;conRight;conBottom;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_b" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_hb(el, data) %>>
	<div class="tpice_ht " >
	           <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate90"></div>
	<div class="plumb_dock_bottom"></div>
	<div class="plumb_dock_left"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_Tpiece_vl" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_tpice.png&quot; class=&quot;plumb-rotate270&quot; style=&quot;margin:15px&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Pipe_VL" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conLeft;conBottom;conTop;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_b pl_t" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_vl(el, data) %>>
	<div class="tpice_vl " >
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg plumb-rotate180"></div>
	   <div class="tpice-vb plumb_body"></div>
	<div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	<div class="plumb_dock_left"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_Tpiece_vr" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_tpice.png&quot; class=&quot;plumb-rotate90&quot; style=&quot;margin:15px&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Pipe_VR" data-vis-attrs="_no_resize[true]/hidden;pipe_size[20]/slider,10,50,5;conBottom;conRight;conTop;" data-vis-attrs0="group.custom_control;oid;color_on/color;color_off/color;">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_b pl_r pl_t" style="width: 60px; height: 60px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tpice_vr(el, data) %>>
	<div class="tpice_vr ">
	   <div id="<%= this.data.attr('wid') %>_svg" class="plumb-svg "></div>
                <div class="plumb_dock_top"></div>
	<div class="plumb_dock_bottom"></div>
	<div class="plumb_dock_right"></div>
	</div>
        </div>
    </div>
</script>

<script id="tplPlump_tank_simple" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/plumb/img/prev_tank_simple.png&quot;&gt;&lt;/img&gt;" data-vis-set="plumb" data-vis-type="static" data-vis-name="Tank" data-vis-attrs="type[level]/nselect,fix,bool,level;level_min[0];level_max[100];oid;color[#C0C0C0]/color;top_water[#0000ff]/color;bottom_water[#00ffff]/color;" data-vis-attrs0="group.filter;is_filter/checkbox;filter_pattern[widgets/plumb/img/kies.png]/image;filter_size[100];filter_opa[50]/slider,0,100,1;" data-vis-attrs1="group.conTop;conTop_show/checkbox;conTop_level[100]/slider,0,100,1;conTop_color_off[#C0C0C0]/color;conTop_color_on[#00ff00]/color;conTop_size[20]/slider,10,50,5;conTop_pos[50]/slider,0,100,1;conTop;" data-vis-attrs2="group.conBottom;conBottom_show/checkbox;conBottom_level[1]/slider,0,100,1;conBottom_color_off[#C0C0C0]/color;conBottom_color_on[#00ff00]/color;conBottom_size[20]/slider,10,50,5;conBottom_pos[50]/slider,0,100,1;conBottom;" data-vis-attrs3="group.conLeft;conLeft_show/checkbox;conLeft_level[50]/slider,0,100,1;conLeft_color_off[#C0C0C0]/color;conLeft_color_on[#00ff00]/color;conLeft_size[20]/slider,10,50,5;conLeft_pos[50]/slider,0,100,1;conLeft;" data-vis-attrs4="group.conRight;conRight_show/checkbox;conRight_level[50]/slider,0,100,1;conRight_color_off[#C0C0C0]/color;conRight_color_on[#00ff00]/color;conRight_size[20]/slider,10,50,5;conRight_pos[50]/slider,0,100,1;conRight">
    <div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_t pl_b" data-vis-resizable='{}' style="min-width: 70px; min-height: 135px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.plumb.tank_simple(el, data) %>>
	<div class="tank_simple" >
            	<div class="tank_simple_svg">
	<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>
	<div id="<%= this.data.attr('wid') %>_dock_right_svg" class="plumb-dock-svg plumb_dock_right"></div>
	<div id="<%= this.data.attr('wid') %>_dock_top_svg" class="plumb-dock-svg plumb_dock_top"></div>
	<div id="<%= this.data.attr('wid') %>_dock_bottom_svg" class="plumb-dock-svg plumb_dock_bottom"></div>
	</div>
        </div>
    </div>
</script>

<!--<script id="tplPlump_tank_ent_e"-->
<!--type="text/ejs"-->
<!--class="vis-tpl"-->
<!--data-vis-prev='<div id="prev_tplPlump_tank_ent_e" style="position: relative; text-align: initial;padding: 4px "><div class="vis-widget_prev pl pl_l pl_r pl_t ui-draggable-handle " data-vis-resizable="{"grid": [ 30, 30 ],"aspectRatio": true}" style="width: 110px; height: 240px; left: 330px; top: 47px; position: absolute;" > <div class="vis-widget-prev-body"> <div class="tank_ent-e " > <div class="ent-e_top_pipe-l" style="box-shadow: rgb(0, 0, 0) 10px 0px 10px -10px inset, rgb(0, 0, 0) -10px 0px 10px -10px inset;"></div> <div class="ent-e_top_pipe-r" style="box-shadow: rgb(0, 0, 0) 10px 0px 10px -10px inset, rgb(0, 0, 0) -10px 0px 10px -10px inset;"></div> <div class="ent-e_top" style="box-shadow: rgb(0, 0, 0) 90px 0px 90px -90px inset, rgb(0, 0, 0) -90px 0px 90px -90px inset, rgb(0, 0, 0) 0px 45px 45px -45px inset;"></div> <div class="ent-e_center" style="box-shadow: rgb(0, 0, 0) 90px 0px 90px -90px inset, rgb(0, 0, 0) -90px 0px 90px -90px inset;"> <div class="ent-e_schott"></div> <div class="ent-e_kies"></div> </div> <div class="ent-e_bottom" style="box-shadow: rgb(0, 0, 0) 90px 0px 90px -90px inset, rgb(0, 0, 0) -90px 0px 90px -90px inset;"></div> <div class="ent-e_bottom_pipe"></div> <div class="plumb_dock_top ui-droppable"></div> <div class="plumb_dock_left ui-droppable"></div> <div class="plumb_dock_right ui-droppable"></div> </div> </div> </div></div>'-->
<!--data-vis-set="plumb"-->
<!--data-vis-type="static"-->
<!--data-vis-name="Tank Enteisung"-->
<!--data-vis-attrs="color[#C0C0C0]/color;water_color[#0000ff]/color;conTop,cnBottom;conLeft;conRight;filter_pattern[widgets/plumb/img/kies.png]/image;filter_size[15];filter_opa[50]/slider,0,100,1">-->
<!--<div class="vis-widget <%== this.data.attr('class') %> pl pl_l pl_r pl_t" data-vis-resizable='{"grid": [ 5, 5 ],"aspectRatio": false,"handles": "n, e, s, w"}' style="min-width: 140px; min-height: 270px;" id="<%= this.data.attr('wid') %>">-->
<!--<div class="vis-widget-body" <%= (el) -> vis.binds.plumb.ent_e_top(el, data) %>>-->
<!--<div class="tank_ent-e " >-->
<!--<div class="tank_simple_svg">-->
<!--<div id="<%= this.data.attr('wid') %>_dock_left_svg" class="plumb-dock-svg plumb_dock_left"></div>-->
<!--<div id="<%= this.data.attr('wid') %>_dock_right_svg" class="plumb-dock-svg plumb_dock_right"></div>-->
<!--<div id="<%= this.data.attr('wid') %>_dock_top_svg" class="plumb-dock-svg plumb_dock_top"></div>-->
<!--<div id="<%= this.data.attr('wid') %>_dock_bottom_svg" class="plumb-dock-svg plumb_dock_bottom"></div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</script>-->

<!-- --------------plumb.html--- END -->
<!-- --------------rgraph.html--- START -->
<!--
    ioBroker.vis rgraph Widget-Set

    version: "0.0.2"

    Copyright 2013-2015 bluefox<dogafox@gmail.com>
-->
<script type="text/javascript" src="./vis_files/RGraph.common.core.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.common.effects.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.common.dynamic.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.common.tooltips.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.common.key.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.thermometer.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.gauge.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.bar.js"></script>
<script type="text/javascript" src="./vis_files/RGraph.line.js"></script>

<script language="javascript">
    "use strict";
    // Add words for bars
    if (vis.editMode) {
        $.extend(systemDictionary, {
            "min_value"          : {"en": "Min value",      "de": "Min Wert",             "ru": "Мин. значение"},
            "max_value"          : {"en": "Max value",      "de": "Max Wert",             "ru": "Макс. значение"},
            "max_value_oid"       : {"en": "Max value ID",   "de": "Max Wert Objekt",      "ru": "ID макс. значения"},
            "width"              : {"en": "Widget width",   "de": "Widgetbreite",         "ru": "Ширина элемента"},
            "control"            : {"en": "Control",        "de": "Steuerung",            "ru": "Контроль"},
            "factor"             : {"en": "Multiply factor","de": "Wert multiplizieren",  "ru": "Фактор-множитель"},
            "value_offset"       : {"en": "Offset factor",  "de": "Offsetwert",           "ru": "Фактор сдвига"},
            "color"              : {"en": "Color",          "de": "Farbe",                "ru": "Цвет"},
            "show_scale"         : {"en": "Show scale",     "de": "Zeige Skala",          "ru": "Показать шкалу"},
            "labels_color"       : {"en": "Labels color",   "de": "Labelfarbe",           "ru": "Цвет подписей шкалы"},
            "labels_font"        : {"en": "Labels font",    "de": "Labelfont",            "ru": "Шрифт подписей шкалы"},
            "labels_size"        : {"en": "Labels font size","de": "Labelsfontgröße",     "ru": "Размер подписей шкалы"},
            "title"              : {"en": "Title",          "de": "Titel",                "ru": "Подпись"},
            "title_side"         : {"en": "Side title",     "de": "Seitentitel",           "ru": "Вертикальная подпись"},
            "title_side_font"    : {"en": "Side title font","de": "Seitentitelfont",       "ru": "Шрифт вертикальной подписи"},
            "title_side_size"    : {"en": "Side title font size","de": "Seitentitelfontgröße","ru": "Размер вертикальной подписи"},
            "show_shadow"        : {"en": "Show shadow",    "de": "Zeige Schatten",       "ru": "Показать тень"},
            "ticksize"           : {"en": "Tick length",    "de": "Zeichenlänge",         "ru": "Длина штриха"},
            "units_pre"          : {"en": "Units pre",      "de": "Einheitsprefix",       "ru": "Префикс"},
            "units_post"         : {"en": "Units post",     "de": "Einheitspostfix",      "ru": "Суффикс"},
            "scale_decimals"     : {"en": "Scale decimals", "de": "Nachkommazeichen bei Skala","ru": "Чисел после запятой шкалы"},
            "show_value"         : {"en": "Show value",     "de": "Zeige Wert",           "ru": "Показать значение"},
            "value_decimals"     : {"en": "Value decimals", "de": "Nachkommazeichen beim Wert","ru": "Чисел после запятой значения"},
            "labels_count"       : {"en": "Labels count",   "de": "Anzahl von Labels",    "ru": "Кол-во подписей в шкале"},
            "animate"            : {"en": "Show animation", "de": "Zeige Animation",      "ru": "Плавное изменение"},
            // Gauge
            "oid_2"            : {"en": "Second object ID",    "de": "Zweite ObjektID",          "ru": "ID второго объекта"},
            "oid_3"            : {"en": "Third object ID",     "de": "Dritte ObjektID",          "ru": "ID третьего объекта"},
            "a_start"            : {"en": "Scale start",         "de": "Anfang von Skala",         "ru": "Начало шкалы"},
            "a_end"              : {"en": "Scale end",           "de": "Ende von Skala",           "ru": "Конец шкалы"},
            "ticks_big_color"    : {"en": "Big tick color",      "de": "Farbe von langen Ticks",   "ru": "Цвет длинных штрихов"},
            "ticks_small_color"  : {"en": "Small tick color",    "de": "Farbe von kurzen Ticks",   "ru": "Цвет коротких штрихов"},
            "border_outer_color" : {"en": "Outer border color",  "de": "Aussenrand-Farbe",         "ru": "Цвет внешней каймы"},
            "border_inner_color" : {"en": "Inner border color",  "de": "Innenrabd-Farbe",          "ru": "Цвет внутренней каймы"},
            "back_color"         : {"en": "Background color",    "de": "Hintergrund-Farbe",        "ru": "Цвет фона"},
            "background_gradient": {"en": "Gradient background", "de": "Hintergrund mit Gradient", "ru": "Фон с градиентом"},
            "border_outline_color" : {"en": "Outline border color","de": "Abgrenzungrand-Farbe",   "ru": "Цвет границы"},
            "needle_colors"      : {"en": "Needle colors",       "de": "Zeigerfarben",             "ru": "Цвет стрелки"},
            "needle_type"        : {"en": "Needle type",         "de": "Zeigertyp",                "ru": "Тип стрелки"},
            "needle_tail"        : {"en": "Show needle tail",    "de": "Zeige Zeigerschwanz",      "ru": "Показать хвостик стрелки"},
            "needle_size"        : {"en": "Needle size",         "de": "Zeigergröße",              "ru": "Размер стрелки"},
            "centerpin_radius"   : {"en": "Center radius",       "de": "Radius von Mittelpunkt",   "ru": "Радиус центральной точки"},
            "centerpin_color"    : {"en": "Center color",        "de": "Farbe von Mittelpunkt",    "ru": "Цвет центральной точки"},
            "title_color"        : {"en": "Top title color",     "de": "Obere Beschriftungsfarbe", "ru": "Цвет верхней подписи"},
            "title_font"         : {"en": "Top title font",      "de": "Oberer Beschriftungsfont", "ru": "Шрифт верхней подписи"},
            "title_size"         : {"en": "Top title size",      "de": "Obere Beschriftungsgröße", "ru": "Размер верхней подписи"},
            "title_pos"          : {"en": "Top title position",  "de": "Obere Beschriftungs- Position","ru": "Положение верхней подписи"},
            "title_bottom"       : {"en": "Bottom title",        "de": "Untere Beschriftung",      "ru": "Нижняя подпись"},
            "title_bottom_color" : {"en": "Bottom title color",  "de": "Untere Beschriftungsfarbe","ru": "Цвет нижней подписи"},
            "title_bottom_font"  : {"en": "Bottom title font",   "de": "Unterer Beschriftungfont", "ru": "Шрифт нижней подписи"},
            "title_bottom_size"  : {"en": "Bottom title size",   "de": "Untere Beschriftungsgröße","ru": "Размер верхней подписи"},
            "title_bottom_pos"   : {"en": "Bottom title position","de": "Untere Beschriftungs- Position","ru": "Положение нижней подписи"},
            "labels_centered"    : {"en": "Centered labels",     "de": "Labels zentriert",         "ru": "Подписи шкалы ближе к границе"},
            "labels_offset"      : {"en": "Labels offset",       "de": "Offsetlables",             "ru": "Сдвиг подписей шкалы"},
            "red_start"          : {"en": "End of third sector", "de": "Ende von dritten Sektor",  "ru": "Конец третьего сектора"},
            "red_color"          : {"en": "Color of third sector", "de": "Farbe von dritten Sektor","ru": "Цвет третьего сектора"},
            "yellow_color"       : {"en": "Color of second sector","de": "Farbe von zweten Sektor","ru": "Цвет второго сектора"},
            "green_color"        : {"en": "Color of first sector", "de": "Farbe von ersten Sektor","ru": "Цвет первого сектора"},
            "green_end"          : {"en": "End of first sector",   "de": "Ende von ersten Sektor", "ru": "Конец первого сектора"},
            "padding_left"       : {"en": "Padding left",        "de": "Abstand links",            "ru": "Отступ слева"},
            "padding_right"      : {"en": "Padding right",        "de": "Abstand rechts",          "ru": "Отступ справа"},
            "animate_tooltip"    : {"en": "Slow changes of value", "de": "Langsame Wertänderung",  "ru": "Анимированное изменение значения"},
            "Arial"              : {"en": "Arial",               "de": "Arial",                    "ru": "Arial"},
            "Times"              : {"en": "Times",               "de": "Times",                    "ru": "Times"},
            "Andale Mono"        : {"en": "Andale Mono",         "de": "Andale Mono",              "ru": "Andale Mono"},
            "Comic Sans"         : {"en": "Comic Sans",          "de": "Comic Sans",               "ru": "Comic Sans"},
            "Impact"             : {"en": "Impact",              "de": "Impact",                   "ru": "Impact"},
            "group_scale"        : {"en": "Scale",               "de": "Skala",                    "ru": "Шкала"},
            "group_title"        : {"en": "Title",               "de": "Beschriftung",             "ru": "Подпись"},
            "group_advanced"     : {"en": "Advanced",            "de": "Erweitert",                "ru": "Дополнительно"},
            "group_background"   : {"en": "Background",          "de": "Hintergrund",              "ru": "Фон"},
            "group_labels"       : {"en": "Labels",              "de": "Aufschrift",               "ru": "Надписи"},
            "group_sectors"      : {"en": "Sectors",             "de": "Sektoren",                 "ru": "Сектора"},
            "line_color"         : {"en": "Line color",          "de": "Liniefarbe",               "ru": "Цвет линии"},
            "line_thick"         : {"en": "Line thickness",      "de": "Linienbreite",             "ru": "Толщина линии"},
            "update_interval"    : {"en": "Update interval(ms)", "de": "Aktualisierungs- Intervall(ms)", "ru": "Обновление(мс)"},
            "update_interval_tooltip": {"en": "How offten the new point will be painted on graphics.\x0AMake it smaller to see the changes.", "de": "Wie oft wird neuen Punkt gemalt.\x0AMach es kleiner um die Änderungen zu sehen.", "ru": "Как часто рисуется новая точка на графике\x0AНапиши маленькое значение, что бы понять, как работает график."},
            "points_count"       : {"en": "Points number on X",  "de": "Punktenanzahl über X",     "ru": "Количество точек в графике по X"},
            "title_x"            : {"en": "Title for x axis",    "de": "Beschriftung X-Achse",     "ru": "Подпись шкалы X"},
            "title_y"            : {"en": "Title for y axis",    "de": "Beschriftung Y-Achse",     "ru": "Подпись шкалы Y"},
            "num_hlines"         : {"en": "Horizontal lines number", "de": "Anzahl von horizontalen Linien", "ru": "Кол-во горизонтальных линий"},
            "spline"             : {"en": "Spline smoothing",    "de": "Splineglättung",           "ru": "Сглаживание сплайном"},
            "filled"             : {"en": "Filled graphics",     "de": "Gefüllte Grafik",          "ru": "Закрашеный график"},
            "group_oid_show"     : {"en": "Show lines depends on", "de": "Zeige Linien abhängig von", "ru": "Показать линии в зависимости от"},
            "oid_show"           : {"en": "Show line depends on", "de": "Zeige Linie abhängig von", "ru": "Показать линию в зависимости от"},
            "triangle"           : {"en": "Triangle form",       "de": "Dreieckform",              "ru": "Треугольной формы"},
            "line"               : {"en": "Line",                "de": "Linie",                    "ru": "Линия"},
            "group_settings"     : {"en": "Settings",            "de": "Einstellungen",            "ru": "Настройки"},
            "filled_color"       : {"en": "Color of the bar's bottom",  "de": "Barfarbe unten",    "ru": "Цвет графика снизу"},
            "empty_color"        : {"en": "Color of the bar top", "de": "Barfarbe oben",           "ru": "Цвет графика сверху"},
            "label_color"        : {"en": "Labels color",        "de": "Beschriftungs- Farbe",     "ru": "Цвет подписей"},
            "legend"             : {"en": "Show legend",         "de": "Zeige Legende",            "ru": "Показать легенду"},
            "filled_text"        : {"en": "Legend for filled value", "de": "Legende für den Wert", "ru": "Легенда для значения"},
            "empty_text"         : {"en": "Legend for non-filled value",  "de": "Legende für den Gegenwert",               "ru": "Легенда для пустого значения"},
            "labels_above"       : {"en": "Show max value at top",  "de": "Zeige maximales Wert oben", "ru": "Показать максимальное значение"},
            "label_size"         : {"en": "Label's size",        "de": "Beschriftungs- größe",     "ru": "Размер подписей"},
            "labels_above_angle" : {"en": "Max value at top with angle", "de": "Zeige maximales Wert oben diagonal", "ru": "Максимальное значение под углом"},
            "decimals"           : {"en": "Digits after comma",  "de": "Nach Kommazahlen",         "ru": "Чисел после запятой"},
            "gutter_left"        : {"en": "Gutter left",         "de": "Abstand links",            "ru": "Отступ слева"},
            "horz_margin"        : {"en": "Horizontal margin",   "de": "Horizontaler Abstand",     "ru": "Горизонтальный отступ"},
            "bar_labels_color"   : {"en": "Bar value's color",   "de": "Bar-Wert-Farbe",           "ru": "Цвет значения"},
            "bar_labels_bold"    : {"en": "Bar value's bold font", "de": "Bar-Wert-Dick",          "ru": "Жирный шрифт значения"},
            "bar_labels_center"  : {"en": "Show value in middle",  "de": "Zeige Wert in der Mitte", "ru": "Показать значение в центре"},
            "group_colors"       : {"en": "Colors",              "de": "Farben",                   "ru": "Цвета"},
            "group_max_values"   : {"en": "Max values",          "de": "Maximale Werte",           "ru": "Максимальные значения"}
        });
    }    

    //jQuery.extend(true, vis.binds, {
    vis.binds.rgraph = {
	    version: "0.0.2",
		showVersion: function () {
			if (vis.binds.rgraph.version) {
				console.log('Version vis-rgraph:' + vis.binds.rgraph.version);
				vis.binds.rgraph.version = null;
			}
		},
        // Register callback in dashUI
        init: function  () {
			vis.binds.rgraph.showVersion();
            if (!vis.binds.rgraph.regElements) {
                vis.binds.rgraph.regElements = [];
                vis.registerOnChange(vis.binds.rgraph.onchange, null);
            }
        },

        // Callback from DashUI if some object changed
        onchange: function (arg, objId, newState, isFromDevice, lastchange) {
            if (vis.binds.rgraph.regElements[objId]) {
                for (var i = 0, len = vis.binds.rgraph.regElements[objId].length; i < len; i++) {
                    var elem = document.getElementById(vis.binds.rgraph.regElements[objId][i]);
                    if (elem && elem.rgraphValueChange) {
                        elem.rgraphValueChange(objId, newState, isFromDevice);
                    }
                }
            }
        },

        registerIds: function (wid, objId) {
            if (typeof objId == "object" || typeof objId == "array") {
                for (var i = 0, len = objId.length; i < len; i++)
                    if (objId[i] && (!vis.binds.rgraph.regElements[objId[i]] || vis.binds.rgraph.regElements[objId[i]].indexOf (wid) == -1)) {
                        if (!vis.binds.rgraph.regElements[objId[i]]) {
                            vis.binds.rgraph.regElements[objId[i]] = [wid];
                        }
                        else {
                            vis.binds.rgraph.regElements[objId[i]].push (wid);
                        }
                    }
            }
            else
            if (!vis.binds.rgraph.regElements[objId] || vis.binds.rgraph.regElements[objId].indexOf (wid) == -1) {
                if (!vis.binds.rgraph.regElements[objId]) {
                    vis.binds.rgraph.regElements[objId] = [wid];
                }
                else {
                    vis.binds.rgraph.regElements[objId].push (wid);
                }
            }
        },

        // Create or replace div with canvas inside it
        createCanvas: function (view, wid, _class, oid, width, height, canvas_width, canvas_height) {
            vis.binds.rgraph.init();
            vis.binds.rgraph.registerIds(wid, oid);

            var style    = vis.views[view].widgets[wid] ? vis.views[view].widgets[wid].style || {} : {};
            style.width  = parseInt(style.width)  || parseInt(width);
            style.height = parseInt(style.height) || parseInt(height);

            //$('#'+wid).remove ();
            var $wid = $('#' + wid);
            if (!$wid.length) {
                $('#visview_' + view).append('<div class="vis-widget ' + (_class || "") + '" id="' + wid + '" data-oid="' + oid + '" >' +
                        '<canvas class="vis-widget" id="c' + wid + '"></canvas></div>');
                $wid = $('#' + wid);
            } else {
                $wid.addClass(_class || '');
            }
            $wid.css(style);

            // Canvas understand no Style, so set width and height extra
            var can = document.getElementById('c' + wid);
            canvas_width  = parseInt(canvas_width)  || style.width;
            canvas_height = parseInt(canvas_height) || style.height;
            can.width  = canvas_width;
            can.height = canvas_height;
        },

        updateChart: function (wid) {
            var div = document.getElementById(wid);
            var can = document.getElementById('c' + wid);

            if (div && can) {
                if (div._timeout) clearTimeout(div._timeout);

                var updateInterval = div.rgraph.Get('update_interval');
                var values = div.rgraph.Get('my_values');
                var len = div.rgraph.original_data.length;
                if (!values) {
                    len = 0;
                } else if (len > values.length) {
                    len = values.length;
                }
                for (var j = 0; j < len; j++) {
                    var d1 = div.rgraph.original_data[j];

                    d1.push(values[j]);
                    div.rgraph.original_data[j] = RGraph.array_shift(d1);
                }

                RGraph.Clear(can);
                div.rgraph.Draw();
                div._timeout = _setTimeout (vis.binds.rgraph.updateChart, updateInterval, wid);
            }
        },

        updateBar: function (wid) {
            var div = document.getElementById(wid);
            var can = document.getElementById('c' + wid);

            if (div && can) {
                if (div._timeout) clearTimeout(div._timeout);

                var options = div.rgraph.Get("my_options");
                var values  = div.rgraph.Get("my_values");

                div.rgraph.data = values;
                div.rgraph.data_arr = RGraph.array_linearize(values);

                RGraph.Clear (can);
                div.rgraph.Draw();

                if (options.update_interval) {
                    div._timeout = _setTimeout(vis.binds.rgraph.updateBar, options.update_interval, wid);
                }
            }
        },

        tplRGtermometer: function (view, data) {
            vis.binds.rgraph.createCanvas(view, data.attr('wid'), data.attr('class'), data.attr('oid'), 100, 400);

            var str = vis.states.attr(data.attr('oid') + '.val');
            if (str === null || str === undefined) str = data.attr('min_value');
            
            var t = new RGraph.Thermometer('c' + data.attr('wid'), parseFloat(data.attr('min_value')), parseFloat(data.attr('max_value')), parseFloat(str));
            if (data.attr('color')) {
                var color = data.attr('color');
                t.colorsParsed = false;
                var isValid = false;
                try {
                    t.parseSingleColorForGradient(color);
                    isValid = true;
                } catch(e)
                {

                }
                if (isValid) {
                    t.properties['chart.colors'] = ["Gradient(" + color + ")"];
                }
            }

            if (data.attr("show_scale")) {
                t.Set('scale.visible', true);
            }
            if (data.attr("show_shadow") !== "" && data.attr("show_shadow") !== null && data.attr("show_shadow") !== undefined) {
                t.Set('shadow', (data.attr("show_shadow") == "true" || data.attr("show_shadow") == true));
            }
            if (data.attr("control") !== "" && data.attr("control") !== null && data.attr("control") !== undefined) {
                t.Set('adjustable', (data.attr("control") == "true" || data.attr("control") == true));
                t.Set ("oid", data.attr('oid'));
                if (!vis.editMode) {
                    RGraph.AddCustomEventListener (t, "onadjust", function (obj) {
                        if (obj.setTimer) {
                            clearTimeout (obj.setTimer);
                        }
                        obj.setTimer = _setTimeout (function (o) {
                            localData.setValue(o.properties["chart.oid"], o.value);
                        }, 300, obj);
                    });
                }
            }
            if (data.attr("labels_color") !== "") {
                var isValid = false;
                try {
                    t.parseSingleColorForGradient(data.attr("labels_color"));
                    isValid = true;
                } catch(e)
                {

                }
                if (isValid) t.Set('text.color', data.attr("labels_color"));
            }
            if (data.attr("labels_font") !== "") {
                t.Set('text.font', data.attr("labels_font"));
            }
            if (data.attr("labels_size") !== "") {
                var f = parseFloat (data.attr("labels_size"));
                t.Set('text.size', f);
            }
            if (data.attr("title") !== "") {
                t.Set('title', data.attr("title"));
            }
            if (data.attr("title_side") !== "") {
                t.Set('title.side', data.attr("title_side"));
            }
            if (data.attr("title_side_font") !== "") {
                t.Set('title.side.font', data.attr("title_side_font"));
            }
            if (data.attr("title_side_size") !== "") {
                var f = parseFloat (data.attr("title_side_size"));
                t.Set('title.side.size', f);
            }
            if (data.attr("ticksize") !== "") {
                var f = parseFloat (data.attr("ticksize"));
                t.Set('ticksize', f);
            }
            if (data.attr("units_pre") !== "") {
                t.Set('units.pre', data.attr("units_pre"));
            }
            if (data.attr("units_post") !== "") {
                t.Set('units.post', data.attr("units_post"));
            }
            if (data.attr("scale_decimals") !== "") {
                var f = parseFloat (data.attr("scale_decimals"));
                t.Set('scale.decimals', f);
            }

            if (data.attr("show_value") !== "" && data.attr("show_value") !== null && data.attr("show_value") !== undefined) {
                t.Set('value.label', (data.attr("show_value") == "true" || data.attr("show_value") == true));
            }
            if (data.attr("value_decimals") !== "") {
                var f = parseFloat (data.attr("value_decimals"));
                t.Set('value.label.decimals', f);
            }
            if (data.attr("labels_count") !== "" && data.attr("labels_count") !== null && data.attr("labels_count") !== undefined) {
                var f = parseFloat (data.attr("labels_count"));
                t.Set('labels.count', f);
            }
            if (vis.language == 'de' || vis.language == 'ru' ) {
                t.Set('scale.point', ',');
                t.Set('scale.thousand', '.');
                t.Set('value.label.point', ',');
                t.Set('value.label.thousand', '.');
            }
            if (data.attr("padding_left") !== "" && data.attr("padding_left") !== null && data.attr("padding_left") !== undefined) {
                t.Set('gutter.left', parseFloat (data.attr("padding_left")));
            }
            if (data.attr("padding_right") !== "" && data.attr("padding_right") !== null && data.attr("padding_right") !== undefined) {
                t.Set('gutter.right', parseFloat (data.attr("padding_right")));
            }
            if (data.attr("padding_top") !== "" && data.attr("padding_top") !== null && data.attr("padding_top") !== undefined) {
                t.Set('gutter.top', parseFloat (data.attr("padding_top")));
            }
            if (data.attr("padding_bottom") !== "" && data.attr("padding_bottom") !== null && data.attr("padding_bottom") !== undefined) {
                t.Set('gutter.bottom', parseFloat (data.attr("padding_bottom")));
            }

            // Clear the background
            RGraph.Clear (t.canvas);
            //t.canvas.getContext('2d').clearRect (0, 0, t.canvas.width, t.canvas.height);

            try {
                t.Draw();
            } catch (e) {
                servConn.logError("Cannot render tplRGtermometer: " + e);
            }
            var elem = document.getElementById(data.attr('wid'));
            elem.rgraph = t;
            t.Set('animate', data.attr("animate") == "true" || data.attr("animate") == true)
            $('#' + data.attr('wid')).bind("resize", function () {
                var div = $(this);
                var can = document.getElementById('c' + div.attr('id'));

                can.width  = div.width();
                can.height = div.height();

                if (can.width == 0 || can.height == 0) {
                    // My be jQuery bug
                    can.width  = parseInt(div[0].style.width);
                    can.height = parseInt(div[0].style.height);
                }

                RGraph.Clear (can);
                //this.rgraph.canvas.getContext('2d').clearRect (0, 0, this.rgraph.canvas.width, this.rgraph.canvas.height);

                try {
                    this.rgraph.Draw();
                } catch (e) {
                    servConn.logError("Cannot render tplRGtermometer: " + e);
                }
            });

            elem.rgraphValueChange = function (objId, newValue, isFromDevice) {
                this.rgraph.value = parseFloat(newValue);
                // Clear the background
                RGraph.Clear(this.rgraph.canvas);
                //this.rgraph.canvas.getContext('2d').clearRect (0, 0, this.rgraph.canvas.width, this.rgraph.canvas.height);
                if (this.rgraph.Get("animate")) {
                    RGraph.Effects.Thermometer.Grow(this.rgraph);
                } else {
                    try {
                        this.rgraph.Draw();
                    } catch (e) {
                        servConn.logError("Cannot render tplRGtermometer: " + e);
                    }
                }
            }
        },
        tplRLiveChart: function (view, data) {
            var wid = data.attr('wid');
            var elem_ = document.getElementById(wid);
            var oldIDs = null;
            var oldValues = null;
            if (elem_) {
                if (elem_._timeout) {
                    clearTimeout (elem_._timeout);
                    elem_._timeout = null;
                }
                // save data
                if (elem.rgraph) {
                    oldIDs    = elem.rgraph.Get("oids");
                    oldValues = RGraph.array_clone(elem.rgraph.original_data);
                }
            }

            var pointsCount = parseInt(data.attr('points_count')) || 250;
            var len       = 1;
            var IDs       = [];
            var IDs_show  = [];
            var colors    = [];
            var thickness = [];
            var id;
            var validColor = 'black';
            var validThickness = 1;
            // Read IDs, colors and line thickness
            while (id = data.attr('oid' + len)) {
                IDs.push(id);
                // If ID changed
                if (oldIDs && IDs[IDs.length - 1] != oldIDs[IDs.length - 1]){
                    oldValues = null;
                    oldIDs    = null;
                }
                IDs_show[IDs.length - 1] = data.attr('oid_show' + len);
                id = data.attr('line_color' + len);
                if (id) {
                    validColor = id;
                }
                var isValid = false;
                try {
                    //t.parseSingleColorForGradient(id);
                    isValid = true;
                } catch(e)
                {

                }
                if (isValid) {
                    colors.push (validColor);
                } else {
                    colors.push ('black');
                }

                id = data.attr('line_thick' + len);
                if (id) validThickness = id;

                thickness.push(validThickness);

                len++;
            }

            vis.binds.rgraph.createCanvas(view, wid, data.attr('class'), IDs, 200, 200);
            vis.binds.rgraph.registerIds(wid, IDs_show);

            var factor = data.attr('factor') || 1;
            factor = parseFloat(factor);

            var offset = data.attr('value_offset') || 0;
            offset = parseFloat(offset);

            var min_value = data.attr('min_value') || 0;
            min_value = parseFloat(min_value);

            var max_value = data.attr('max_value') || 0;
            max_value = parseFloat(max_value);

            var values = [];
            for (var i = 0, len = IDs.length; i < len; i++) {
                values[i] = vis.states.attr(IDs[i] + '.val');
                if (values[i] === null || values[i] === undefined) {
                    values[i] = min_value;
                }
                values[i] = parseFloat (values[i]);
                values[i] = values[i] * factor + offset;
            }

            var elem = document.getElementById(wid);
            var can  = document.getElementById('c'+wid);

            var arr = [];

            if (!oldValues) {
                // Pre-pad the arrays with "pointsCount" null values
                for (var i = 0, len = IDs.length; i < len; i++) {
                    arr[i] = [];
                    for (var j = 0, jlen = pointsCount - 1; j < jlen; j++) {
                        arr[i].push(null);
                    }
                    arr[i].push(values[i]);
                }
            }
            else {
                for (var i = 0, len = IDs.length; i < len; i++) {
                    arr[i] = RGraph.array_shift(oldValues[i]);
                    arr[i].push(values[i]);
                }
            }

            var update_interval = data.attr('update_interval') || 1000;
            update_interval = parseInt(update_interval);

            var t = new RGraph.Line ("c"+wid, arr);

            t.Set ("oids",      IDs);
            t.Set ("hm_show_ids", IDs_show);
            t.Set ("my_values", values);
            t.Set ("update_interval", update_interval);
            t.Set ("factor", factor);
            t.Set ("value_offset", offset);

            t.Set('background.grid.vlines', false);
            t.Set('background.barcolor1', 'white');
            t.Set('background.barcolor2', 'white');

            var text = data.attr('title');
            if (text) {
                t.Set('title', text);
                t.Set('title.vpos', 0.5);
            }
            text = data.attr('title_x');
            if (text) {
                t.Set('title.xaxis', text);
                t.Set('title.xaxis.pos', 0.5);
            }
            text = data.attr('title_y');
            if (text) {
                t.Set('title.yaxis', text);
                t.Set('title.yaxis.pos', 0.5);
            }

            var my_colors = RGraph.array_clone(colors);
            t.Set('my_colors', my_colors);
            // Set visibility of charts
            for (var i = 0, len = IDs_show.length; i < len; i++){
                if (IDs_show[i]) {
                    var isVisible = vis.states.attr(IDs_show[i] + '.val');
                    if (isVisible == "false" || isVisible === false) {
                        colors[i] = 'rgba(0,0,0,0)';
                    }
                }
            }
            t.Set('colors', colors);
            t.Set('linewidth', thickness);
            //obj.Set('ylabels.inside', true);
            t.Set('xticks', 0);
            t.Set('yaxispos', 'right');
            t.Set('ymin', min_value);
            t.Set('ymax', max_value);

            text = data.attr('filled');
            if (text) {
                t.Set('filled', (text == 'true' || text === true));
            }
            else {
                t.Set('filled', false);
            }

            text = data.attr('spline');
            if (text) {
                t.Set('spline', (text == 'true' || text === true));
            }
            else {
                t.Set('spline', false);
            }

            text = data.attr('num_hlines');
            if (text) {
                t.Set('background.grid.autofit.numhlines', parseInt(text));
            }

            var grad = t.context.createLinearGradient(0,0,0,250);
            grad.addColorStop(0, '#efefef');
            grad.addColorStop(0.9, 'rgba(0,0,0,0)');

            t.Set('fillstyle', [grad]);

            RGraph.Clear(t.canvas);

            try {
                t.Draw();
            } catch (e) {
                servConn.logError("Cannot render tplRLiveChart: " + e);
            }

            elem.rgraph = t;
            $(elem).bind("resize", function () {
                if (this._resizeTimer){
                    clearTimeout (this._resizeTimer);
                }
                this._resizeTimer = _setTimeout (function (_wid) {
                    var _div = document.getElementById(_wid);
                    var div  = $(_div);
                    var can  = document.getElementById('c' + _wid);

                    can.width  = div.width();
                    can.height = div.height ();

                    if (can.width == 0 || can.height == 0) {
                        // My be jQuery bug
                        can.width = parseInt(_div.style.width);
                        can.height = parseInt(_div.style.height);
                    }


                    RGraph.Clear (can);
                    try {
                        _div.rgraph.Draw();
                    } catch (e) {
                        servConn.logError("Cannot render tplRLiveChart: " + e);
                    }
                }, 500, this.id);
            });

            elem.rgraphValueChange = function (objId, newValue, isFromDevice) {
                var IDs      = this.rgraph.Get("oids");
                var IDs_show = this.rgraph.Get("hm_show_ids");

                for (var i = 0, len = IDs.length; i < len; i++){
                    if (IDs[i] == objId) {
                        var values = this.rgraph.Get("my_values");
                        var factor = this.rgraph.Get("factor");
                        var offset = this.rgraph.Get("value_offset");

                        values[i] = vis.states.attr(IDs[i] + '.val');
                        if (values[i] === null || values[i] === undefined) {
                            values[i] = this.rgraph.min;
                        }
                        values[i] = parseFloat(values[i]);
                        values[i] = values[i] * factor + offset

                        return;
                    }
                }
                for (var i = 0, len = IDs_show.length; i < len; i++){
                    if (IDs_show[i] && IDs_show[i] == objId) {
                        var colors    = this.rgraph.Get("colors");
                        var my_colors = this.rgraph.Get("my_colors");
                        var isVisible = vis.states.attr(IDs_show[i] + '.val');
                        if (isVisible == "false" || isVisible === false) {
                            colors[i] = 'rgba(0,0,0,0)';
                        }
                        else {
                            colors[i] = my_colors[i];
                        }
                        this.rgraph.Set("colors", colors);
                        var updateInterval = this.rgraph.Get("update_interval");
                        this._timeout = _setTimeout (vis.binds.rgraph.updateChart, 100, this.id);
                        return;
                    }
                }
            }

            if (update_interval) {
                elem._timeout = _setTimeout (vis.binds.rgraph.updateChart, update_interval, wid);
            }
        },
        tplRGgauge: function (view, data) {
            vis.binds.rgraph.createCanvas (view, data.attr('wid'), data.attr('class'), [data.attr('oid'), data.attr('oid_2'), data.attr('oid_3')], 200, 200);

            var str = vis.states.attr(data.attr('oid') + '.val');
            if (str === null || str === undefined) {
                str = data.attr("min_value");
            }

            var str2 = data.attr('oid_2') ? vis.states.attr(data.attr('oid_2') + '.val') : null;
            
            if (str2 === undefined) str2 = data.attr("min_value");

            var str3 = data.attr('oid_3') ? vis.states.attr(data.attr('oid_3') + '.val') : null;
            
            if (str3 === undefined) str3 = data.attr("min_value");

            var values = [parseFloat(str) || 0];
            if (str2 !== null) {
                values[1] = str2 || 0;
                if (str3 !== null) values[2] = str3 || 0;
            }
            var factor = data.attr("factor") || 1;
            factor = parseFloat(factor);

            var offset = data.attr("value_offset") || 0;
            offset = parseFloat(offset);

            values[0] = values[0] * factor + offset;

            var max_value = data.attr("max_value_oid") ? vis.states.attr(data.attr('max_value_oid') + '.val') : data.attr('max_value');

            var t = new RGraph.Gauge("c" + data.attr('wid'), parseFloat(data.attr("min_value")), parseFloat(max_value), values);
            t.Set("oid",   data.attr('oid'));
            t.Set("oid_2", data.attr('oid_2'));
            t.Set("oid_3", data.attr('oid_3'));
            t.Set("factor", factor);
            t.Set("value_offset", offset);

            if (data.attr("control") !== "" && data.attr("control") !== null && data.attr("control") !== undefined) {
                if ((data.attr("control") == "true" || data.attr("control") == true)) {
                    t.Set('adjustable', true);

                    RGraph.AddCustomEventListener (t, "onadjust", function (obj) {
                        var oid_2 = obj.Get("oid_2");
                        var oid_3 = obj.Get("oid_3");

                        var values = [obj.value];
                        var str2 = oid_2 ? vis.states.attr(oid_2 + '.val') : null;
                        if (str2 === undefined) str2 = obj.min;

                        var str3 = oid_3 ? vis.states.attr(oid_3 + '.val') : null;
                        if (str3 === undefined) str3 = obj.min;

                        if (str2 !== null) {
                            values[1] = str2 || 0;
                            if (values[1] > obj.max) values[1] = obj.max;

                            if (str3 !== null) {
                                values[2] = str3 || 0;
                                if (values[2] > obj.max) values[2] = obj.max;
                            }
                        }
                        values[0] = values[0] * factor + offset;
                        obj.value = values;
                        obj.Draw ();

                        if (!vis.editMode) {
                            if (obj.setTimer) {
                                clearTimeout (obj.setTimer);
                            }
                            obj.setTimer = _setTimeout (function (o) {
                                var factor  = o.Get("factor");
                                var offset  = o.Get("value_offset");
                                localData.setValue(o.Get("oid"), (o.value[0] - offset) / factor);
                            }, 300, obj);
                        }
                    });
                }
            }

            if (data.attr("a_start") !== "" && data.attr("a_start") !== null && data.attr("a_start") !== undefined) {
                var f = parseFloat(data.attr("a_start"));
                f = f * Math.PI / 180;
                t.Set('angles.start', f);
            }
            if (data.attr("a_end") !== "" && data.attr("a_end") !== null && data.attr("a_end") !== undefined) {
                var f = parseFloat(data.attr("a_end"));
                f = f * Math.PI / 180;
                t.Set('angles.end', f);
            }
            if (data.attr("show_shadow")) {
                t.Set('shadow', true);
            }
            if (data.attr("value_text")) {
                t.Set('value.text', true);
            }
            if (data.attr("value_text_pos") !== null && data.attr("value_text_pos") !== undefined && data.attr("value_text_pos") !== "") {
                var f = parseFloat (data.attr("value_text_pos"));
                t.Set('value.text.y.pos', f);
            }
            if (data.attr("value_units_pre")) {
                t.Set('value.text.units.pre', data.attr("value_units_pre"));
            }
            if (data.attr("value_units_post")) {
                t.Set('value.text.units.post', data.attr("value_units_post"));
            }
            if (data.attr("ticks_big_color")) {
                t.Set('tickmarks.big.color', data.attr("ticks_big_color"));
            }
            if (data.attr("ticks_mid_color")) {
                t.Set('tickmarks.medium.color', data.attr("ticks_mid_color"));
            }
            if (data.attr("ticks_small_color")) {
                t.Set('tickmarks.small.color', data.attr("ticks_small_color"));
            }
            if (data.attr("border_outer_color")) {
                t.Set('border.outer', data.attr("border_outer_color"));
            }
            if (data.attr("border_inner_color")) {
                t.Set('border.inner', data.attr("border_inner_color"));
            }
            if (data.attr("color_ranges")) {
                var colors = data.attr("color_ranges").split(":");
                t.Set('colors.ranges', colors);
            }
            if (data.attr("back_color")) {
                t.Set('background.color', data.attr("back_color"));
            }
            if (data.attr("needle_colors")) {
                var colors = data.attr("needle_colors").split(":");
                t.Set('needle.colors', colors);
            }
            if (data.attr("border_outline_color")) {
                t.Set('border.outline', data.attr("border_outline_color"));
            }
            if (data.attr("needle_type")) {
                t.Set('needle.type', data.attr("needle_type"));
            }
            if (data.attr("needle_tail")) {
                t.Set('needle.tail', data.attr("needle_tail"));
            }
            if (data.attr("needle_size")) {
                var f = parseFloat (data.attr("needle_size"));
                t.Set('needle.size', f);
            }
            if (data.attr("centerpin_radius")) {
                var f = parseFloat (data.attr("centerpin_radius"));
                t.Set('centerpin.radius', f);
            }
            if (data.attr("centerpin_color")) {
                t.Set('centerpin.color', data.attr("centerpin_color"));
            }
            if (data.attr("title")) {
                t.Set('title.top', data.attr("title"));
            }
            if (data.attr("title_color")) {
                t.Set('title.top.color', data.attr("title_color"));
            }
            if (data.attr("title_size")) {
                var f = parseFloat (data.attr("title_size"));
                t.Set('title.top.size', f);
            }
            if (data.attr("title_font")) {
                t.Set('title.top.font', data.attr("title_font"));
            }
            if (data.attr("title_pos") !== null && data.attr("title_pos") !== undefined && data.attr("title_pos") !== "") {
                var f = parseFloat (data.attr("title_pos"));
                t.Set('title.top.pos', f);
            }
            if (data.attr("title_bottom")) {
                t.Set('title.bottom', data.attr("title_bottom"));
            }
            if (data.attr("title_bottom_color")) {
                t.Set('title.bottom.color', data.attr("title_bottom_color"));
            }
            if (data.attr("title_bottom_size")) {
                var f = parseFloat (data.attr("title_bottom_size"));
                t.Set('title.bottom.size', f);
            }
            if (data.attr("title_bottom_font")) {
                t.Set('title.bottom.font', data.attr("title_bottom_font"));
            }
            if (data.attr("title_bottom_pos") !== null && data.attr("title_bottom_pos") !== undefined && data.attr("title_bottom_pos") !== "") {
                var f = parseFloat (data.attr("title_bottom_pos"));
                t.Set('title.bottom.pos', f);
            }
            if (data.attr("labels_centered")) {
                t.Set('labels.centered', data.attr("labels_centered"));
            }
            if (data.attr("labels_offset") !== "" && data.attr("labels_offset") !== null && data.attr("labels_offset") !== undefined) {
                var f = parseFloat (data.attr("labels_offset"));
                t.Set('labels.offset', f);
            }
            if (data.attr("labels_color") !== "") {
                t.Set('text.color', data.attr("labels_color"));
            }
            if (data.attr("labels_font") !== "") {
                t.Set('text.font', data.attr("labels_font"));
            }
            if (data.attr("labels_size") !== "") {
                var f = parseFloat (data.attr("labels_size"));
                t.Set('text.size', f);
            }
            if (data.attr("background_gradient")) {
                t.Set('background.gradient', true);
            }
            if (data.attr("red_color") !== "") {
                t.Set('red.color', data.attr("red_color"));
            }
            if (data.attr("red_start") !== "") {
                var f = parseFloat (data.attr("red_start"));
                f = f * parseFloat(data.attr("max_value"));
                t.Set('red.start', f);
            }
            if (data.attr("yellow_color") !== "") {
                t.Set('yellow.color', data.attr("yellow_color"));
            }
            if (data.attr("green_color") !== "") {
                t.Set('green.color', data.attr("green_color"));
            }
            if (data.attr("green_end") !== "") {
                var f = parseFloat (data.attr("green_end"));
                f = f * parseFloat(data.attr("max_value"));
                t.Set('green.end', f);
            }

            // Clear the background
            RGraph.Clear(t.canvas);
            //t.canvas.getContext('2d').clearRect (0, 0, t.canvas.width, t.canvas.height);

            try {
                t.Draw();
            } catch (e) {
                servConn.logError("Cannot render tplRGgauge: " + e);
            }
            t.Set('animate', data.attr("animate") == "true" || data.attr("animate") == true)
            var elem = document.getElementById(data.attr('wid'));
            elem.rgraph = t;
            $('#' + data.attr('wid')).bind("resize", function () {
                var div = $(this);
                var can = document.getElementById('c' + div.attr('id'));

                can.width  = div.width();
                can.height = div.height ();

                if (can.width == 0 || can.height == 0) {
                    // My be jQuery bug
                    can.width = parseInt(div[0].style.width);
                    can.height = parseInt(div[0].style.height);
                }

                RGraph.Clear (can);
                //this.rgraph.canvas.getContext('2d').clearRect (0, 0, this.rgraph.canvas.width, this.rgraph.canvas.height);

                try {
                    this.rgraph.Draw();
                } catch (e) {
                    servConn.logError("Cannot render tplRGgauge: " + e);
                }
            });

            elem.rgraphValueChange = function (objId, newValue, isFromDevice) {
                var oid_2 = this.rgraph.Get("oid_2");
                var oid_3 = this.rgraph.Get("oid_3");
                var factor  = this.rgraph.Get("factor");
                var offset  = this.rgraph.Get("value_offset");

                var str = vis.states.attr(this.rgraph.Get('oid') + '.val');
                if (str === null || str === undefined) str = this.rgraph.min;

                var str2 = oid_2 ? vis.states.attr(oid_2 + '.val') : null;
                if (str2 === undefined) str2 = this.rgraph.min;

                var str3 = oid_3 ? vis.states.attr(oid_3 + '.val') : null;
                if (str3 === undefined) str3 = this.rgraph.min;

                var values = [parseFloat(str) || 0];
                if (str2 !== null) {
                    values[1] = str2 || 0;

                    if (str3 !== null) {
                        values[2] = str3 || 0;
                    }
                }
                values[0] = values[0] * factor + offset;

                this.rgraph.value = values;
                // Clear the background
                RGraph.Clear(this.rgraph.canvas);
                //this.rgraph.canvas.getContext('2d').clearRect (0, 0, this.rgraph.canvas.width, this.rgraph.canvas.height);

                if (this.rgraph.Get("animate")) {
                    RGraph.Effects.Gauge.Grow(this.rgraph);
                }
                else {
                    try {
                        this.rgraph.Draw();
                    } catch (e) {
                        servConn.logError("Cannot render tplRGgauge: " + e);
                    }
                }
            }
        },
        tplRBarChart: function (view, data) {
            var wid = data.attr('wid');

            var factor = data.attr('factor') || 1;
            factor = parseFloat(factor);

            var offset = data.attr('value_offset') || 0;
            offset = parseFloat(offset);

            var len = 1;
            var IDs = [];
            var id;
            var values = [];
            var names  = [];
            var max_values = [];
            var valid_max = null;

            // Read IDs and max values
            while (id = data.attr('oid' + len)) {
                IDs.push(id);

                id = data.attr('name' + len);
                names.push (id || "");

                id = data.attr('max_value' + len);
                if (id || valid_max) {
                    max_values.push(parseInt(id, 10));
                    valid_max = id;
                }

                len++;
            }

            if (!valid_max) {
                max_values = null;
            } else {
                for (var i = max_values.length, len = IDs.length; i < len; i++) {
                    max_values.push(valid_max);
                }
            }

            var values = [];
            for (var i = 0, len = IDs.length; i < len; i++) {
                values[i] = [];
                var val = vis.states.attr(IDs[i] + '.val');
                if (val === null || val === undefined) {
                    val = data.attr("min_value");
                }
                val = parseFloat (val);
                val = val * factor + offset;
                
                if (val < 0) val = 0;

                if (max_values) {
                    values[i][0] = max_values[i] - val;
                    if (values[i][0] < 0) {
                        values[i][0] = 0;
                    }
                    values[i][1] = val;
                } else {
                    values[i][0] = val;
                }
            }

            var options = {
                IDs:          IDs,
                names:        names,
                labels_above_angle:  data.attr('labels_above_angle'),
                filled_color: data.attr('filled_color'),
                empty_color:  data.attr('empty_color'),
                factor:       factor,
                offset:       offset,
                title:        data.attr('title')   || "",
                update_interval: parseInt (data.attr('update_interval')) || 0,
                max_values:   max_values,
                filled_text:  data.attr('filled_text') || false,
                empty_text:   data.attr('empty_text') || false,
                legend:       data.attr('legend')  || false,
                label_size:   parseInt(data.attr('label_size')),
                label_color:  data.attr('label_color'),
                labels_above: data.attr('labels_above'),
                labels_color: data.attr('labels_color'),
                decimals:     parseInt(data.attr('decimals')),
                shadow:       data.attr('show_shadow'),
                bar_labels_color:   data.attr('bar_labels_color'),
                bar_labels_bold:    data.attr('bar_labels_bold'),
                bar_labels_center:  data.attr('bar_labels_center'),
                gutter_left:  parseInt(data.attr('gutter_left')) || 45,
                horz_margin:  parseInt(data.attr('horz_margin')) || 15,
                defaultWidth: 200,
                defaultHeight:400
            };
            options.bar_labels_bold = !(options.bar_labels_bold != "true" && options.bar_labels_bold !== true);


            vis.binds.rgraph.createCanvas(view, wid, data.attr('class'), IDs, 200, 200);

            var elem = document.getElementById(wid);
            var can  = document.getElementById('c' + wid);

            var t = new RGraph.Bar ('c' + wid, values);

            t.Set('my_options', options);
            t.Set('my_values',  values);

            t.set('grouping', 'stacked');
            t.set('labels', options.names);
            t.set('labels.above.angle', options.labels_above_angle ? 45 : 0);
            t.set('labels.above', options.labels_above);
            t.set('labels.above.size', parseInt(options.label_size) || 12);
            t.set('labels.above.decimals', options.decimals);
            t.set('linewidth', 1);
            t.set('strokestyle', 'black');
            t.set('colors', max_values ? [options.empty_color, options.filled_color] : [options.filled_color]);
            t.set('shadow', options.show_shadow);
            t.set('shadow.offsetx', 4);
            t.set('shadow.offsety', 4);
            t.set('shadow.blur', 15);
            t.set('hmargin', parseInt(options.horz_margin));
            t.set('gutter.left', parseInt(options.gutter_left));
            t.set('background.grid.vlines', false);
            t.set('background.grid.border', false);
            t.set('axis.color', '#ccc');
            t.set('noyaxis', true);
            t.set('labels.above.color', options.label_color);
            t.set('chart.text.color', options.labels_color);
            t.set('title', options.title);

            if (options.legend) {
                t.set('key', max_values ? [options.empty_text || ' ', options.filled_text || ' '] : options.filled_text || ' ');
                t.set('key.position.gutter.boxed', true);
                t.set('key.position', 'graph');
                t.set('key.position.x', 10)
                t.set('key.position.y', 10)
                t.set('key.colors', max_values ? [options.empty_color, options.filled_color] : [options.filled_color]);
            }

            var text = data.attr('num_hlines');
            if (text) {
                t.Set('background.grid.autofit.numhlines', parseInt(text));
            }

            RGraph.Clear(t.canvas);
            try {
                t.on('draw', function (obj) {
                    var values  = obj.Get("my_values");
                    var options = obj.Get("my_options");
                    if (values.length > 0 && values[0].length > 1)  {
                        obj.context.fillStyle = options.bar_labels_color;
                        for (var i = 0, len = obj.coords.length; i < len; ++i) {
                            if (i%2 == 0) continue;
                            RGraph.Text2(obj.context, {
                                font:   'Verdana',
                                'bold':  options.bar_labels_bold,
                                'size':  options.label_size,
                                'x':     obj.coords[i][0] + (obj.coords[i][2] / 2),
                                'y':     options.bar_labels_center ? (obj.coords[i][1] + (obj.coords[i][3] / 2)) : (obj.coords[i][1] + obj.coords[i][3] - options.label_size),
                                'text':  obj.data_arr[i].toFixed(options.decimals),
                                'valign':'center',
                                'halign':'center'
                            });
                        }
                    }
                })
                .draw();
            } catch (e) {
                servConn.logError("Cannot render tplRBarChart: " + e);
            }

            elem.rgraph = t;
            $(elem).bind("resize", function () {
                if (this._resizeTimer) clearTimeout(this._resizeTimer);
                
                this._resizeTimer = _setTimeout(function (_wid) {
                    var _div = document.getElementById(_wid);
                    var div  = $(_div);
                    var can  = document.getElementById('c' + _wid);

                    can.width  = div.width();
                    can.height = div.height ();

                    if (can.width == 0 || can.height == 0) {
                        // My be jQuery bug
                        can.width  = parseInt(_div.style.width);
                        can.height = parseInt(_div.style.height);
                    }

                    RGraph.Clear(can);
                    
                    try {
                        _div.rgraph.Draw();
                    } catch (e) {
                        servConn.logError("Cannot render tplRBarChart: " + e);
                    }
                }, 500, this.id);
            });

            elem.rgraphValueChange = function (objId, newValue, isFromDevice) {
                var options = this.rgraph.Get("my_options");
                var isFound = false;

                for (var i = 0, len = options.IDs.length; i < len; i++){
                    if (options.IDs[i] == objId) {
                        var values  = this.rgraph.Get("my_values");
                        var val = vis.states.attr(options.IDs[i] + '.val');
                        if (val === null || val === undefined) {
                            val = this.rgraph.min;
                        }
                        val = parseFloat(val);
                        val = val * factor + offset;
                        if (val < 0) {
                            val = 0;
                        }
                        if (values[i].length > 1) {
                            values[i][0] = options.max_values[i] - val;
                            if (values[i][0] < 0) {
                                values[i][0] = 0;
                            }
                            values[i][1] = val;
                        }
                        else {
                            values[i][0] = val;
                        }
                        isFound = true;
                        //return;
                    }
                }
                if (isFound && !options.update_interval) {
                    vis.binds.rgraph.updateBar (this.id);
                }
            }
            if (options.update_interval) {
                elem._timeout = _setTimeout(vis.binds.rgraph.updateBar, options.update_interval, wid);
            }
        }
    };

</script>

<script id="tplRGtermometer" type="text/ejs" class="vis-tpl" data-vis-type="temperature,number" data-vis-set="rgraph" data-vis-name="Thermometer" data-vis-prev="&lt;img src=&quot;widgets/rgraph/img/Prev_thermometr.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="oid;min_value[0];max_value[100];control/checkbox;padding_left/slider,0,100,1;padding_right/slider,0,100,1;factor[1];value_offset[0];color;animate/checkbox;" data-vis-attrs0="group.scale;show_scale/checkbox;labels_color/color;labels_font/fontname;labels_size/slider,1,100;" data-vis-attrs1="group.title;title;title_side;title_side_font/fontname;title_side_size/slider,1,100;" data-vis-attrs2="group.advanced;show_shadow[true]/checkbox;ticksize/slider,0,100;units_pre;units_post;scale_decimals/slider,0,10,1;show_value/checkbox;value_decimals/slider,0,10,1;labels_count/slider,0,100,1">
    <%
        vis.binds.rgraph.tplRGtermometer(this.view, this.data);
    %>
</script>

<script id="tplRGgauge" type="text/ejs" class="vis-tpl" data-vis-type="gauge,number" data-vis-prev="&lt;img src=&quot;widgets/rgraph/img/Prev_gauge.png&quot;&gt;&lt;/img&gt;" data-vis-set="rgraph" data-vis-name="Gauge-Basic" data-vis-attrs="oid/id;oid_2/id;oid_3/id;min_value[0];max_value[100];max_value_oid/id;factor[1];value_offset[0];control/checkbox;animate/checkbox;" data-vis-attrs0="group.scale;a_start/slider,0,360;a_end/slider,0,720;ticks_big_color/color;ticks_small_color/color;border_outer_color/color;border_inner_color/color;" data-vis-attrs1="group.background;back_color/color;background_gradient/checkbox;border_outline_color/color;" data-vis-attrs2="group.needle;needle_colors/color;needle_type/select,triangle,line;needle_tail/checkbox;needle_size/slider,5,500,1;centerpin_radius/slider,0,500,1;centerpin_color/color;" data-vis-attrs3="group.title;title;title_color/color;title_font/fontname;title_size/slider,1,100;title_pos/slider,0,1;title_bottom;title_bottom_color/color;title_bottom_font/fontname;title_bottom_size/slider,1,100;title_bottom_pos/slider,0,1;" data-vis-attrs4="group.labels;labels_color[#000000]/color;labels_font/fontname;labels_size/slider,1,100;labels_centered/checkbox;labels_offset/slider,-500,500,1;" data-vis-attrs5="group.sectors;green_end/slider,0,1;green_color/color;yellow_color/color;red_color/color;red_start/slider,0,1">
    <%
        vis.binds.rgraph.tplRGgauge(this.view, this.data);
    %>
</script>

<script id="tplRLiveChart" type="text/ejs" class="vis-tpl" data-vis-type="chart,number" data-vis-prev="&lt;img src=&quot;widgets/rgraph/img/Prev_liveChart.png&quot;&gt;&lt;/img&gt;" data-vis-set="rgraph" data-vis-name="LiveChart" data-vis-attrs="oid(1-8)/id;line_color(1-8)[black]/color;line_thick(1-8)[1]/slider,0.5,5,0.5;" data-vis-attrs0="group.settings;min_value[0];max_value[0];factor[1];value_offset[0];update_interval[5000]/slider,100,20000,100;points_count[250]/slider,10,2000,10;title;title_x;title_y;num_hlines[3]/slider,0,20,1;spline/checkbox;filled/checkbox;" data-vis-attrs1="group.oid_show;oid_show(1-8)/id;">
    <%
        vis.binds.rgraph.tplRLiveChart(this.view, this.data);
    %>
</script>

<script id="tplRBarChart" type="text/ejs" class="vis-tpl" data-vis-type="chart,number,barchart" data-vis-prev="&lt;img src=&quot;widgets/rgraph/img/Prev_barChart.png&quot;&gt;&lt;/img&gt;" data-vis-set="rgraph" data-vis-name="BarChart" data-vis-attrs="oid(1-8)/id;name(1-8);" data-vis-attrs0="group.colors;filled_color[black]/color;empty_color[white]/color;" data-vis-attrs1="group.max_values;max_value(1-8);" data-vis-attrs2="group.settings;factor[1];value_offset[0];update_interval[0]/slider,0,20000,100;legend/checkbox;filled_text[Level];empty_text[Empty];" data-vis-attrs3="decimals[2]/slider,0,10,1;show_shadow/checkbox;gutter_left[45]/slider,0,200,1;horz_margin[15]/slider,0,200,1;num_hlines/slider,0,20,1;" data-vis-attrs4="group.labels;title;label_color[black]/color;labels_above[true]/checkbox;label_size[12]/slider,1,40,1;labels_above_angle/checkbox;labels_color[#000000]/color;bar_labels_color[black]/color;bar_labels_bold/checkbox;bar_labels_center/checkbox;">
    <%
        vis.binds.rgraph.tplRBarChart(this.view, this.data);
    %>
</script>

<!-- --------------rgraph.html--- END -->
<!-- --------------swipe.html--- START -->
<style>
    .roundabout-holder {
        list-style: none;
        position: absolute;
        left:100px;
        top:10px;
        right: 0;
        margin: 0;
        overflow: visible;
        height: calc(100% - 20px);
        width: calc(100% - 200px);
    }

    .roundabout-moveable-item {
        text-align: center;
    }

    .li_carousel {
        background-color: rgba(0, 0, 0, 0);
        text-align: center;
        position: relative;
    }

    .carousel_blocking {
        position: relative;
        z-index: 149;
        width: 100%;
        height: 100%;
    }

    .roundabout-in-focus{
        z-index: 1000;
    }
</style>

<script type="text/javascript">
    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            "group_left":           {"en": "Swipe to left",     "de": "Swipe nach links",   "ru": "Сдвиг влево"},
            "left_nav_view":        {"en": "View name",         "de": "Viewname",           "ru": "Имя страницы"},
            "left_in_effect":       {"en": "In effect",         "de": "In-Effekt",          "ru": "In эффект"},
            "left_in_eff_opt":      {"en": "In options",        "de": "In-Optionen",        "ru": "In опции"},
            "left_out_effect":      {"en": "Out effect",        "de": "Out-Effekt",         "ru": "Out эффект"},
            "left_out_eff_opt":     {"en": "Out options",       "de": "Out-Optionen",       "ru": "Out опции"},
            "group_right":          {"en": "Swipe to right",    "de": "Swipe nach rechts",  "ru": "Сдвиг вправо"},
            "right_nav_view":       {"en": "View name",         "de": "Viewname",           "ru": "Имя страницы"},
            "right_in_effect":      {"en": "In effect",         "de": "In-Effekt",          "ru": "In эффект"},
            "right_in_eff_opt":     {"en": "In options",        "de": "In-Optionen",        "ru": "In опции"},
            "right_out_effect":     {"en": "Out effect",        "de": "Out-Effekt",         "ru": "Out эффект"},
            "right_out_eff_opt":    {"en": "Out options",       "de": "Out-Optionen",       "ru": "Out опции"},
            "Swipe Navigation":     {"en": "Swipe Navigation",  "de": "Swipe Navigation",   "ru": "Swipe навигация"}
        });
    }
    
    vis.binds.swipe = {
        loadedSwipe: false,
        loadedRound: false,
        loadSwipeScripts: function (cb) {
            if (vis.binds.swipe.loadedSwipe) {
                cb && cb();
            } else {
                vis.binds.swipe.loadedSwipe = true;
                $.ajax({
                    url: 'widgets/swipe/js/jquery.touchSwipe.min.js',
                    dataType: 'script',
                    success: function () {
                        cb && cb();
                    },
                    async: false
                });
            }
        },
        loadRoundScripts: function (cb) {
            if (vis.binds.swipe.loadedRound) {
                cb && cb();
            } else {
                vis.binds.swipe.loadedRound = true;
                $.ajax({
                    url: 'widgets/swipe/js/jquery.roundabout.min.js',
                    dataType: 'script',
                    success: function () {
                        jQuery.ajax({
                            url: 'widgets/swipe/js/jquery.roundabout-shapes.js',
                            dataType: 'script',
                            success: function () {
                                cb && cb();
                            },
                            async: false
                        });
                    },
                    async: false
                });
            }
        },
        swipeNav: function (wid, view, data, style) {
            var $div = $('#' + wid);
            // if nothing found => wait
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.swipe.swipeNav(wid, view, data, style);
                }, 100);
                return;
            }
            
            if (vis.editMode) {
                $div.show()
                    .find('.translate-it')
                        .each(function () {
                            $(this).html(_($(this).text()));
                        });
            }

            var $view = $('#visview_' + view);

            if (!vis.editMode) {
                vis.binds.swipe.loadSwipeScripts(function () {
                    $view.swipe({
                        swipeLeft: function () {
                            vis.changeView(data['left_nav_view'], data['left_nav_view'], {
                                effect: data['left_out_effect'],
                                options: {
                                    direction: data['left_out_eff_opt'],
                                    queue: false
                                }, duration: $div.attr('duration')
                            }, {
                                effect: data['left_in_effect'],
                                options: {direction: data['left_in_eff_opt'], queue: false},
                                duration: $div.attr('duration')
                            }, true)
                        },
                        swipeRight: function () {
                            vis.changeView(data['right_nav_view'], data['right_nav_view'], {
                                effect: data['right_out_effect'],
                                options: {direction: data['right_out_eff_opt'], queue: false},
                                duration: $div.attr('duration')
                            }, {
                                effect: data['right_in_effect'],
                                options: {direction: data['right_in_eff_opt'], queue: false},
                                duration: $div.attr('duration')
                            }, true)
                        }
                    });
                });
            }
        },
        applyCarousel: function ($div, childView) {
            var $childView = $div.find('#visview_' + childView);
            var count = $div.data('count');
            count = count || 0;

            if (!$childView.length) {
                count++;
                if (count > 20) {
                    return;
                }
                $div.data('count', count);
                setTimeout(function () {
                    vis.binds.swipe.applyCarousel($div, childView);
                }, 100);
                return;
            }
            var $all = $div.find('.vis-widget');
            $all.each(function () {
                var $id = $(this);
                var id = $id.attr('id');
                var idOldPos = $id.position();

                var $idAndChilds = $childView.children('[id^=' + id + ']');

                if ($idAndChilds.length === 1) {
                    $id.css({top: 0, left: 0});

                    $idAndChilds.wrapAll('<li id="li_' + id + '" class="li_carousel" ></li>');
                    $('#li_' + id).css({height: $id.css('height'), width: $id.css('width')});
                } else {
                    $idAndChilds.wrapAll('<div id="wrap_' + id + '" style="position: absolute; height: 50px; width: 50px; left: ' + (idOldPos.left * -1) + 'px; top:' + (idOldPos.top * -1) + 'px"></div>');
                    $('#wrap_' + id).wrap('<li id="li_' + id + '" class="li_carousel"></li>');
                    $('#li_' + id).css({height: $id.css('height'), width: $id.css('width')});
                }
            });

            $childView.children('.li_carousel').append('<div class="carousel_blocking"></div>');
            $childView.children('.li_carousel').wrapAll('<ul class="parent_carousel"></ul>');

            $childView.find('.parent_carousel')
                .bind('ready', function () {
                    var child = $('.roundabout-in-focus').children();
                    $(child[1]).removeClass('carousel_blocking');
                })
                .roundabout({
                    clickToFocus: true,
                    enableDrag: true,
                    dragFactor: 2,
                    minZ: 1,
                    maxZ: 100,
                    tilt: -4,
                    minOpacity: 0.2,
                    minScale: 1,
                    childSelector: '.li_carousel',
                    triggerFocusEvents: true,
                    triggerBlurEvents: true
                });

            $childView.find('.li_carousel')
                .bind('focus', function () {
                    var child = $(this).children();
                    $(child[1]).removeClass('carousel_blocking');
                    $(this).removeClass('roundabout-moveable-item')
                })
                .bind('blur', function () {
                    var child = $(this).children();
                    $(child[1]).addClass('carousel_blocking');
                    $(this).addClass('roundabout-moveable-item')
                });
        },
        carousel: function (wid, view, data, style) {
            var $div = $('#' + wid);
            var childView = data.contains_view;
            
            // if nothing found => wait
            if (!$div.length) {
                setTimeout(function () {
                    vis.binds.swipe.carousel(wid, view, data, style);
                }, 100);
                return;
            }

            if (view === data.contains_view) {
                $div.find('.vis-widget-body').attr('data-vis-contains', '');
                $div.html('<div style="color: red">' + _('Cannot show itself') + '</div>');
                return;
            }

            if (vis.editMode) return;

            vis.binds.swipe.loadRoundScripts(function () {
                vis.binds.swipe.applyCarousel($div, childView);
            });
        }
    };
</script>

<script id="tplSwipe" type="text/ejs" class="vis-tpl" data-vis-set="swipe" data-vis-prev="&lt;img src=&quot;widgets/swipe/img/Prev_Swipe.png&quot;&gt;&lt;/img&gt;" data-vis-name="swipe Navigation" data-vis-attrs="duration;" data-vis-attrs0="group.left;left_nav_view;left_in_effect[slide];left_in_eff_opt[right];left_out_effect[slide];left_out_eff_opt[left];" data-vis-attrs1="group.right;right_nav_view;right_in_effect[slide];right_in_eff_opt[left];right_out_effect[slide];right_out_eff_opt[right];">
    <div class="vis-widget <%== this.data.attr('class') %>" style="display: none; width: 160px; height: 64px; background-color: #333; color: #eee; border: 2px dashed red; opacity:0.8;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.swipe.swipeNav(this.data.wid, this.view, this.data, this.style) %>>
        <div class="vis-widget-body">
            <div style="font-weight: bold" class="translate-it">Swipe Navigation</div>
            <table>
                <tr><td style="width: 40px" class="translate-it">left</td><td style="width: 20px">&gt;</td><td><%= this.data.attr('left_nav_view') %></td></tr>
                <tr><td style="width: 40px" class="translate-it">right</td><td style="width: 20px">&lt;</td><td><%= this.data.attr('right_nav_view') %></td></tr>
            </table>
        </div>
    </div>
</script>


<script id="tplCarousel" type="text/ejs" class="vis-tpl" data-vis-set="swipe" data-vis-prev="&lt;img src=&quot;widgets/swipe/img/Prev_Carousel.png&quot;&gt;&lt;/img&gt;" data-vis-name="Carousel" data-vis-attrs="contains_view/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 300px; height: 100px;" id="<%= this.data.attr('wid') %>" <%= (el) -> vis.binds.swipe.carousel(this.data.wid, this.view, this.data, this.style) %>>
        <% if (vis.editMode) { %>
            <div class="editmode-helper" />
        <% } %>
        <div data-vis-contains="<%= this.data.attr('contains_view') %>" class="vis-widget-body vis-view-container"></div>
    </div>
</script>
<!-- --------------swipe.html--- END -->
<!-- --------------tabs.html--- START -->
<link rel="stylesheet" href="./vis_files/jquery.sliderTabs.css">
<script src="./vis_files/jquery.sliderTabs.js"></script>
<script type="text/javascript">
    if (vis.editMode) {
        // Add words for widgets
        $.extend(true, systemDictionary, {
            "show_tabs":        {"en": "Tabs count",    "de": "Tabs-Anzahl",    "ru": "Количество закладок"},
            "title_tab_":       {"en": "Tab title",     "de": "Tab-Titel",      "ru": "Заголовок закладки"},
            "contains_view_":   {"en": "Contains view", "de": "View für Tab",   "ru": "Имя страницы"}
        });
    }

    vis.binds.tabs = {
        stabs: function (view, wid, data) {
            var $wid = $('#' + wid);
            var id = $wid.attr('id');
            if (id && id.match(/_removed$/)) {
                return;
            }

            if (!$wid.length) {
                return setTimeout(function () {
                    vis.binds.tabs.stabs(view, wid, data);
                }, 100);
            }
            // wait till widget will be visible
            if (!$wid.is(':visible')) {
                return setTimeout(function () {
                    vis.binds.tabs.stabs(view, wid, data);
                }, 1000);
            }

            $wid.find('.tabs-container').remove();
            var i;
            var text = '<span style="width: 100%; height: 100%" class="tabs-container">\n';
            text += '<ul>\n';

            data.show_tabs = parseInt(data.show_tabs, 10) || 1;

            for (i = 1; i <= data.show_tabs; i++) {
                text += '<li><a href="#' + wid + '_st' + i + '">' + (data['title_tab_' + i] || '') + '</a></li>';
            }
            text += '</ul>';

            for (i = 1; i <= data.show_tabs; i++) {
                text += '<div id="' + wid + '_st' + i + '" style="padding-left:0; height:100%">\n';
                if (vis.editMode) text += '    <div class="editmode-helper" />\n';
                text += '    <div data-vis-contains="' + (data['contains_view_' + i] || '') + '" class="vis-widget-body vis-view-container"></div>\n';
                text += '</div>\n';
            }
            text += '</span>';
            $wid.html(text);
            $wid.find('.tabs-container').sliderTabs({
                height: $wid.height() - 5
            });

            vis.updateContainers(view, view);

            if (vis.editMode && vis.activeWidgets.indexOf(wid) !== -1) {
                $wid.resizable('destroy');
                vis.resizable(vis.activeViewDiv, vis.activeView, $wid);
            }

            $wid.data('destroy', function (id, $widget) {
                try {
                    $widget.resizable('destroy');
                } catch (e) {

                }
            });
        }
    };
</script>

<script type="text/ejs" id="tplSTab" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplSTab&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev ui-selectee&quot; style=&quot;top: 76px; left: 23px; width: 138px; height: 121px; position: absolute;&quot; &gt; &lt;div class=&quot;vis-widget-prev-body&quot;&gt; &lt;span style=&quot;width:100%;height:100%&quot; class=&quot;ui-slider-tabs&quot;&gt; &lt;!-- Unordered list representing the tabs --&gt; &lt;div class=&quot;ui-slider-tabs-list-wrapper&quot;&gt;&lt;div class=&quot;ui-slider-tabs-list-container&quot; style=&quot;margin: 0px 35px;&quot;&gt;&lt;ul class=&quot;ui-slider-tabs-list&quot; style=&quot;margin-left: 0px; width: 166px;&quot;&gt; &lt;li class=&quot;selected&quot; style=&quot;height: 32px;&quot;&gt;&lt;a href=&quot;#w00016_st1&quot; style=&quot;height: 32px;&quot;&gt;Tab&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;height: 32px;&quot;&gt;&lt;a href=&quot;#w00016_st2&quot; style=&quot;height: 32px;&quot;&gt;Tab&lt;/a&gt;&lt;/li&gt;&lt;li style=&quot;height: 32px;&quot;&gt;&lt;a href=&quot;#w00016_st3&quot; style=&quot;height: 32px;&quot;&gt;Tab&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;a href=&quot;#&quot; class=&quot;ui-slider-left-arrow edge&quot; style=&quot;width: 35px; height: 32px;&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/a&gt;&lt;a href=&quot;#&quot; class=&quot;ui-slider-right-arrow&quot; style=&quot;width: 35px; height: 32px;&quot;&gt;&lt;div&gt;&lt;/div&gt;&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;ui-slider-tabs-content-container&quot; style=&quot;height: 86px;&quot;&gt;&lt;div style=&quot;padding-left: 0px; height: 100%; display: block; left: 0px; width: 126px;&quot; class=&quot;ui-slider-tab-content selected&quot;&gt; &lt;div class=&quot;editmode-helper&quot;&gt;&lt;/div&gt; &lt;div data-vis-contains=&quot;hallo&quot; class=&quot;vis-widget-body vis-view-container&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;div style=&quot;padding-left: 0px; height: 100%; left: 138px; width: 126px;&quot; class=&quot;ui-slider-tab-content&quot;&gt; &lt;div class=&quot;editmode-helper&quot;&gt;&lt;/div&gt; &lt;div data-vis-contains=&quot;&quot; class=&quot;vis-widget-body vis-view-container&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;div style=&quot;padding-left: 0px; height: 100%; left: 138px; width: 126px;&quot; class=&quot;ui-slider-tab-content&quot;&gt; &lt;div class=&quot;editmode-helper&quot;&gt;&lt;/div&gt; &lt;div data-vis-contains=&quot;&quot; class=&quot;vis-widget-body vis-view-container&quot;&gt;&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/span&gt; &lt;/div&gt; &lt;/div&gt;" data-vis-set="tabs" data-vis-update-style="true" data-vis-name="SliderTabs" data-vis-attrs="height[100]/slider,20,1000,1;show_tabs[1]/slider,1,8,1;title_tab_(1-show_tabs)[Tab];contains_view_(1-show_tabs)/views">
    <div class="vis-widget <%== this.data.attr('class') %>" style="top:0px; left: 0px; width: 250px; height: 250px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body">
            <% vis.binds.tabs.stabs(this.view, this.data.attr('wid'), data) %>
        </div>
    </div>
</script>

<!-- --------------tabs.html--- END -->
<!-- --------------timeandweather.html--- START -->
<!--
    ioBroker.vis time and weather Widget-Set

    version: "1.2.1"

    Copyright 2013-2022 bluefox<dogafox@gmail.com>
-->
<link rel="stylesheet" type="text/css" href="./vis_files/flipclock.css">
<link rel="stylesheet" type="text/css" href="./vis_files/jquery.jdigiclock.css">
<link rel="stylesheet" type="text/css" href="./vis_files/yahoo.css">
<link rel="stylesheet" type="text/css" href="./vis_files/simpleclock.css">
<script type="text/javascript" src="./vis_files/flipclock.min.js"></script>
<script type="text/javascript" src="./vis_files/jquery.jdigiclock.js"></script>
<script type="text/javascript" src="./vis_files/jquery.zweatherfeed.js"></script>
<script type="text/javascript" src="./vis_files/coolclock.js"></script>
<script type="text/javascript" src="./vis_files/moreskins.js"></script>
<script type="text/javascript" src="./vis_files/segment-display.js"></script>

<script>
    'use strict';

	// Add words for bars
    if (vis.editMode) {
        $.extend(systemDictionary, {
            "hideSeconds"      : {"en": "Hide seconds",         "de": "Zeige keine Sekunden",   "ru": "Скрыть секунды"},
            "blink"            : {"en": "Blink",                "de": "Blinken",                "ru": "Мигать"},
            "blink_tooltip"    : {
                "en" : "Used only if no seconds shown",
                "de":  "Wird nur aktiv, falls keine Sekunden angezeigt sind",
                "ru":  "Активно только если секунды не показываются"},
            "showWeekDay"      : {"en": "Show day of week",     "de": "Wochentag",              "ru": "День недели"},
            "noClass"          : {"en": "No style",             "de": "Kein Stil",              "ru": "Без стиля"},
            "noClass_tooltip"  : {
                "en" : "Activate it if you want to set own class or own style for clock with css settings",
                "de":  "Aktiviere es, falls eigenen Stil oder Klasse wird angeandt",
                "ru":  "Если установлены пользовательский класс или CSS свойства,\x0Aто нужно активировать, что бы они стали активными"
            },
            "woeid"            : {"en": "City",                 "de": "Stadt",                  "ru": "Город"},
            "shortWeekDay"     : {"en": "Short week day",       "de": "Kurzer Wochentag",       "ru": "Короткий день недели"},
            "shortYear"        : {"en": "Short year",           "de": "Kurzes Jahr",            "ru": "Короткий год"},
            "prependZero"      : {"en": "Prepend zero",         "de": "Null vorne",             "ru": "Ноль в начале"},
            "monthWord"        : {"en": "Month as word",        "de": "Monat als text",         "ru": "Месяц словом"},
            "shortMonth"       : {"en": "Short month",          "de": "Kurzer Monat",           "ru": "Короткий месяц"},
            "americanOrder"    : {"en": "American format",      "de": "USA-Format",             "ru": "Формат USA"},
            "City:"            : {"en": "City:",                "de": "Stadt:",                 "ru": "Город:"},
            "noSeconds"        : {"en": "Hide seconds",         "de": "Zeige keine Sekunden",   "ru": "Скрыть секунды"},
            "showDigital"      : {"en": "Digital clock",        "de": "Digitaluhr",             "ru": "Цифровые часы"},
            "Select city"      : {"en": "Select city",          "de": "Stadt wählen",           "ru": "Выбрать город"},
            "showAmPm"         : {"en": "Show am/pm",           "de": "Zeige am/pm",            "ru": "Показать am/pm"},
            "quadSize"         : {"en": "Quarter text size",    "de": "Viertel-Text-Größe",     "ru": "Размер чисел часа"},
            "quadColor"        : {"en": "Quarter text color",   "de": "Viertel-Text-Farbe",     "ru": "Цвет чисел часа"},
            "quadTickColor"    : {"en": "Quarter tick color",   "de": "Viertel-Tickfarbe",      "ru": "Цвет часовых штрихов"},
            "textSize"         : {"en": "Minutes text size",    "de": "Minutentextgroße",       "ru": "Размер минутных чисел"},
            "textColor"        : {"en": "Minutes text color",   "de": "Minutentextfarbe",       "ru": "Цвет минутных чисел"},
            "tickColor"        : {"en": "Small tick color",     "de": "Klein-Tickfarbe",        "ru": "Цвет минутных штрихов"},
            "isSeconds"        : {"en": "Show second hand",     "de": "Zeige Sekunden",         "ru": "Показать секунды"},
            "handsColor"       : {"en": "Hands color",          "de": "Zeigerfarbe",            "ru": "Цвет стрелок"},
            "handsColorLine"   : {"en": "Hands color bulge",    "de": "Zeigerbeulefarbe",       "ru": "Цвет выемок на стрелках"},
            "handsSecColor"    : {"en": "Seconds hand color",   "de": "Skeundenzeigerfarbe",    "ru": "Цвет секундной стрелки"},
            "textFont"         : {"en": "Text font",            "de": "Textschrift",            "ru": "Шрифт"},
            "cityName"         : {"en": "City name",            "de": "Stadtsname",             "ru": "Показывать имя города"},
            "language"         : {"en": "Language",             "de": "Sprache",                "ru": "Язык"},
            "SymmetricCorner"   : {"en": "symmetric",           "de": "symmetrisch",            "ru": "симметричные"},
            "FlattenedCorner"   : {"en": "flattened",           "de": "abgeflacht",             "ru": "плоские"},
            "PointedCorner"     : {"en": "pointed",             "de": "spitzig",                "ru": "заострённые"},
            "RoundedCorner"     : {"en": "rounded",             "de": "gerundet",               "ru": "закруглённые"},
            "group_clock"       : {"en": "Clock",               "de": "Uhr",                    "ru": "Часы"},
            "clock"             : {"en": "Enable clock",        "de": "Aktiviere Uhr",          "ru": "Активировть часы "},
            "clock_tooltip"     : {
                "en": "Clock is enabled only if no ObjectID and not text used.",
                "de": "Uhr sind nur dann aktiv, falls kein Objekt ID und kein Text definiert sind.",
                "ru": "Активно только,\x0Aесли не используется объект и текст"
            },
            "seconds"           : {"en": "Show seconds",        "de": "Sekunden",               "ru": "Показать секунды"},
            "pattern"           : {"en": "Pattern",             "de": "Vorlage",                "ru": "Шаблон"},
            "pattern_tooltip"   : {
                "en": "Use # as placeholder.\x0AAdditionally dot and semicolon canbe used.",
                "de": "Benutze # als Platzhalter.\x0APunkt und Semikolon können als Trennzeichen benutz werden.",
                "ru": "Используйте # там, где должен быть символ.\x0AЕщё можно использовать точку и двоеточие."
            },
            "colorOn"           : {"en": "Segment color ON",    "de": "Segmentfarbe AN",        "ru": "Цвет вкл. секции"},
            "colorOff"          : {"en": "Segment color OFF",   "de": "Segmentfarbe AUS",       "ru": "Цвет выкл. секции"},
            "runStepInterval"   : {"en": "Running text intervall(ms)", "de": "Interval für laufendem Text(ms)", "ru": "Интервал бегущего текста(мс)"},
            "segmentCount"      : {"en": "Segment count",       "de": "Anzahl Segmenten",       "ru": "Число секций"},
            "displayAngle"      : {"en": "Display angle",       "de": "Zeichenwinkel",          "ru": "Наклон °"},
            "digitHeight"       : {"en": "Digit height",        "de": "Zeichenhöhe",            "ru": "Высота числа"},
            "digitWidth"        : {"en": "Digit width",         "de": "Zeichebreite",           "ru": "Ширина числа"},
            "digitDistance"     : {"en": "Digit distance",      "de": "Zeichenabstand",         "ru": "Расстояние между числами"},
            "segmentWidth"      : {"en": "Segment width",       "de": "Segmentbreite",          "ru": "Ширина секции"},
            "segmentDistance"   : {"en": "Segment distance",    "de": "Segmentdistanz",         "ru": "Расстояние между секциями"},
            "cornerType"        : {"en": "Corners type",        "de": "Ecktyp",                 "ru": "Тип закруглений"},
            "en"                : {"en": "english",             "de": "englisch",               "ru": "английский"},
            "de"                : {"en": "german",              "de": "deutsch",                "ru": "немецкий"},
            "ru"                : {"en": "russian",             "de": "russisch",               "ru": "русский"},
            "city":               {"en": "City",                "de": "Stadt",                  "ru": "Город"},
            "group_now":             {"en": "Now",                "de": "Jetzt",                "ru": "Сейчас"},
            "updateInterval":        {"en": "Update interval[min]", "de": "Updateintervalle[min]", "ru": "Обновление в минутах"},
            "temperature-0-oid":     {"en": "Temperature ID",     "de": "Temperature ID",       "ru": "Температура ID"},
            "condition-0-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "humidity-0-oid":        {"en": "Humidity ID",        "de": "Luftfeutigkeit ID",    "ru": "Влажность ID"},
            "temperature-min-0-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура ID"},
            "temperature-max-0-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура ID"},
            "wind-speed-0-oid":      {"en": "Wind speed ID",      "de": "Windgeschwindigkeit",  "ru": "Скорсть ветра ID"},
            "wind-dir-0-oid":        {"en": "Wind direction ID",  "de": "Windrichting",         "ru": "Направление ветра ID"},
            "icon-0-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки"},
            "group_tomorrow":        {"en": "Tomorrow",           "de": "Morgen",               "ru": "Завтра"},
            "condition-1-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "temperature-max-1-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура ID"},
            "temperature-min-1-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура ID"},
            "icon-1-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки ID"},
            "group_aftertomorrow":   {"en": "group_aftertomorrow", "de": "Übermorgen",          "ru": "Послезавтра"},
            "condition-2-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "temperature-max-2-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура ID"},
            "temperature-min-2-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура ID"},
            "icon-2-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки ID"},
            "group_in2days":         {"en": "In 2 days",          "de": "In 2 Tagen",           "ru": "Через 2 дня"},
            "condition-3-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "temperature-max-3-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура"},
            "temperature-min-3-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура"},
            "icon-3-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки"},
            "group_in3days":         {"en": "In 3 days",          "de": "In 3 Tagen",           "ru": "Через 3 дня"},
            "condition-4-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "temperature-max-4-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура ID"},
            "temperature-min-4-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура ID"},
            "icon-4-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки ID"},
            "group_in4days":         {"en": "In 4 days",          "de": "In 4 Tagen",           "ru": "Через 4 дня"},
            "condition-5-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "temperature-max-5-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура ID"},
            "temperature-min-5-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура ID"},
            "icon-5-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки ID"},
            "group_in5days":         {"en": "In 5 days",          "de": "In 5 Tagen",           "ru": "Через 5 дней"},
            "condition-6-oid":       {"en": "Condition ID",       "de": "Text ID",              "ru": "Текст ID"},
            "temperature-max-6-oid": {"en": "Max temperature ID", "de": "Max Temperature ID",   "ru": "Макс. температура ID"},
            "temperature-min-6-oid": {"en": "Min temperature ID", "de": "Min Temperature ID",   "ru": "Мин. температура ID"},
            "icon-6-oid":            {"en": "Icon URL ID",        "de": "Bild-URL ID",          "ru": "URL картинки ID"},
            "units_speed":           {"en": "Speed units",        "de": "Geschw.Einheit",       "ru": "Единицы изм. скорости"},
            "maxDays":               {"en": "Show max. days",     "de": "Max. Tagesanzahl",     "ru": "Макс. кол-во дней"}
        });
    }

    vis.binds.timeandweather = {
 	    version: "1.2.1",
		showVersion: function () {
			if (vis.binds.timeandweather.version) {
				console.log('Version vis-timeandweather: ' + vis.binds.timeandweather.version);
				vis.binds.timeandweather.version = null;
			}
		},
		startTime: function (view, elem, hideSeconds, blink, noClass, timerId) {
            var today = new Date();
            var h = today.getHours();
            var m = today.getMinutes();
            var s = today.getSeconds();

            // add a zero in front of numbers<10
            m = m < 10 ? ('0' + m) : m;
            if (!hideSeconds) {
                s = s < 10 ? ('0' + s) : s;
            }
            h = h < 10 ? ('0' + h) : h;
            var hl = document.getElementById(elem);

            if (hideSeconds === 'false') {
                hideSeconds = false;
            }

            if (!hl) {
                $('#visview_' + view).append('<div class="vis-widget' + (noClass ? '' : ' clock') + '" id="' + elem + '" ></div>');
                hl = document.getElementById(elem);
                // View deleted
                if (!hl) {
                    return;
                }
                hl.dashId = today.getTime();
            }
            if (hl && (timerId === undefined || hl.dashId == timerId)) {
                if (hideSeconds) {
                    hl.innerHTML = h + '<span style="display: inline-block" id="' + elem + '_space">:</span>' + m;
                    if (blink && (s % 2)) {
                        var r = $('#' + elem + '_space');
                        var w = r.width();
                        r.css({width: w});
                        r.html("");
                    }
                } else {
                    hl.innerHTML = h + ':' + m + ':' + s;
                }
                hl.dashTimer = _setTimeout(vis.binds.timeandweather.startTime, 1000, view, elem, hideSeconds, blink, noClass, hl.dashId);
            }
        },
        weekdays: {
            0: {"en": "Sunday",   "de": "Sonntag",    "ru": "Воскресенье"},
            1: {"en": "Monday",   "de": "Montag",     "ru": "Понедельник"},
            2: {"en": "Tuesday",  "de": "Dienstag",   "ru": "Вторник"},
            3: {"en": "Wednesday","de": "Mittwoch",   "ru": "Среда"},
            4: {"en": "Thursday", "de": "Donnerstag", "ru": "Четверг"},
            5: {"en": "Friday",   "de": "Freitag",    "ru": "Пятница"},
            6: {"en": "Saturday", "de": "Samstag",    "ru": "Суббота"}
        },
        weekdaysShort: {
            0: {"en": "Sun", "de": "So", "ru": "Вс"},
            1: {"en": "Mon", "de": "Mo", "ru": "Пн"},
            2: {"en": "Tue", "de": "Di", "ru": "Вт"},
            3: {"en": "Wed", "de": "Mi", "ru": "Ср"},
            4: {"en": "Thu", "de": "Do", "ru": "Чт"},
            5: {"en": "Fri", "de": "Fr", "ru": "Пт"},
            6: {"en": "Sat", "de": "Sa", "ru": "Сб"}
        },
        months: {
            1: {"en": "January",    "de": "Januar",     "ru": "Январь"},
            2: {"en": "February",   "de": "Februar",    "ru": "Февраль"},
            3: {"en": "March",      "de": "März",       "ru": "Март"},
            4: {"en": "April",      "de": "April",      "ru": "Апрель"},
            5: {"en": "May",        "de": "Mai",        "ru": "Май"},
            6: {"en": "June",       "de": "Juni",       "ru": "Июнь"},
            7: {"en": "July",       "de": "Juli",       "ru": "Июль"},
            8: {"en": "August",     "de": "August",     "ru": "Август"},
            9: {"en": "September",  "de": "September",  "ru": "Сентябрь"},
            10: {"en": "October",   "de": "Oktober",    "ru": "Октябрь"},
            11: {"en": "November",  "de": "November",   "ru": "Ноябрь"},
            12: {"en": "December",  "de": "Dezember",   "ru": "Декабрь"}
        },
        startDate: function (view, elem, showWeekDay, noClass, timerId, shortWeekDay, shortYear, prependZero, monthWord, shortMonth, american) {
            var today = new Date();
            var d = today.getDate();
            var dow = today.getDay();
            var m = today.getMonth() + 1;
            var y = today.getFullYear();

            var monthString = vis.binds.timeandweather.months[m][vis.language];
            if (shortMonth) {
                monthString = monthString.slice(0, 3);
            }

            if (shortYear) {
                y = y.toString().slice(2);
            }

            // add a zero in front of numbers<10
            if (prependZero) {
                d = d < 10 ? ('0' + d) : d;
                m = m < 10 ? ('0' + m) : m;
            }

            if (showWeekDay === 'false') {
                showWeekDay = false;
            }

            var $hl = $('#' + elem);
            if (!$hl.length) {
                $('#visview_' + view).append('<div class="vis-widget' + (noClass ? '' : ' date') + '" id="' + elem + '" ></div>');
                $hl = $('#' + elem);
                $hl.data('dashId', Date.now());
            }

            if ($hl.length && (timerId === undefined || $hl.data('dashId') == timerId)) {
                var dateString = '';
                if (showWeekDay && !shortWeekDay) {
                    dateString += vis.binds.timeandweather.weekdays[dow][vis.language] + ', ';
                } else if (showWeekDay && shortWeekDay) {
                    dateString += vis.binds.timeandweather.weekdaysShort[dow][vis.language] + ', ';
                }

                if (monthWord) {
                    switch (vis.language) {
                        case 'en':
                            switch (d) {
                                case 1:
                                    d += 'st';
                                    break;
                                case 2:
                                    d += 'nd';
                                    break;
                                case 3:
                                    d += 'rd';
                                    break;
                                default:
                                    d += 'th';
                            }

                            if (american) {
                                dateString += monthString + ' ' + d + ', ' + y;
                            } else {
                                dateString += d + ' ' + monthString + ', ' + y;
                            }

                            break;
                        default:
                            dateString += d + '. ' + monthString + ' ' + y;
                    }
                } else {
                    switch (vis.language) {
                        case 'en':
                            if (american) {
                                dateString += m + '/' + d + '/' + y;
                            } else {
                                dateString += d + '/' + m + '/' + y;
                            }

                            break;
                        default:
                            dateString += d + '.' + m + '.' + y;
                    }
                }

                $hl.html(dateString);
                $hl.data('dashTimer',
                    _setTimeout(vis.binds.timeandweather.startDate,
                        (24 * 3600 - (today.getHours() * 60 * 60 + today.getMinutes() * 60 + today.getSeconds())) * 1000,
                        view,
                        elem,
                        showWeekDay,
                        noClass,
                        $hl.data('dashId'),
                        shortWeekDay,
                        shortYear,
                        prependZero,
                        monthWord,
                        shortMonth,
                        american
                    )
                );
            }
        },
        tplTwCoolClock: function (view, data) {
 			vis.binds.timeandweather.showVersion();
            var style;
            var wid = data.attr('wid');
            if (vis.views[view] &&
                vis.views[view].widgets[wid] &&
                vis.views[view].widgets[wid].style
            ) {
                style = vis.views[view].widgets[wid].style;
            }
            style = style || {};
            style.width = parseInt(style.width) || 85;
            style.height = parseInt(style.height) || 85;
            var radius = parseInt(style.width) || 85;
            if (vis.views[view].widgets[wid]) {
                vis.views[view].widgets[wid].style = style;
            }

            // Take the smallest value
            if (style.height < radius) radius = style.height;
            radius = Math.round(radius / 2);
            var myClass = 'CoolClock:' + (data.attr('theme') || 'classic') + ':' + radius + ':' + (data.attr('noSeconds') ? 'noSeconds' : '') + '::' + (data.attr('showDigital') ? 'showDigital' : '') + '::' + (data.attr('showAmPm') ? 'showAmPm' : '');

            var text = '<div id="' + data.attr('wid') + '" data-myclass="' + myClass + '" style="width: ' + style.width + '; height: ' + style.height + 'px" class="vis-widget"><canvas width="' + style.width + '" height="' + style.height + '"class="' + myClass + '"></canvas></div>';
            $('#visview_' + view).append(text);

            if (vis.editMode) {
                $('#' + data.attr('wid')).bind('resize', function () {
                    var t = $(this);
                    var myClass = t.attr('data-myclass');
                    var myClasses = myClass.split(':');
                    myClasses[2] = t.width();

                    if (t.height() < myClasses[2]) {
                        myClasses[2] = t.height();
                    }

                    myClasses[2] = Math.round(myClasses[2] / 2);
                    myClass = myClasses.join(':');
                    t.html('<canvas class="' + myClass + '"></canvas>');
                    CoolClock.findAndCreateClocks();
                });
            }
            CoolClock.findAndCreateClocks();
        },
        tplTwFlipClock: function (view, data) {
 			vis.binds.timeandweather.showVersion();
            var text = '<div class="vis-widget" style="width: 500px; height: 110px" id="' + data.attr('wid') + '" data-vis-resizable=';
            text += "'" + '{"disabled":true}' + "'></div>";
            $('#visview_' + view).append(text);
            var clock = $('#' + data.attr('wid')).FlipClock({clockFace: 'TwentyFourHourClock'});
        },
        tplTwHtcWeather: function (view, data) {
 			vis.binds.timeandweather.showVersion();
            var text = '<div class="vis-widget" style="width: 500px; height: 420px" id="' + data.attr('wid') + '" data-vis-resizable=';
            text += "'" + '{"disabled":true}' + "'></div>";
            $('#visview_' + view).append(text);
            var woeid = data.attr('woeid') || data.attr('weoid');
            if (woeid !== undefined && woeid !== null) {
                var i = woeid.indexOf('[');
                if (i !== -1) {
                    woeid = woeid.substring(i + 1);
                    i     = woeid.indexOf(']');
                    woeid = woeid.substring(0, i);
                }
            } else {
                woeid = '664942';
            }
            var updateInterval = data.attr('updateInterval');
            if (updateInterval === '' || updateInterval === null || updateInterval === undefined) {
                updateInterval = 180;
            } else {
                updateInterval = parseInt(data.attr('updateInterval'), 10);
            }

            var clock = $('#' + data.attr('wid')).jdigiclock({
                weatherLocationCode: woeid,
                city:                data.attr('cityName'),
                weatherUpdate:       updateInterval,
                lang:                data.attr('language') || vis.language,
                clockImagesPath:     'widgets/timeandweather/img/clock/'
            });
        },
        tplTwYahooWeather: function (view, data) {
 			vis.binds.timeandweather.showVersion();
            var text = '<div class="vis-widget ui-widget-content" id="' + data.attr('wid') + '" style="width:250px; height: 500px; color: #ddd"></div>';
            $('#visview_' + view).append(text);
            var woeid = data.attr('woeid') || data.attr('weoid');
            if (woeid !== undefined && woeid !== null) {
                var i = woeid.indexOf('[');
                if (i !== -1) {
                    woeid = woeid.substring(i + 1);
                    i     = woeid.indexOf(']');
                    woeid = woeid.substring(0, i);
                }
            }
            else {
                woeid = '664942';
            }
            var updateInterval = data.attr('updateInterval');
            if (updateInterval === '' || updateInterval === null || updateInterval === undefined) {
                updateInterval = 180;
            } else {
                updateInterval = parseInt(data.attr('updateInterval'), 10);
            }
            $('#' + data.attr('wid')).weatherfeed([woeid], {
                lang:       data.attr('language') || vis.language,
                woeid:      true,
                city:       data.attr('cityName'),
                humidity:   true,
                forecast:   true,
                link:       false,
                maxDays:    data.attr('maxDays'),
                update:     updateInterval,
                resizable:  false,
                rendered:   function () {
                    if (vis.editMode && vis.activeWidgets.indexOf(data.attr('wid')) !== -1) {
                        vis.resizable($('#' + data.attr('wid')).resizable('destroy'));
                    }
                }
            });
        },
        getValue: function (oidOrBinding) {
            if (!oidOrBinding) {
                return '';
            }

            if (oidOrBinding[0] === '{') {
                return vis.formatBinding(oidOrBinding);
            } else {
                var val = vis.states.attr(oidOrBinding + '.val');
                if (val === undefined || val === null || val === 'null') {
                    return '';
                }
                return val;
            }
        },
        updateCustomWeather: function (data) {
            var getValue = vis.binds.timeandweather.getValue;
            var weather = {
                units: {
                    pressure:     data.units_pressure   || 'mb',
                    speed:        data.units_speed      || 'km/h',
                    temperature:  data.units_temp       || 'C'
                },
                location: {
                    city: data.city || ''
                },
                wind: {
                    direction: getValue(data['wind-dir-0-oid']),
                    speed:     getValue(data['wind-speed-0-oid'])
                },
                atmosphere: {
                    humidity: getValue(data['humidity-0-oid'])
                },
                image: {
                    url: 'http://l.yimg.com/a/i/brand/purplelogo//uh/us/news-wea.gif'
                },
                item: {
                    condition: {
                        temp: getValue(data['temperature-0-oid']),
                        text: getValue(data['condition-0-oid']),
                        icon: getValue(data['icon-0-oid'])
                    },
                    forecast: [
                        {
                            high: getValue(data['temperature-max-0-oid']),
                            low:  getValue(data['temperature-min-0-oid']),
                            text: getValue(data['condition-0-oid']),
                            icon: getValue(data['icon-0-oid'])
                        },
                        {
                            high: getValue(data['temperature-max-1-oid']),
                            low:  getValue(data['temperature-min-1-oid']),
                            text: getValue(data['condition-1-oid']),
                            icon: getValue(data['icon-1-oid'])
                        },
                        {
                            high: getValue(data['temperature-max-2-oid']),
                            low:  getValue(data['temperature-min-2-oid']),
                            text: getValue(data['condition-2-oid']),
                            icon: getValue(data['icon-2-oid'])
                        },
                        {
                            high: getValue(data['temperature-max-3-oid']),
                            low:  getValue(data['temperature-min-3-oid']),
                            text: getValue(data['condition-3-oid']),
                            icon: getValue(data['icon-3-oid'])
                        },
                        {
                            high: getValue(data['temperature-max-4-oid']),
                            low:  getValue(data['temperature-min-4-oid']),
                            text: getValue(data['condition-4-oid']),
                            icon: getValue(data['icon-4-oid'])
                        },
                        {
                            high: getValue(data['temperature-max-5-oid']),
                            low:  getValue(data['temperature-min-5-oid']),
                            text: getValue(data['condition-5-oid']),
                            icon: getValue(data['icon-5-oid'])
                        },
                        {
                            high: getValue(data['temperature-max-6-oid']),
                            low:  getValue(data['temperature-min-6-oid']),
                            text: getValue(data['condition-6-oid']),
                            icon: getValue(data['icon-6-oid'])
                        }
                    ]
                }
            };

            if (weather.atmosphere.humidity === '' || weather.atmosphere.humidity === 'null') weather.atmosphere.humidity = null;
            if (weather.wind.direction      === '' || weather.wind.direction      === 'null') weather.wind.direction      = null;
            if (weather.wind.speed          === '' || weather.wind.speed          === 'null') weather.wind.speed          = null;

            for (var i = 0; i < weather.item.forecast.length; i++) {
                if (weather.item.forecast[i].high === null &&
                    weather.item.forecast[i].low  === null &&
                    weather.item.forecast[i].text === null
                ) {
                    weather.item.forecast.splice(i, weather.item.forecast.length - i);
                    break;
                }
                if (weather.item.forecast[i].high === '' &&
                    weather.item.forecast[i].low  === '' &&
                    weather.item.forecast[i].text === ''
                ) {
                    weather.item.forecast.splice(i, weather.item.forecast.length - i);
                    break;
                }
            }

            $('#' + data.wid).weatherfeed('', 'update', weather);
            /*$('#' + data.wid).weatherfeed('', 'update', {
                "units": {
                    "distance": "km",
                            "pressure": "mb",
                            "speed": "km/h",
                            "temperature": "C"
                },
                "location": {
                    "city": "Karlsruhe"
                },
                "wind": {
                    "chill": "66",
                    "direction": "255",
                    "speed": "11.27"
                },
                "atmosphere": {
                    "humidity": "71"
                },
                "image": {
                    "url": "http://l.yimg.com/a/i/brand/purplelogo//uh/us/news-wea.gif"
                },
                "item": {
                    "condition": {
                        "code": "26",
                                "temp": "19",
                                "text": "Cloudy"
                    },
                    "forecast": [
                        {
                            "code": "12",
                            "high": "20",
                            "low": "14",
                            "text": "Rain"
                        },
                        {
                            "code": "39",
                            "high": "21",
                            "low": "13",
                            "text": "Scattered Showers"
                        },
                        {
                            "code": "4",
                            "high": "22",
                            "low": "15",
                            "text": "Thunderstorms"
                        },
                        {
                            "code": "28",
                            "high": "23",
                            "low": "13",
                            "text": "Mostly Cloudy"
                        },
                        {
                            "code": "4",
                            "high": "24",
                            "low": "15",
                            "text": "Thunderstorms"
                        },
                        {
                            "code": "47",
                            "high": "23",
                            "low": "16",
                            "text": "Scattered Thunderstorms"
                        },
                        {
                            "code": "30",
                            "high": "23",
                            "low": "16",
                            "text": "Partly Cloudy"
                        }
                    ]
                }
            });*/
        },
        tplTwCustomWeather: function (view, data) {
            vis.binds.timeandweather.showVersion();
            var text = '<div class="vis-widget ui-widget-content" id="' + data.attr('wid') + '" style="width: 250px; height: 500px; color: #ddd"></div>';
            $('#visview_' + view).append(text);

            $('#' + data.attr('wid')).weatherfeed('', {
                lang:       data.attr('language') || vis.language,
                custom:     true,
                city:       data.attr('city'),
                humidity:   true,
                forecast:   true,
                link:       false,
                resizable:  false
            });

            for (var attr in data) {
                if (data.hasOwnProperty(attr)) {
                    if (attr.match(/-oid$/) && data[attr]) {
                        if (data[attr][0] === '{') {
                            var oids = vis.extractBinding(data[attr]);
                            for (var oid = 0; oid < oids.length; oid++) {
                                vis.states.bind(oids[oid].visOid + '.val', function () {
                                    vis.binds.timeandweather.updateCustomWeather(data);
                                });
                            }
                        } else {
                            vis.states.bind(data[attr] + '.val', function () {
                                vis.binds.timeandweather.updateCustomWeather(data);
                            });
                        }
                    }
                }
            }

            vis.binds.timeandweather.updateCustomWeather(data);
        },
        createSvgClock: function (options, el) {
            var quadSize       = options.quadSize || 60;
            var quadColor      = options.quadColor || '#333';
            var quadTickColor  = options.quadTickColor || '#333';
            var textSize       = options.textSize || 30;
            var textColor      = options.textColor || '#555';
            var tickColor      = options.tickColor || '#555';
            var isSeconds      = options.isSeconds || false;
            var handsColor     = options.handsColor || '#111';
            var handsColorLine = options.handsColorLine || '#666';
            var handsSecColor  = options.handsSecColor || '#be5639';
            var textFont       = options.textFont || 'verdana, sans-serif';
            var $el            = $(el);

            var html = '<svg viewbox="-450 -450 900 900" class="svg--clock" style="display: block;min-width: 5em;min-height: 5em;width: 100%;height: 100%;">';
            html += '  <defs>';
            html += '    <line  vector-effect="non-scaling-stroke" id="mark--major" y1="28.8" style="stroke-width: 7;stroke: ' + quadTickColor + '"></line>';
            html += '    <line  vector-effect="non-scaling-stroke" id="mark--minor" y1="14.4" style="stroke-width: 2;stroke: ' + tickColor + '"></line>';
            html += '    <circle  vector-effect="non-scaling-stroke" class="svg--cc" r="360"></circle>';
            html += '  </defs>';
            html += '  <g class="svg--ticks"  vector-effect="non-scaling-stroke"></g>';
            html += '  <g id="hands">';
            html += '    <g class="hand--h" style="stroke-linecap: round;stroke-width: 7;stroke: ' + handsColor + '">';
            html += '      <line vector-effect="non-scaling-stroke" y2="-234"></line>';
            html += '      <line vector-effect="non-scaling-stroke" y1="-136.8" y2="-205.2" style="stroke-width: 3;stroke: ' + handsColorLine + '"></line>';
            html += '    </g>';
            html += '    <g transform="rotate(25)" class="hand--m" style="stroke-linecap: round;stroke-width: 5;stroke: ' + handsColor + '">';
            html += '      <line vector-effect="non-scaling-stroke" y2="-298.8"></line>';
            html += '      <line vector-effect="non-scaling-stroke" y1="-201.60000000000002" y2="-270" style="stroke-width: 3;stroke: ' + handsColorLine + '"></line>';
            html += '    </g>';
            html += '    <g transform="rotate(60)" class="hand--s" style="stroke-width: 2;stroke: ' + handsSecColor + '">';
            html += '      <line vector-effect="non-scaling-stroke" y1="36" y2="-342"></line>';
            html += '    </g>';
            html += '    <g>';
            html += '      <circle vector-effect="non-scaling-stroke" r="14.4" style="fill: #e18728;"></circle>';
            html += '      <circle vector-effect="non-scaling-stroke" r="7.2"  style="fill: #e0a197;"></circle>';
            html += '    </g>';
            html += '  </g>';
            html += '</svg>';

            $el.find('svg').remove();

            if (!$el.find('svg').length) $el.append(html);

            /* because IE */
            Math.sign = Math.sign || function (x) {
                x = +x; // convert to a number
                if (x === 0 || isNaN(x)) {
                    return x;
                }
                return x > 0 ? 1 : -1;
            };

            /* because me lazy */
            Object.getOwnPropertyNames(Math).map(function (p) {
                window[p] = Math[p];
            });

            Node.prototype.setAttrs = function (attr_obj) {
                for (var prop in attr_obj) {
                    this.setAttribute(prop, attr_obj[prop]);
                }
            };

            var NS_URI = 'http://www.w3.org/2000/svg';
            var XLink_NS = 'http://www.w3.org/1999/xlink';

            var ns = 60;
            var mi = 5;
            var qi = .25 * ns;
            var r = ~~$el.find('.svg--cc')[0].getAttribute('r');
            var svg = $el.find('svg')[0];
            var wrap = $el.find('.svg--ticks')[0];
            var h_el = $el.find('.hand--h')[0];
            var m_el = $el.find('.hand--m')[0];
            var s_el = $el.find('.hand--s')[0];
            var h_max = 12, h_deg = 360 / h_max;
            var m_max = 60, m_deg = 360 / m_max;
            var s_max = 60, s_deg = 360 / s_max;
            var prev_s;

            var init = function () {
                var frag = document.createDocumentFragment();
                var curr_tick_group;
                var curr_tick;
                var text1;
                var text2;
                var is_major;
                var is_quad;
                var ref;
                var curr_angle;
                var base_angle = 360 / ns;

                if (!isSeconds) {
                    s_el.setAttribute('style', 'display: none');
                }
                for (var i = 0; i < ns; i++) {
                    is_major = (i % mi === 0);
                    is_quad = (i % qi === 0);

                    ref = '#mark--' + (is_major ? 'major' : 'minor');
                    curr_angle = i * base_angle;

                    curr_tick_group = document.createElementNS(NS_URI, 'g');
                    curr_tick = document.createElementNS(NS_URI, 'use');
                    curr_tick.setAttributeNS(XLink_NS, 'xlink:href', ref);

                    curr_tick.setAttribute(
                        'transform',
                        'rotate(' + curr_angle + ')' +
                        'translate(0 -' + r + ')'
                    );

                    if (is_major) {
                        curr_tick.setAttribute('class', 'major');

                        text1 = document.createElementNS(NS_URI, 'text');
                        text1.textContent = i.toString();

                        text1.setAttribute(
                            'transform',
                            'rotate(' + curr_angle + ')' +
                            'translate(0 -' + 1.05 * r + ')' +
                            'rotate(' + -curr_angle + ')'
                        );
                        curr_tick_group.appendChild(text1);
                        text1.setAttribute('style', 'dominant-baseline: middle;text-anchor: middle;fill: ' + textColor + '; font: ' + textSize + 'px ' + textFont);

                        if (is_quad) {
                            curr_tick.setAttribute('class', 'major quad');

                            text2 = document.createElementNS(NS_URI, 'text');
                            text2.textContent = (i / mi) || 12;

                            text2.setAttrs({
                                'class': 'quad',
                                'transform': 'rotate(' + curr_angle + ')' +
                                'translate(0 -' + .8 * r + ')' +
                                'rotate(' + -curr_angle + ')'
                            });
                            text2.setAttribute('style', 'dominant-baseline: middle;text-anchor: middle;fill: ' + quadColor + '; font: 700 ' + quadSize + 'px ' + textFont);
                            curr_tick_group.appendChild(text2);
                        }
                    }

                    curr_tick_group.appendChild(curr_tick);
                    frag.appendChild(curr_tick_group);
                }

                wrap.appendChild(frag);

                run();
                setInterval(function () {
                    requestAnimationFrame(run);
                }, 500);

            };

            var run = function () {
                var t = new Date();
                var h = t.getHours();
                var curr_s_deg;
                var m = t.getMinutes();
                var curr_m_deg;
                var s = t.getSeconds();
                var curr_h_deg;

                curr_s_deg = (s % s_max) * s_deg;

                if (s != prev_s) {
                    curr_s_deg = (s % s_max) * s_deg;
                    if (isSeconds) {
                        s_el.setAttribute(
                            'transform',
                            'rotate(' + curr_s_deg + ')'
                        );
                    }

                    curr_m_deg = ((m % m_max) + s / s_max) * m_deg;
                    m_el.setAttribute(
                        'transform',
                        'rotate(' + curr_m_deg + ')'
                    );

                    curr_h_deg = ((h % h_max) + m / m_max) * h_deg;
                    h_el.setAttribute(
                        'transform',
                        'rotate(' + curr_h_deg + ')'
                    );
                }

                prev_s = s;
            };

            init();
        },
        tplSvgClock: function (el, data) {
 			vis.binds.timeandweather.showVersion();

            setTimeout(function () {
                vis.binds.timeandweather.createSvgClock(data, el[0]);
            }, 100);
        },
        tplSegmentClock: function (el, data) {
 			vis.binds.timeandweather.showVersion();

            function writeTime(_el, display) {
                var d = new Date();
                var h = d.getHours();
                if (h < 10) h = '0' + h;
                var m = d.getMinutes();
                if (m < 10) m = '0' + m;
                var s = d.getSeconds();
                if (s < 10) s = '0' + s;
                var time = h + ':' + m;
                if (data.seconds && data.seconds !== 'false') {
                    time += ':' + s;
                }
                if (vis.editMode || _el.data('val') != time) {
                    _el.data('val', time);
                    display.setValue(time);
                }
            }

            function runText(_el, _display, interval) {
                // var $display = $('#' + _display.displayId);

                var val = _el.data('value');
                var len = val.length;
                if (!val) {
                    return;
                }
                var step = _el.data('step') || 0;

                if (step < 0) {
                    val = new Array(-step + 1).join(' ') + val.substring(0, _display.pattern.length + step);
                } else {
                    val = val.substring(step);
                }
                if (step >= len) {
                    step = -(_display.pattern.length - 1);
                } else {
                    step++;
                }
                _el.data('step', step);
                _display.setValue(val);

                if (!_el.data('timerId')) {
                    var timerId = Math.round(Math.random() * 100000) + 1;
                    var timer = setInterval(function () {
                        if (_el.data('timerId') != timerId) {
                            clearInterval(timer);
                            return;
                        }
                        runText(_el, _display, interval);
                    }, interval);
                    _el.data('timerId', timerId);
                }
            }

            setTimeout(function () {
                el.append('<canvas id="' + data.attr('wid') + '_clock" width="'  + el.width() + '" height="'  + el.height() + '"></canvas>');
                var display = new SegmentDisplay(data.attr('wid') + '_clock');
                display.pattern = data.pattern || '##:##:##';

                if (display.pattern === '##:##:##' && (!data.seconds || data.seconds === 'false')) {
                    display.pattern = '##:##';
                }
                display.segmentCount    = parseInt(data.segmentCount, 10) || 7;
                display.displayAngle    = (data.displayAngle    === '' || data.displayAngle    === null || data.displayAngle === undefined)    ? 9   : (parseInt(data.displayAngle, 10) || 0);
                display.digitHeight     = parseInt(data.digitHeight, 10) || 20;
                display.digitWidth      = parseInt(data.digitWidth, 10)  || 12;
                display.digitDistance   = (data.digitDistance   === '' || data.digitDistance   === null || data.digitDistance === undefined)   ? 2   : (parseInt(data.digitDistance, 10) || 0);
                display.segmentWidth    = parseInt(data.segmentWidth, 10) || 3;
                display.segmentDistance = (data.segmentDistance === '' || data.segmentDistance === null || data.segmentDistance === undefined) ? 0.5 : (parseFloat(data.segmentDistance) || 0);
                switch (data.cornerType) {
                    case 'SymmetricCorner':
                        display.cornerType = 0;
                        break;
                    case 'FlattenedCorner':
                        display.cornerType = 1;
                        break;
                    case 'PointedCorner':
                        display.cornerType = 2;
                        break;
                    case 'RoundedCorner':
                        display.cornerType = 0;
                        break;
                    default:
                        display.cornerType = 0;
                    break;
                }
                display.colorOn      = data.colorOn  || 'rgba(0, 0, 0, 0.9)';
                display.colorOff     = data.colorOff || 'rgba(0, 0, 0, 0.1)';
                data.runStepInterval = parseInt(data.runStepInterval, 10) || 0;
                if (data.oid && data.oid !== 'nothing_selected') {
                    var value = vis.states.attr(data.oid + '.val');
                    if (value === null || value === undefined) {
                        value = '';
                    }
                    value = value.toString();
                    display.setValue(value);
                    el.data('value', value).data('step', 0);
                    vis.states.bind(data.oid + '.val', function (e, newVal) {
                        el.data('value', newVal).data('step', 0);
                        display.setValue(newVal.toString());
                    });
                    if (data.runStepInterval) {
                        runText(el, display, data.runStepInterval);
                    }
                } else if (data.text) {
                    el.data('value', data.text.toString()).data('step', 0);
                    display.setValue(data.text.toString());
                    if (data.runStepInterval) {
                        runText(el, display, data.runStepInterval);
                    }
                } else if (data.clock) {
                    var timerId = Math.round(Math.random() * 1000000);
                    el.data('timer', timerId);
                    writeTime(el, display);
                    var interval = setInterval(function () {
                        if (el.data('timer') != timerId) {
                            clearInterval(interval);
                        }
                        writeTime(el, display);
                    }, 1000);
                } else {
                    display.setValue('no oid, no text, no clock');
                }
            }, 50);
        }
    };
    if (vis.editMode) {
        vis.binds.timeandweather.editWeather = function (wid_attr, options) {
            var line = {
                input: '<input type="text" id="inspect_' + wid_attr + '"/>',
                init: function (_wid_attr, data) {
                    $('#inspect_' + _wid_attr).autocomplete({
                        source: function (req, callback) {
                            console.log(req.term);

                            var query = 'select * from geo.places where text="' + req.term + '"';
                            var api = 'http://query.yahooapis.com/v1/public/yql?q=' + encodeURIComponent(query) + '&format=json&callback=?';

                            // Send request
                            $.ajax({
                                type: 'GET',
                                url: api,
                                dataType: 'json',
                                success: function (data) {
                                    if (data.query.count > 0) {
                                        var arr = [];
                                        for (var i = 0; i < data.query.count; i++) {
                                            arr.push({
                                                label: $.fn._getWeatherAddress(data.query.results.place[i]),
                                                value: data.query.results.place.woeid
                                            });
                                        }
                                        callback(arr);
                                    } else {
                                        callback([]);
                                    }
                                },
                                error: function (data) {
                                    callback([]);
                                }
                            });
                        },
                        select: function (event, ui) {
                            $(this).val(ui.item.value);
                            $(this).trigger('change', ui.item.value);
                        }
                    });
                }
            };
            return line;
        };
    }
</script>
<!-- startDate: function (view, elem, showWeekDay, noClass, timerId, shortWeekDay, shortYear, prependZero, monthWord, shortMonth, american) {
            -->
<script id="tplTwSimpleDate" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplTwSimpleDate&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev date vis-widget-lock ui-selectee&quot; style=&quot;left: 139px; top: 76px;&quot;&gt;30.01.2015&lt;/div&gt;" data-vis-set="timeandweather" data-vis-name="SimpleDate" data-vis-attrs="showWeekDay/checkbox;shortWeekDay/checkbox;shortYear/checkbox;prependZero[true]/checkbox;monthWord/checkbox;shortMonth/checkbox;americanOrder/checkbox;noClass/checkbox">
    <%
		vis.binds.timeandweather.startDate(this.view, this.data.attr('wid'), this.data.attr('showWeekDay'), this.data.attr('noClass'), undefined, this.data.attr('shortWeekDay'), this.data.attr('shortYear'), this.data.attr('prependZero'), this.data.attr('monthWord'), this.data.attr('shortMonth'), this.data.attr('americanOrder'));
    %>
</script>

<script id="tplTwSimpleClock" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplTwSimpleClock&quot; style=&quot; position: relative; text-align: initial;padding: 4px &quot;&gt;&lt;div class=&quot;vis-widget_prev clock vis-widget-lock ui-selectee&quot; style=&quot;left: 132px; top: 179px; font-size: 28px;&quot;&gt;11:01:57&lt;/div&gt;" data-vis-set="timeandweather" data-vis-name="SimpleClock" data-vis-attrs="hideSeconds/checkbox;blink/checkbox;noClass/checkbox">
    <%
        vis.binds.timeandweather.startTime(this.view, this.data.attr('wid'), this.data.attr('hideSeconds'), this.data.attr('blink'), this.data.attr('noClass'));
    %>
</script>

<script id="tplTwCoolClock" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/timeandweather/img/Prev_CoolClock.png&quot;&gt;&lt;/img&gt;" data-vis-set="timeandweather" data-vis-name="CoolClock" data-vis-attrs="theme/select,fancy,swissRail,chunkySwiss,machine,simonbaird_com,classic,classicWhite,modern,simple,securephp,Tes2,Lev,Sand,Sun,Tor,Cold,Babosa,Tumb,Stone,Disc,watermelon;noSeconds/checkbox;showDigital/checkbox;showAmPm/checkbox">
    <%
        vis.binds.timeandweather.tplTwCoolClock(this.view, this.data);
    %>
</script>

<script id="tplTwFlipClock" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/timeandweather/img/Prev_FlipClock.png&quot;&gt;&lt;/img&gt;" data-vis-set="timeandweather" data-vis-name="FlipClock" data-vis-attrs="">
    <%
        vis.binds.timeandweather.tplTwFlipClock(this.view, this.data);
    %>
</script>

<script id="tplTwHtcWeather" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/timeandweather/img/Prev_HTCWeather.png&quot;&gt;&lt;/img&gt;" data-vis-set="timeandweather" data-vis-name="HtcWeather" data-vis-attrs="woeid/custom,timeandweather.editWeather;cityName;language/select,,en,de,ru;updateInterval[180]/slider,0,1440,10;">
    <%
        vis.binds.timeandweather.tplTwHtcWeather(this.view, this.data);
    %>
</script>

<!--script id="tplTwYahooWeather"
        type="text/ejs"
        class="vis-tpl"
        data-vis-prev='<img src="widgets/timeandweather/img/Prev_YahooWeather.png"></img>'
        data-vis-set="timeandweather"
        data-vis-name="YahooWeather"
        data-vis-attrs="woeid/custom,timeandweather.editWeather;cityName;language/select,,en,de,ru;maxDays[7]/slider,0,8,1;updateInterval[180]/slider,0,1440,10;">
    <%
        vis.binds.timeandweather.tplTwYahooWeather(this.view, this.data);
    %>
</script-->

<script id="tplTwWeather" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/timeandweather/img/Prev_YahooWeather.png&quot;&gt;&lt;/img&gt;" data-vis-set="timeandweather" data-vis-name="WeatherCustom" data-vis-attrs="city;language/select,,en,de,ru;units_speed;" data-vis-attrs0="group.now;temperature-0-oid/id;condition-0-oid/id;humidity-0-oid/id;temperature-min-0-oid/id;temperature-max-0-oid/id;wind-speed-0-oid/id;wind-dir-0-oid/id;icon-0-oid/id;" data-vis-attrs1="group.tomorrow;condition-1-oid/id;temperature-min-1-oid/id;temperature-max-1-oid/id;icon-1-oid/id;" data-vis-attrs2="group.aftertomorrow;condition-2-oid/id;temperature-min-2-oid/id;temperature-max-2-oid/id;icon-2-oid/id;" data-vis-attrs3="group.in2days;condition-3-oid/id;temperature-min-3-oid/id;temperature-max-3-oid/id;icon-3-oid/id;" data-vis-attrs4="group.in3days;condition-4-oid/id;temperature-min-4-oid/id;temperature-max-4-oid/id;icon-4-oid/id;" data-vis-attrs5="group.in4days;condition-5-oid/id;temperature-min-5-oid/id;temperature-max-5-oid/id;icon-5-oid/id;" data-vis-attrs6="group.in5days;condition-6-oid/id;temperature-min-6-oid/id;temperature-max-6-oid/id;icon-6-oid/id;">
    <%
        vis.binds.timeandweather.tplTwCustomWeather(this.view, this.data);
    %>
</script>

<script id="tplSvgClock" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/timeandweather/img/Prev_tplSvgClock.png&quot;&gt;&lt;/img&gt;" data-vis-set="timeandweather" data-vis-name="Svg Clock" data-vis-update-style="true" data-vis-attrs="quadSize/slider,10,200,1;quadColor/color;quadTickColor/color;textSize/slider,10,200,1;textColor/color;tickColor/color;isSeconds/checkbox;handsColor/color;handsColorLine/color;handsSecColor/color;textFont/fontname">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 100px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.timeandweather.tplSvgClock(el, this.data) %> />
    </div>
</script>

<script id="tplSegmentClock" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;img src=&quot;widgets/timeandweather/img/Prev_tplSegmentClock.png&quot;&gt;&lt;/img&gt;" data-vis-set="timeandweather" data-vis-name="Segment Clock" data-vis-update-style="true" data-vis-attrs="oid;text;" data-vis-attrs0="group.clock;clock[true]/checkbox;seconds[true]/checkbox;" data-vis-attrs1="group.style;pattern[##:##:##];colorOn[rgba(0, 0, 0, 1)]/color;colorOff[rgba(0, 0, 0, 0.1)]/color;runStepInterval[0]/slider,0,5000,100;segmentCount[7]/nselect,7,14,16;displayAngle[9]/slider,0,30,1;digitHeight[20]/slider,0,60,1;digitWidth[12]/slider,0,60,1;digitDistance[2]/slider,0,60,1;segmentWidth[3]/slider,0,60,1;segmentDistance[0.5]/slider,0,5,0.1;cornerType[PointedCorner]/select,SymmetricCorner,FlattenedCorner,PointedCorner,RoundedCorner">
    <div class="vis-widget <%== this.data.attr('class') %>" style="width: 100px; height: 30px;" id="<%= this.data.attr('wid') %>">
        <div class="vis-widget-body" <%= (el) -> vis.binds.timeandweather.tplSegmentClock(el, this.data) %> />
    </div>
</script>


<!-- --------------timeandweather.html--- END -->
<!-- --------------vis-material-advanced.html--- START -->
<!--
    ioBroker.vis vis-material-advanced Widget-Set

    version: "1.7.3"

    Copyright 2020-2022 EdgarM73 edgar.miller@gmail.com
-->
<!-- here you can include so many css as you want -->
<link rel="stylesheet" href="./vis_files/style(3).css">
<link rel="stylesheet" href="./vis_files/vma.css">
<link rel="stylesheet" href="./vis_files/material.css">
<!-- <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500&display=swap" rel="stylesheet"> -->
<!-- here you can include so many js-files as you want -->

<!-- here you can include so many js-files as you want -->
<script type="text/javascript" src="./vis_files/list.js"></script>
<script type="text/javascript" src="./vis_files/base.js"></script>
<!-- <script type="text/javascript"    src="widgets/vis-material-advanced/js/ListDiv/listDiv.js"></script> -->
<!-- <script type="text/javascript"    src="widgets/vis-material-advanced/js/ListRegenRadar/listRegenRadar.js"></script> -->
<script type="text/javascript" src="./vis_files/listDoor.js"></script>
<script type="text/javascript" src="./vis_files/listWindow.js"></script>
<script type="text/javascript" src="./vis_files/listTemp.js"></script>
<script type="text/javascript" src="./vis_files/listHumidity.js"></script>
<script type="text/javascript" src="./vis_files/listPressure.js"></script>
<script type="text/javascript" src="./vis_files/listTempHumid.js"></script>
<script type="text/javascript" src="./vis_files/listOccupancy.js"></script>
<script type="text/javascript" src="./vis_files/listLight.js"></script>
<script type="text/javascript" src="./vis_files/listLightDim.js"></script>
<script type="text/javascript" src="./vis_files/listLightKelvin.js"></script>
<script type="text/javascript" src="./vis_files/listWindowShutter.js"></script>
<script type="text/javascript" src="./vis_files/listVolume.js"></script>
<script type="text/javascript" src="./vis_files/listThermostat.js"></script>
<script type="text/javascript" src="./vis_files/listBoolean.js"></script>
<script type="text/javascript" src="./vis_files/listPresence.js"></script>
<script type="text/javascript" src="./vis_files/listNumber.js"></script>
<script type="text/javascript" src="./vis_files/listText.js"></script>
<script type="text/javascript" src="./vis_files/listValve.js"></script>
<script type="text/javascript" src="./vis_files/listGarage.js"></script>
<script type="text/javascript" src="./vis_files/TempIcon.js"></script>
<script type="text/javascript" src="./vis_files/vis-material-advanced.js"></script>


<!-- the full description of format in data-vis-attrs can be found here:
    https://github.com/ioBroker/ioBroker.vis/blob/master/www/js/visEditInspect.js#L39

    ----------------------------------------------------------
    Mandatory XML attributes:
        id="tplVis-material-advancedWIDGETNAME"
        type="text/ejs"
        class="vis-tpl"

        "type" and "class" are always the same. "id" is unique and must start with "tplSETNAME" and ends with widget name. Use camel-case for it.

    ----------------------------------------------------------
    data-vis-attrs - divided with semicolon the list of attributes, like attr1/id;attr2/color
        Full format of one attribute is: attr_name(start-end)[default_value]/type,idFilter/onChangeFunc
            attr_name - the name of the attribute, e.g. "myID"
            start-end - creates automatically attributes from attr_namestart to attr_nameend, like "myID(1-3)" creates myID1, myID2, myID3
            default_value - by creation of widget this attribute will be filled with this value, e.g. "myID[#001122]/color"
            type - some predefined types have edit helpers, else it will be shown as text field

                Type format:
                      id - Object ID Dialog
                      checkbox
                      image - image
                      number,min,max,step - non-float number. min,max,step are optional
                      color - color picker
                      views - Name of the view
                      effect - jquery UI show/hide effects
                      eff_opt - additional option to effect slide (up, down, left, right)
                      fontName - Font name
                      slider,min,max,step - Default step is ((max - min) / 100)
                      select,value1,value2,... - dropdown select
                      nselect,value1,value2,... - same as select, but without translation of items
                      style,fileFilter,nameFilter,attrFilter
                      custom,functionName,options,... - custom editor - functionName is starting from vis.binds.[widgetset.funct]. E.g. custom/timeAndWeather.editWeather,short
                      group.name - define new or old group. All following attributes belongs to new group till new group.xyz
                      group.name/byindex - like group, but all following attributes will be grouped by ID. Like group.windows/byindex;slide(1-4)/id;slide_type(1-4)/select,open,closed  Following groups will be created Windows1(slide1,slide_type1), Windows2(slide2,slide_type2), Windows3(slide3,slide_type3), Windows4(slide4,slide_type4)
                      text - dialog box with html editor
                      html - dialog box with html editor

                If type is "id", you can define filer for "Select ID Dialog", like "myID/id,level.temperature".
                Additionally, you can define callback(onChangeFunc), which will be called if this attribute was changed by user for different purposes: validate entry, fill other attributes, ...

        You can define additional data-vis-attrs line: data-vis-attrs0, data-vis-attrs1. Anyway data-vis-attrs must be there. You may not skip numbers.
        E.g. in "data-vis-attrs="A;" data-vis-attrs1="B" attribute B will be not parsed.

    --------------------------------------------------------
    data-vis-type
        Help information for user. Used for search.
        You can define more than one type divided by comma.
        There are the following common types, but you can use your own specific types:
            ctrl   - widget that can write some Object IDs
            val    - widget that shows some information from Object IDs
            static - widget do not read information from Object IDs or URL
            button - button widget
            dimmer - dimmer widget
            weather - weather widget
            ...

    --------------------------------------------------------
    data-vis-set
        Name of the widget set. Must be equal to the name of this HTML file

    --------------------------------------------------------
    data-vis-prev
        Html code used as a preview of this widget. If the widget is complex, you can just use image as preview:
        data-vis-prev='<img src="widgets/hqwidgets/img/prev/Prev_tplVis-material-advancedShowInstance.png"></img>'
        Of course the image must exist.

    --------------------------------------------------------
    data-vis-name
        Readable name of widget shown in vis editor.

    --------------------------------------------------------
    data-vis-beta="true"
        Shows "BETA" symbol in vis editor by preview

    --------------------------------------------------------
    data-vis-update-style="true"
        Call redraw of widget if some of the CSS styles in the editor for this widget was changed

    You can read about Magic tags here: http://canjs.com/guides/EJS.html
    Following magic tags are:
        <% %> - execute javascript
        <%= %> - place escaped result to an HTML document
        <%== %> - place unescaped result to an HTML document

    You can do "if" conditions and "for" cycles.

-->
<!--

<script
    id="tplMaListDiv"
    type="text/ejs"
    class="vis-tpl"
    data-vis-prev='<div id="prev_tplVis-material-advancedListDiv" style="position: relative; text-align: initial;padding: 4px ">
        <div class="vis-widget_prev" style="width: 100px; height: 100px; padding:2px; background-color: #121212 " >
        <img src="widgets/vis-material-advanced/img/fts_door.png " style="width: 100px; height: 100px;"></div></div>'
    data-vis-attrs="oid/id;title/text;subtitle/text;"
    data-vis-attrs0="group.BoxStyle;"
    data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;"
    data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;"
    data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;"
    data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;"
    data-vis-attrs5="opacityColor[white]/color;"
    data-vis-attrs6="colorizeByValue/checkbox;colorOpen[orange]/color;"
    data-vis-attrs7="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;"
    data-vis-attrs8="group.icons;"
    data-vis-attrs9="cardIconClosed[widgets/vis-material-advanced/img/fts_door.png]/image;"
    data-vis-attrs10="cardIconOpen[widgets/vis-material-advanced/img/fts_door_open.png]/image;"
    data-vis-set="vis-material-advanced"
    data-vis-type="val"
    data-vis-update-style="true"
    data-vis-name="ListDiv"    >
    <div class="vis-widget mdw-list vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>"
         data-oid="<%= this.data.oid %>">
        <div class="vis-widget-body vma_inner_container_div" >
            <%   let init = genListDiv(this.data);  %>
            <%==  init.widget   %>
        </div>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListDiv(this.data.wid, this.view, this.data);  %>
</script> -->

<!-- <script
    id="tplMaListRegenRadarDWD"
    type="text/ejs"
    class="vis-tpl"
    data-vis-prev='<div id="prev_tplVis-material-RegenRadarDWD" style="position: relative; text-align: initial;padding: 4px ">
        <div class="vis-widget_prev" style="width: 100px; height: 100px; padding:2px; background-color: #121212 " >
        <img src="widgets/vis-material-advanced/img/fts_door.png " style="width: 100px; height: 100px;"></div></div>'
    data-vis-attrs="oid/id;title/text;subtitle/text;"
    data-vis-attrs0="group.BoxStyle;"
    data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;"
    data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;"
    data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;"
    data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;"
    data-vis-attrs5="opacityColor[white]/color;"
    data-vis-set="vis-material-advanced"
    data-vis-type="val"
    data-vis-update-style= "true"
    data-vis-name="ListRegenRadarDWD"     >
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListRegenRadar(this.data);           %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListRegenRadarDWD(this.data.wid, this.view, this.data);   %>
</script> -->

<script id="tplMaListDoor" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListDoor2&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/fts_door.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;iWiki/custom,&#39;https://github.com/iobroker-community-adapters/ioBroker.vis-material-advanced/wiki/Properties&#39;,wiki;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;colorizeByValue/checkbox;colorOpen[orange]/color;" data-vis-attrs7="group.icons;" data-vis-attrs8="cardIconClosed[/icons-mfd-svg/fts_door.svg]/image;" data-vis-attrs9="cardIconOpen[/icons-mfd-svg/fts_door_open.svg]/image;" data-vis-attrs10="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs11="group.border;" data-vis-attrs12="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs13="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs14="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListDoor">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListDoor(this.data);    %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListOpenClose(this.data.wid, this.view, this.data);  %>
</script>

<script id="tplMaListWindow" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListWindow&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/fts_window_2w.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;colorOpen[orange]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIconClosed[/icons-mfd-svg/fts_window_2w.svg]/image;" data-vis-attrs10="cardIconOpen[/icons-mfd-svg/fts_window_2w_open.svg]/image;" data-vis-attrs11="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs12="group.border;" data-vis-attrs13="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs14="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs15="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListWindow">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListWindow(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListOpenClose(this.data.wid, this.view, this.data);  %>
</script>

<script id="tplMaListWindow3" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListWindow3&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/fts_window_2w.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;colorOpen[orange]/color;colorTilted[yellow]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIconClosed[/icons-mfd-svg/fts_window_2w.svg]/image;" data-vis-attrs10="cardIconOpen[/icons-mfd-svg/fts_window_2w_open.svg]/image;cardIconTilted[/icons-mfd-svg/fts_window_2w_tilt.svg]/image;" data-vis-attrs11="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs12="group.border;" data-vis-attrs13="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs14="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs15="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListWindow3">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListWindow(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListOpenCloseTilted(this.data.wid, this.view, this.data);  %>
</script>


<script id="tplMaListTemp" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListTemp&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/temp_temperature.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,value.temperature;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;below[18]/number;above[24]/number;color-low[blue]/color;color-high[red]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIcon[/icons-mfd-svg/temp_temperature.svg]/image;" data-vis-attrs10="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs11="group.border;" data-vis-attrs12="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs13="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs14="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListTemp">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListTemperature(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListVal(this.data.wid, this.view, this.data,'temp');  %>
</script>

<script id="tplMaTempIcon" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedTempIcon&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/temp_verlauf_100.png &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,value.temperature;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="opacityColor[white]/color;" data-vis-attrs2="colorizeByValue/checkbox;min/number;max/number;IcontypeSVG[]/checkbox;" data-vis-attrs3="group.icons;" data-vis-attrs4="cardIcon[widgets/vis-material-advanced/img/temp_verlauf_100.png]/image;" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="TempIcon">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %> icon-widget" id="<%= this.data.attr('wid') %>" >
        <%   let init = genTemperatureIcon(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdTempIcon(this.data.wid, this.view, this.data,'temp');  %>
</script>

<script id="tplMaListHumid" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListHumid&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/weather_humidity_rel.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,value.humidity;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;below[40]/number;above[60]/number;color-low[blue]/color;color-high[red]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIcon[/icons-mfd-svg/weather_humidity_rel.svg]/image;" data-vis-attrs10="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs11="group.border;" data-vis-attrs12="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs13="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs14="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListHumid">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListHumidity(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListVal(this.data.wid, this.view, this.data,'humid'); %>
</script>


<script id="tplMaListPressure" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListPressure&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/weather_barometric_pressure.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;below[18]/number;above[24]/number;color-low[blue]/color;color-high[red]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIcon[/icons-mfd-svg/weather_barometric_pressure.svg]/image;" data-vis-attrs10="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs11="group.border;" data-vis-attrs12="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs13="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs14="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListPressure">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListPressure(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListVal(this.data.wid, this.view, this.data,'pressure'); %>
</script>


<script id="tplMaListTempHumid" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListTempHumid&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/temperature.png &quot; style=&quot;width: 100px; height: 100px; &quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,value.temperature;oid2/id,value.humidity;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="group.icons;" data-vis-attrs8="cardIcon[widgets/vis-material-advanced/img/temperature.png]/image;" data-vis-attrs9="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs10="group.border;" data-vis-attrs11="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs12="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs13="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-name="ListTemperatureHumid">
    <div  id="<%= this.data.attr('wid') %>"  class="vis-widget vma_outer_div  <%==this.data.attr( 'class') %> ">
        <%   let init = genListTempHumid(this.data);  %>
        <%== init.widget %>
    </div>
<% vis.binds['vis-material-advanced'].tplMdListTempHumid(this.data.wid,  this.view, this.data,'temp','humid');  %>
</script>

<script id="tplMaListPresence" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListPresence&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/female_white.png &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;presenceColor[yellow]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="iconPresent[widgets/vis-material-advanced/img/female_white_star.png]/image;" data-vis-attrs10="iconNotPresent[widgets/vis-material-advanced/img/female_white.png]/image;" data-vis-attrs11="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs12="group.border;" data-vis-attrs13="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs14="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs15="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListPresence">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListPresence(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListPresence(this.data.wid, this.view, this.data,'humid'); %>
</script>

<script id="tplMaListOccupancy" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListOccupancy&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/message_presence_active.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;motionColor[yellow]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="iconMotion[/icons-mfd-svg/message_presence_active.svg]/image;" data-vis-attrs10="iconNoMotion[/icons-mfd-svg/message_presence_inactive.svg]/image;" data-vis-attrs11="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs12="group.border;" data-vis-attrs13="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs14="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs15="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListOccupancy">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListOccupancy(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListOccupancy(this.data.wid, this.view, this.data,'pressure'); %>
</script>


<script id="tplMaListLight" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListLight&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/light_light_dim_100.svg&quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;lightOnColor[yellow]/color;" data-vis-attrs8="readOnly/checkbox;" data-vis-attrs9="group.icons;" data-vis-attrs10="cardIconOn[/icons-mfd-svg/light_light_dim_100.svg]/image;" data-vis-attrs11="cardIconOff[/icons-mfd-svg/light_light_dim_00.svg]/image;" data-vis-attrs12="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs13="group.border;" data-vis-attrs14="border/checkbox;borderColor[white]/color;borderRadius[10]/number,0,20,1;" data-vis-attrs15="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs16="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,ctrl" data-vis-update-style="true" data-vis-name="ListLight">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>"  >
        <%   let init = genListLight(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListLight(this.data.wid, this.view, this.data,'pressure');  %>
</script>


<script id="tplMaListLightDim" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListLightDim&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/light_control.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;valueAsSubtitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;low[20]/number;high[70]/number;" data-vis-attrs8="lightLowColor[white]/color;lightMediumColor[yellow]/color;lightHighColor[red]/color;" data-vis-attrs9="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;readOnly/checkbox;" data-vis-attrs10="group.icons;" data-vis-attrs11="cardIconOn[/icons-mfd-svg/light_light_dim_100.svg]/image;" data-vis-attrs12="cardIconOff[/icons-mfd-svg/light_light_dim_00.svg]/image;" data-vis-attrs13="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs14="group.border;" data-vis-attrs15="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs16="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,dimmer" data-vis-update-style="true" data-vis-name="ListLightDim">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListLightDim(this.data);     %>
        <%== init.widget    %>
        <div  class="vma_value_container ">
            <div class="vma_value vma-slider"
                style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                <% if(!this.data.readOnly) { %>
                    <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider"
                        data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  ,
                        data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min: 0,max:100,step:5,inverted:false}) %> />
                    </div><label for="<%= this.data.attr('wid') %>_checkbox"><label>
                <% } %>
            </div>
        </div>
        <div class="vma_overlay ms-button-op vis-widget-body" ></div>

    </div>
    <% vis.binds['vis-material-advanced'].tplMdListLightDim(this.data.wid, this.view, this.data,'pressure'); %>
</script>


<script id="tplMaListLightKelvin" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListLightKelvin&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/fts_kelvin_warmweiss.png &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;valueAsSubtitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="min[2700]/number;max[6500]/number;" data-vis-attrs8="readOnly/checkbox;" data-vis-attrs9="group.icons;" data-vis-attrs10="cardIcon-warmwhite[widgets/vis-material-advanced/img/fts_kelvin_warmweiss.png]/image;" data-vis-attrs11="cardIcon-medium[widgets/vis-material-advanced/img/fts_kelvin_mittel.png]/image;" data-vis-attrs12="cardIcon-coldwhite[widgets/vis-material-advanced/img/fts_kelvin_kaltweiss.png]/image;" data-vis-attrs13="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs14="group.border;" data-vis-attrs15="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs16="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs17="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,dimmer,ctrl" data-vis-update-style="true" data-vis-name="ListLightKelvin">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListLightKelvin(this.data);   %>
        <%== init.widget  %>
            <div  class="vma_value_container ">
                <div class="vma_value vma-slider"
                    style="color:    <%= this.data.attr('TextColor') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                    <% if(!this.data.readOnly) { %>
                        <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider"
                            data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  ,
                            data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min: parseFloat(data.min),max:parseFloat(data.max),step:100,inverted:false}) %> />
                        </div><label for="<%= this.data.attr('wid') %>_checkbox"><label>
                    <% } %>
                </div>
            </div>
            <div class="vma_overlay ms-button-op vis-widget-body" ></div>
        </div>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListLightKelvin(this.data.wid, this.view, this.data,'pressure'); %>
</script>



<script id="tplMaListThermostat" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListThermostat&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev &quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/sani_heating_temp.svg &quot; style=&quot;width: 100px; height: 100px; &quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id,level.temperature;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;valueAsSubtitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;min[14]/number;max[30]/number;" data-vis-attrs7="readOnly/checkbox;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIcon[/icons-mfd-svg/sani_heating_temp.svg]/image;" data-vis-attrs10="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs11="group.border;" data-vis-attrs12="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs13="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs14="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,ctrl" data-vis-name="ListThermostat">
    <div  id="<%= this.data.attr('wid') %>"  class="vis-widget vma_outer_div  <%=this.data.attr( 'class') %> ">
        <%   let init = genListThermostat(this.data);  %>
        <%== init.widget %>
        <div  class="vma_value_container ">
            <div class="vma_value vma-slider"
                style="color:    <%= this.data.attr('TextColor') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                <% if(!this.data.readOnly) { %>
                    <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider"
                        data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  ,
                        data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min: parseFloat(data.min),max:parseFloat(data.max),step:0.5,inverted:false}) %> />
                    </div><label for="<%= this.data.attr('wid') %>_checkbox"><label>
                <% } %>
            </div>
        </div>
        <div class="vma_overlay ms-button-op vis-widget-body" ></div>
    </div>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListThermostat(this.data.wid,  this.view, this.data,'temp');  %>
</script>

<script id="tplMaListWindowShutter" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListWindowShutter&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/fts_shutter_manual.svg&quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;valueAsSubtitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="inverted[checked]/checkbox;" data-vis-attrs8="readOnly/checkbox;" data-vis-attrs9="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs10="group.border;" data-vis-attrs11="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs12="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs13="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,ctrl" data-vis-update-style="true" data-vis-name="ListWindowShutter">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListWindowShutter(this.data);   %>
        <%== init.widget  %>
            <div  class="vma_value_container ">
                <div class="vma_value vma-slider"
                    style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                    <% if(!this.data.readOnly) { %>
                        <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider"
                            data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  ,
                            data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min:0,max:100,step:1,inverted:false}) %> />
                        </div><label for="<%= this.data.attr('wid') %>_checkbox"><label>
                    <% } %>
                </div>
            </div>
            <div class="vma_overlay ms-button-op vis-widget-body" ></div>

    </div>
    <% vis.binds['vis-material-advanced'].tplMdListWindowShutter(this.data.wid, this.view, this.data); %>
</script>



<script id="tplMaListVolume" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListVolume&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/audio_volume_low.svg &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;valueAsSubtitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="Min[0]/number;Max[100]/number;step[5]/select,1,5,10;" data-vis-attrs8="readOnly/checkbox;" data-vis-attrs9="group.icons;" data-vis-attrs10="cardIcon-high[/icons-mfd-svg/audio_volume_high.svg]/image;" data-vis-attrs11="cardIcon-medium[/icons-mfd-svg/audio_volume_mid.svg]/image;" data-vis-attrs12="cardIcon-low[/icons-mfd-svg/audio_volume_mute.svg]/image;" data-vis-attrs13="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs14="group.border;" data-vis-attrs15="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs16="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs17="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,ctrl" data-vis-update-style="true" data-vis-name="ListVolume">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListVolume(this.data);   %>
        <%== init.widget  %>
            <div  class="vma_value_container ">
                <div class="vma_value vma-slider"
                    style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                    <% if(!this.data.readOnly) { %>
                        <div class="sliderJQUI" id="<%= this.data.attr('wid') %>_slider"
                            data-oid="<%= this.data.attr('oid') %>" data-oid2="<%= this.data.attr('oid-2') %>" data-oid-working="<%= this.data.attr('oid-working') %>"  ,
                            data-oid2-working="<%= this.data.attr('oid-2-working') %>"<%= (el) -> vis.binds.jqueryui.slider(el, {min: this.data.attr('Min'),max:this.data.attr('Max'),step:parseInt(this.data.attr('step')),inverted:false}) %> />
                        </div><label for="<%= this.data.attr('wid') %>_checkbox"><label>
                    <% } %>
                </div>
            </div>
            <div class="vma_overlay ms-button-op vis-widget-body" ></div>
        </div>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListVolume(this.data.wid, this.view, this.data); %>
</script>


<script id="tplMaListBoolean" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListBoolean&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/checked.png &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="true[Wahr]/text;false[Falsch]/text;" data-vis-attrs8="colorizeByValue/checkbox;color-true/color;color-false/color;" data-vis-attrs9="group.icons;" data-vis-attrs10="cardIconTrue[/icons-mfd-svg/status_light_low.svg]/image;" data-vis-attrs11="cardIconFalse[/icons-mfd-svg/status_light_off.svg]/image;" data-vis-attrs12="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs13="group.border;" data-vis-attrs14="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs15="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs16="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,button" data-vis-update-style="true" data-vis-name="ListBoolean">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListBoolean(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListBoolean(this.data.wid, this.view, this.data);  %>
</script>



<script id="tplMaListNumber" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListNumber&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/123.png &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;unit[]/select,,percent,Celsius,Fahrenheit,ppm,kmh,mph,mm,m,mb,GB,Wh,V,Hz,mA;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="low/number;high/number;" data-vis-attrs8="colorizeByValue/checkbox;color-low/color;color-high/color;" data-vis-attrs9="group.border;" data-vis-attrs10="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs11="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs12="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListNumber">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
            <%   let init = genListNumber(this.data);      %>
            <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListNumber(this.data.wid, this.view, this.data);  %>
</script>


<script id="tplMaListText" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListText&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;widgets/vis-material-advanced/img/abc.png &quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;searchString/text;stringFoundColor/color;" data-vis-attrs8="group.border;" data-vis-attrs9="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs10="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs11="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListText">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListText(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListText(this.data.wid, this.view, this.data);  %>
</script>

<script id="tplMaListValve" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListValve&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/sani_valve_50.svg&quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;" data-vis-attrs8="below[18]/number;above[24]/number;color-medium[darkyellow]/color;color-high[red]/color;" data-vis-attrs9="group.icons;" data-vis-attrs10="cardIcon[/icons-mfd-svg/sani_valve_50.svg]/image;" data-vis-attrs11="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs12="group.border;" data-vis-attrs13="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs14="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs15="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val" data-vis-update-style="true" data-vis-name="ListValve">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListValve(this.data);   %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListValve(this.data.wid, this.view, this.data,'pressure'); %>
</script>

<script id="tplMaListGarage" type="text/ejs" class="vis-tpl" data-vis-prev="&lt;div id=&quot;prev_tplVis-material-advancedListGarage&quot; style=&quot;position: relative; text-align: initial;padding: 4px &quot;&gt;
        &lt;div class=&quot;vis-widget_prev&quot; style=&quot;width: 100px; height: 100px; padding:2px; background-color: #121212 &quot; &gt;
        &lt;img src=&quot;/icons-mfd-svg/fts_garage_door_100.svg&quot; style=&quot;width: 100px; height: 100px;&quot;&gt;&lt;/div&gt;&lt;/div&gt;" data-vis-attrs="oid/id;title/text;subtitle/text;showTitle[checked]/checkbox;onlyTitle[]/checkbox;" data-vis-attrs0="group.BoxStyle;" data-vis-attrs1="titleSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs2="widgetBackground[#121212]/color;TextColor[white]/color;" data-vis-attrs3="subtitleSize[x-small]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs4="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;" data-vis-attrs5="valueSize[medium]/select, medium, xx-small, x-small, small, large, x-large, xx-large, smaller, larger;" data-vis-attrs6="opacityColor[white]/color;" data-vis-attrs7="colorizeByValue/checkbox;colorOpen[orange]/color;" data-vis-attrs8="group.icons;" data-vis-attrs9="cardIconClosed[/icons-mfd-svg/fts_garage_door_100.svg]/image;" data-vis-attrs10="cardIconOpen[/icons-mfd-svg/fts_garage.svg]/image;" data-vis-attrs11="showIcon[checked]/checkbox;centerIcon[]/checkbox;" data-vis-attrs12="group.border;" data-vis-attrs13="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;" data-vis-attrs14="useOverallRoundedValues[checked]/checkbox;roundLeftUp[10]/number,0,20,1;roundLeftBottom[0]/number,0,20,1;roundRightUp[0]/number,0,20,1;roundRightBottom[10]/number,0,20,1;" data-vis-attrs15="boxShadow[unchecked]/checkbox;shadowWidth[2]/number,1,10,1" data-vis-set="vis-material-advanced" data-vis-type="val,switch" data-vis-update-style="true" data-vis-name="ListGarage">
    <div class="vis-widget mdw-list vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" >
        <%   let init = genListGarage(this.data);  %>
        <%== init.widget %>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListOpenClose(this.data.wid, this.view, this.data);  %>
</script>

<!--
<script
    id="tplMaListNew"
    type="text/ejs"
    class="vis-tpl"
    data-vis-prev='<div id="prev_tplVis-material-advancedListNew" style="position: relative; text-align: initial;padding: 4px ">
        <div class="vis-widget_prev " style="width: 100px; height: 100px; padding:2px; background-color: #121212 " >
        <img src="widgets/vis-material-advanced/img/garage.png " style="width: 100px; height: 100px; "></div></div>'
    data-vis-attrs="oid/id;title[not working yet]/text;subtitle/text;widgetBackground[#121212]/color;Text-color[white]/color;"
    data-vis-attrs0="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;"
    data-vis-attrs1="opacityColor[white]/color;"
    data-vis-attrs2="borderRadius[10]/number;"
    data-vis-attrs3="group.icons;"
    data-vis-attrs4="cardIconClosed[widgets/vis-material-advanced/img/garage_closed.png]/image;"
    data-vis-attrs5="cardIconOpen[widgets/vis-material-advanced/img/garage.png]/image;"
    data-vis-set="vis-material-advanced"
    data-vis-type="val"
    data-vis-beta="true"
    data-vis-name="ListNew">
<div id="<%= this.data.attr('wid') %>" class=" vma_outer_div  <%==this.data.attr( 'class') %> ">
    <div class="vma_inner_container_div" >
        <div class="vma_picture">
            <img class="vma_icon"        src="<%= this.data.attr('cardIcon') %>">
        </div>
        <div class="vma_title_subtitle_container" style="color: <%= this.data.attr('Text-color') %>;">
            <div  class="vma_title">
                <%= this.data.attr('title') %>
            </div>
            <div  class="vma_subtitle" style=" color: <%= this.data.attr('Text-color') %>;">
                <%= this.data.attr('subtitle') %>
            </div>
        </div>
        <div  class="vma_value_container">
            <div class="vma_value"
                style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
            </div>
        </div>
        <div class="vma_overlay"  ></div>
    </div>
</div>
<% vis.binds['vis-material-advanced'].tplMdListNew(this.data.wid, this.view, this.data);  %>
</script>

<script
    id="tplMaListNewDuo"
    type="text/ejs"
    class="vis-tpl"
    data-vis-prev='<div id="prev_tplVis-material-advancedListNewDuo" style="position: relative; text-align: initial;padding: 4px ">
        <div class="vis-widget_prev " style="width: 100px; height: 100px; padding:2px; background-color: #121212 " >
        <img src="widgets/vis-material-advanced/img/temperature.png " style="width: 100px; height: 100px; "></div></div>'
    data-vis-attrs="oid/id,value.temperature;oid2/id,value.humidity;title[to be tested]/text;subtitle/text;widgetBackground[#121212]/color;Text-color[white]/color;"
    data-vis-attrs0="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;"
    data-vis-attrs1="opacityColor[white]/color;"
    data-vis-attrs2="borderRadius[10]/number,1,20,1;"
    data-vis-attrs3="group.icons;"
    data-vis-attrs4="cardIcon[widgets/vis-material-advanced/img/temperature.png]/image;"
    data-vis-set="vis-material-advanced"
    data-vis-type="val"
    data-vis-beta="true"
    data-vis-name="ListNewDuo"  >
    <div  id="<%= this.data.attr('wid') %>" class=" vma_outer_div  <%==this.data.attr( 'class') %> ">
        <div  class="vma_inner_container_div" >
            <div  class="vma_picture">
                <img class="vma_icon" src="<%= this.data.attr('cardIcon') %>">
            </div>
            <div  class="vma_title_subtitle_container" style="color: <%= this.data.attr('Text-color') %>;">
                <div class="vma_title">
                    <%= this.data.attr('title') %>
                </div>
                <div class="vma_subtitle" style=" color: <%= this.data.attr('Text-color') %>;">
                    <%= this.data.attr('subtitle') %>
                </div>
            </div>
            <div class="vma_value_container">
                <div class="vma_value2_1"
                    style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                </div>
                <div class="vma_value2_2"
                    style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                </div>
            </div>
            <div class="vma_overlay"  ></div>
        </div>
    </div>
<% vis.binds['vis-material-advanced'].tplMdListNewDuo(this.data.wid, this.view, this.data);  %>
</script>
-->

<!--
<script
    id="tplMaListRadio"
    type="text/ejs"
    class="vis-tpl"
    data-vis-prev='<div id="prev_tplVis-material-advancedListRadio" style="position: relative; text-align: initial;padding: 4px ">
        <div class="vis-widget_prev" style="width: 100px; height: 100px; padding:2px; background-color: #121212 " >
        <img src="widgets/vis-material-advanced/img/radio.png " style="width: 100px; height: 100px;"></div></div>'
    data-vis-attrs="oid/id;value;title/text;subtitle/text;widgetBackground[#121212]/color;Text-color[white]/color;"
    data-vis-attrs0="valueAlign[right]/select,left,center,right;valueVertical[center]/select,top,center,bottom;"
    data-vis-attrs1="opacityColor[white]/color;colorizeByValue/checkbox;lightOnColor[yellow]/color;"
    data-vis-attrs2="borderRadius[10]/number,0,20,1;border/checkbox;borderColor[white]/color;readOnly/checkbox;"
    data-vis-attrs3="group.icons;"
    data-vis-attrs4="cardIcon[widgets/vis-material-advanced/img/radio.png]/id;"
    data-vis-set="vis-material-advanced"
    data-vis-type="val,ctrl"
    data-vis-update-style="true"
    data-vis-name="ListRadio">
    <div class="vis-widget vma_outer_div <%= this.data.attr( 'class') %>" id="<%= this.data.attr('wid') %>" style="background-color: <%= this.data.attr('widgetBackground') %>; " >
        <div class="vis-widget-body vma_inner_container_div"  >
            <div class="vma_picture">
                <img class="vma_icon" src="{<%= this.data.attr('cardIcon') %>}">
            </div>
            <div class="vma_title_subtitle_container" style="color: <%= this.data.attr('Text-color') %>;">
                <div  class="vma_title" >
                    <%= this.data.attr('title') %>
                </div>
                <div  class="vma_subtitle" style=" color:  <%= this.data.attr('Text-color') %>;" >
                    <%= this.data.attr('subtitle') %>
                </div>
            </div>
            <div  class="vma_value_container ">
                <div class="vma_value  "
                    style="color:    <%= this.data.attr('Text-color') %>; text-align:<%= this.data.attr('valueAlign') %>; vertical-align:<%= this.data.attr('valueVertical') %>;" >
                    <% if(!this.data.readOnly) { %>

                        <label class="vma-switch">
                                <input type="checkbox" checked="" name="<%=this.data.attr( 'wid') %>_checkbox" id="<%= this.data.attr('wid') %>_checkbox"  data-oid="<%= this.data.attr('oid') %>">
                                 <span class="vma-slider-switch round"></span>
                        </label>

                    <% } %>
                </div>
            </div>
            <div class="vma_overlay ms-button-op vis-widget-body"></div>
        </div>
    </div>
    <% vis.binds['vis-material-advanced'].tplMdListRadio(this.data.wid, this.view, this.data,'pressure');  %>
</script>
-->
<!-- --------------vis-material-advanced.html--- END -->
<!-- --------------weather.html--- START -->
﻿<!--
    ioBroker.vis weather Widget-Set


    Copyright 10.2015-2019 René G. <info@rg-engineering.eu>
-->
<!--
<script language="javascript" type="text/javascript" src="widgets/weather/lib/js/flot/jquery.js"></script>
-->
<script language="javascript" type="text/javascript" src="./vis_files/jquery.event.drag.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.mousewheel.js"></script>

<script language="javascript" type="text/javascript" src="./vis_files/jquery.canvaswrapper.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.colorhelpers.js"></script>


<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.saturated.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.browser.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.drawSeries.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.uiConstants.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.time.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.legend.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.navigate.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.touchNavigate.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.hover.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.touch.js"></script>
<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.selection.js"></script>

<script language="javascript" type="text/javascript" src="./vis_files/jquery.flot.axislabels.js"></script>



<!-- doku for flot : -->
<!--  https://github.com/flot/flot/blob/master/API.md -->

<style>
    .chart-placeholder {
        width: 100%;
        height: 100%;
        font-size: 14px;
        line-height: 1.2em;
    }

    .legendLayer .background {
        fill: rgba(255, 255, 255, 0.85);
        stroke: rgba(0, 0, 0, 0.85);
        stroke-width: 1;
    }
</style>

<script type="text/javascript">
    'use strict';

    //require('flot');

    var MarkingColor = "eaebe5";

    if (vis.editMode) {
        // Add words for basic widgets
        $.extend(true, systemDictionary, {
            //            "format_date": { "en": "Dateformat", "de": "Datumformat", "ru": "?????? ????" },
            //            "format_date_tooltip": {"en": "Dateformat","de": "Datumformat","ru": "?????? ????"},

            "weather": {
                "en": "weather",
                "de": "Wetter",
                "ru": "Погода",
                "pt": "clima",
                "nl": "weer",
                "fr": "la météo",
                "it": "tempo metereologico",
                "es": "clima",
                "pl": "pogoda",
                "zh-cn": "天气"
            },
            "1 second": {
                "en": "1 second",
                "de": "1 Sekunde",
                "ru": "1 секунда",
                "pt": "1 segundo",
                "nl": "1 seconde",
                "fr": "1 seconde",
                "it": "1 secondo",
                "es": "1 segundo",
                "pl": "1 sekunda",
                "zh-cn": "1秒"
            },
            "10 seconds": {
                "en": "10 seconds",
                "de": "10 Sekunden",
                "ru": "10 секунд",
                "pt": "10 segundos",
                "nl": "10 seconden",
                "fr": "10 secondes",
                "it": "10 secondi",
                "es": "10 segundos",
                "pl": "10 sekund",
                "zh-cn": "10秒"
            },
            "30 seconds": {
                "en": "30 seconds",
                "de": "30 Sekunden",
                "ru": "30 секунд",
                "pt": "30 segundos",
                "nl": "30 seconden",
                "fr": "30 secondes",
                "it": "30 secondi",
                "es": "30 segundos",
                "pl": "30 sekund",
                "zh-cn": "30秒"
            },
            "1 minute": {
                "en": "1 minute",
                "de": "1 Minute",
                "ru": "1 минута",
                "pt": "1 minuto",
                "nl": "1 minuut",
                "fr": "1 minute",
                "it": "1 minuto",
                "es": "1 minuto",
                "pl": "1 minuta",
                "zh-cn": "1分钟"
            },
            "2 minutes": {
                "en": "2 minutes",
                "de": "2 Minuten",
                "ru": "2 минуты",
                "pt": "2 minutos",
                "nl": "2 minuten",
                "fr": "2 minutes",
                "it": "2 minuti",
                "es": "2 minutos",
                "pl": "2 minuty",
                "zh-cn": "2分钟"
            },
            "5 minutes": {
                "en": "5 minutes",
                "de": "5 Minuten",
                "ru": "5 минут",
                "pt": "5 minutos",
                "nl": "5 minuten",
                "fr": "5 minutes",
                "it": "5 minuti",
                "es": "5 minutos",
                "pl": "5 minut",
                "zh-cn": "5分钟"
            },
            "10 minutes": {
                "en": "10 minutes",
                "de": "10 Minuten",
                "ru": "10 минут",
                "pt": "10 minutos",
                "nl": "10 minuten",
                "fr": "10 minutes",
                "it": "10 minuti",
                "es": "10 minutos",
                "pl": "10 minut",
                "zh-cn": "10分钟"
            },
            "30 minutes": {
                "en": "30 minutes",
                "de": "30 Minuten",
                "ru": "30 минут",
                "pt": "30 minutos",
                "nl": "30 minuten",
                "fr": "30 minutes",
                "it": "30 minuti",
                "es": "30 minutos",
                "pl": "30 minut",
                "zh-cn": "30分钟"
            },
            "1 hour": {
                "en": "1 hour",
                "de": "1 Stunde",
                "ru": "1 час",
                "pt": "1 hora",
                "nl": "1 uur",
                "fr": "1 heure",
                "it": "1 ora",
                "es": "1 hora",
                "pl": "1 godzina",
                "zh-cn": "1小时"
            },
            "2 hours": {
                "en": "2 hours",
                "de": "2 Stunden",
                "ru": "два часа",
                "pt": "2 horas",
                "nl": "twee uur",
                "fr": "2 heures",
                "it": "2 ore",
                "es": "2 horas",
                "pl": "2 godziny",
                "zh-cn": "2小时"
            },
            "4 hours": {
                "en": "4 hours",
                "de": "4 Stunden",
                "ru": "4 часа",
                "pt": "4 horas",
                "nl": "4 uur",
                "fr": "4 heures",
                "it": "4 ore",
                "es": "4 horas",
                "pl": "4 godziny",
                "zh-cn": "4个小时"
            },
            "8 hours": {
                "en": "8 hours",
                "de": "8 Stunden",
                "ru": "8 часов",
                "pt": "8 horas",
                "nl": "8 uur",
                "fr": "8 heures",
                "it": "8 ore",
                "es": "8 horas",
                "pl": "8 godzin",
                "zh-cn": "8小时"
            },
            "12 hours": {
                "en": "12 hours",
                "de": "12 Stunden",
                "ru": "12 часов",
                "pt": "12 horas",
                "nl": "12 uren",
                "fr": "12 heures",
                "it": "12 ore",
                "es": "12 horas",
                "pl": "12 godzin",
                "zh-cn": "12小时"
            },
            "24 hours": {
                "en": "24 hours",
                "de": "24 Stunden",
                "ru": "24 часа",
                "pt": "24 horas",
                "nl": "24 uur",
                "fr": "24 heures",
                "it": "24 ore",
                "es": "24 horas",
                "pl": "24 godziny",
                "zh-cn": "24小时"
            },
            "instance": {
                "en": "weather instance",
                "de": "Wetterinstanz",
                "ru": "случай погоды",
                "pt": "instância climática",
                "nl": "weer exemplaar",
                "fr": "instance météo",
                "it": "istanza meteorologica",
                "es": "instancia meteorológica",
                "pl": "instancja pogodowa",
                "zh-cn": "天气实例"
            },
            "time_interval": {
                "en": "Time interval",
                "de": "Zeitintervall",
                "ru": "Интервал времени",
                "pt": "Intervalo de tempo",
                "nl": "Tijdsinterval",
                "fr": "Intervalle de temps",
                "it": "Intervallo di tempo",
                "es": "Intervalo de tiempo",
                "pl": "Przedział czasowy",
                "zh-cn": "时间间隔"
            },
            "group_oids": {
                "en": "OID's",
                "de": "OID's",
                "ru": "OID-х",
                "pt": "OID's",
                "nl": "OID's",
                "fr": "OID",
                "it": "di OID",
                "es": "OID",
                "pl": "OID",
                "zh-cn": "OID的"
            },
            "group_rain": {
                "en": "rain",
                "de": "Regen",
                "ru": "дождь",
                "pt": "chuva",
                "nl": "regen",
                "fr": "pluie",
                "it": "pioggia",
                "es": "lluvia",
                "pl": "deszcz",
                "zh-cn": "雨"
            },
            "group_chancerain": {
                "en": "chance of rain",
                "de": "Niederschlagswahrscheinlichkeit",
                "ru": "вероятность дождя",
                "pt": "chance de chover",
                "nl": "kans op regen",
                "fr": "risque de pluie",
                "it": "probabilità di pioggia",
                "es": "probabilidad de lluvia",
                "pl": "szansa na deszcz",
                "zh-cn": "下雨的机会"
            },
            "group_temperature": {
                "en": "temperature",
                "de": "Temperatur",
                "ru": "температура",
                "pt": "temperatura",
                "nl": "temperatuur",
                "fr": "Température",
                "it": "temperatura",
                "es": "temperatura",
                "pl": "temperatura",
                "zh-cn": "温度"
            },
            "group_clouds": {
                "en": "clouds",
                "de": "Wolken",
                "ru": "облака",
                "pt": "nuvens",
                "nl": "wolken",
                "fr": "des nuages",
                "it": "nuvole",
                "es": "nubes",
                "pl": "chmury",
                "zh-cn": "乌云"
            },
            "oid_value": {
                "en": "OID values",
                "de": "OID-Werte",
                "ru": "Значения OID",
                "pt": "Valores OID",
                "nl": "OID-waarden",
                "fr": "Valeurs OID",
                "it": "Valori OID",
                "es": "Valores OID",
                "pl": "Wartości OID",
                "zh-cn": "OID值"
            },
            "withxaxix": {
                "en": "show X axis",
                "de": "X-Achse anzeigen",
                "ru": "показать ось X",
                "pt": "mostre o eixo X",
                "nl": "X-as weergeven",
                "fr": "afficher l'axe X",
                "it": "mostra l'asse X.",
                "es": "mostrar eje X",
                "pl": "pokaż oś X.",
            },
            "rainvisible": {
                "en": "visible",
                "de": "sichtbar",
                "ru": "видимый",
                "pt": "visível",
                "nl": "zichtbaar",
                "fr": "visible",
                "it": "visibile",
                "es": "visible",
                "pl": "widoczny",
                "zh-cn": "可见"
            },
            "rainchartType": {
                "en": "chart type",
                "de": "Diagramm Typ",
                "ru": "тип диаграммы",
                "pt": "tipo de gráfico",
                "nl": "grafiektype",
                "fr": "type de graphique",
                "it": "tipo di grafico",
                "es": "tipo de gráfico",
                "pl": "typ wykresu",
                "zh-cn": "图表类型"
            },
            "raincolor": {
                "en": "color",
                "de": "Farbe",
                "ru": "цвет",
                "pt": "cor",
                "nl": "kleur",
                "fr": "Couleur",
                "it": "colore",
                "es": "color",
                "pl": "kolor",
                "zh-cn": "颜色"
            },
            "chancerainvisible": {
                "en": "visible",
                "de": "sichtbar",
                "ru": "видимый",
                "pt": "visível",
                "nl": "zichtbaar",
                "fr": "visible",
                "it": "visibile",
                "es": "visible",
                "pl": "widoczny",
                "zh-cn": "可见"
            },
            "tempvisible": {
                "en": "visible",
                "de": "sichtbar",
                "ru": "видимый",
                "pt": "visível",
                "nl": "zichtbaar",
                "fr": "visible",
                "it": "visibile",
                "es": "visible",
                "pl": "widoczny",
                "zh-cn": "可见"
            },
            "tempchartType": {
                "en": "chart type",
                "de": "Diagramm Typ",
                "ru": "тип диаграммы",
                "pt": "tipo de gráfico",
                "nl": "grafiektype",
                "fr": "type de graphique",
                "it": "tipo di grafico",
                "es": "tipo de gráfico",
                "pl": "typ wykresu",
                "zh-cn": "图表类型"
            },
            "tempcolor": {
                "en": "color",
                "de": "Farbe",
                "ru": "цвет",
                "pt": "cor",
                "nl": "kleur",
                "fr": "Couleur",
                "it": "colore",
                "es": "color",
                "pl": "kolor",
                "zh-cn": "颜色"
            },
            "chanceraincolor": {
                "en": "color",
                "de": "Farbe",
                "ru": "цвет",
                "pt": "cor",
                "nl": "kleur",
                "fr": "Couleur",
                "it": "colore",
                "es": "color",
                "pl": "kolor",
                "zh-cn": "颜色"
            },
            "cloudsvisible": {
                "en": "visible",
                "de": "sichtbar",
                "ru": "видимый",
                "pt": "visível",
                "nl": "zichtbaar",
                "fr": "visible",
                "it": "visibile",
                "es": "visible",
                "pl": "widoczny",
                "zh-cn": "可见"
            },
            "cloudschartType": {
                "en": "chart type",
                "de": "Diagramm Typ",
                "ru": "тип диаграммы",
                "pt": "tipo de gráfico",
                "nl": "grafiektype",
                "fr": "type de graphique",
                "it": "tipo di grafico",
                "es": "tipo de gráfico",
                "pl": "typ wykresu",
                "zh-cn": "图表类型"
            },
            "sunorcloud": {
                "en": "show sun or clouds",
                "de": "Sonne oder Wolken zeigen",
                "ru": "показать солнце или облака",
                "pt": "mostre sol ou nuvens",
                "nl": "toon zon of wolken",
                "fr": "montrer du soleil ou des nuages",
                "it": "mostra sole o nuvole",
                "es": "mostrar sol o nubes",
                "pl": "pokaż słońce lub chmury",
                "zh-cn": "显示太阳或云"
            },
            "cloudcolor": {
                "en": "color",
                "de": "Farbe",
                "ru": "цвет",
                "pt": "cor",
                "nl": "kleur",
                "fr": "Couleur",
                "it": "colore",
                "es": "color",
                "pl": "kolor",
                "zh-cn": "颜色"
            },
            "line": {
                "en": "line",
                "de": "Linie",
                "ru": "линия",
                "pt": "linha",
                "nl": "lijn",
                "fr": "ligne",
                "it": "linea",
                "es": "línea",
                "pl": "linia",
                "zh-cn": "线"
            },
            "bar": {
                "en": "bar",
                "de": "Balken",
                "ru": "бар",
                "pt": "Barra",
                "nl": "bar",
                "fr": "bar",
                "it": "bar",
                "es": "bar",
                "pl": "bar",
                "zh-cn": "酒吧"
            },
            "sun": {
                "en": "sun",
                "de": "Sonne",
                "ru": "солнце",
                "pt": "Dom",
                "nl": "zon",
                "fr": "Soleil",
                "it": "sole",
                "es": "Dom",
                "pl": "słońce",
                "zh-cn": "太阳"
            },
            "clouds": {
                "en": "clouds",
                "de": "Wolken",
                "ru": "облака",
                "pt": "nuvens",
                "nl": "wolken",
                "fr": "des nuages",
                "it": "nuvole",
                "es": "nubes",
                "pl": "chmury",
                "zh-cn": "乌云"
            },
            "axislabelcolor": {
                "en": "color of axis label",
                "de": "Farbe der Achsenbeschriftung",
                "ru": "цвет метки оси",
                "pt": "cor do rótulo do eixo",
                "nl": "kleur van aslabel",
                "fr": "couleur de l'étiquette de l'axe",
                "it": "colore dell'etichetta dell'asse",
                "es": "color de la etiqueta del eje",
                "pl": "kolor etykiety osi",
                "zh-cn": "轴标颜色"
            },
            "tickscolor": {
                "en": "color of axis ticks",
                "de": "Farbe der Achsenstriche",
                "ru": "цвет отметок оси",
                "pt": "cor dos tiques do eixo",
                "nl": "kleur van as tikken",
                "fr": "couleur des tiques des axes",
                "it": "colore delle zecche degli assi",
                "es": "color de las garrapatas del eje",
                "pl": "kolor znaczników osi",
                "zh-cn": "轴刻度的颜色"
            },
            "markingcolor": {
                "en": "color of marking",
                "de": "Farbe der Markierung",
                "ru": "цвет маркировки",
                "pt": "cor da marcação",
                "nl": "kleur van markering",
                "fr": "couleur de marquage",
                "it": "colore della marcatura",
                "es": "color de marcado",
                "pl": "kolor oznakowania",
                "zh-cn": "标记颜色"
            },
            "withmarking": {
                "en": "with marking",
                "de": "mit Markierung",
                "ru": "с маркировкой",
                "pt": "com marcação",
                "nl": "met markering",
                "fr": "avec marquage",
                "it": "con marcatura",
                "es": "con marcado",
                "pl": "z oznaczeniem",
                "zh-cn": "带标记"
            },
            "maxY_temp": {
                "en": "max. value y-axix (0 for auto)",
                "de": "max. Wert y-Achse (0 für Auto)",
                "ru": "Максимум. значение оси Y (0 для авто)",
                "pt": "máx. valor y-axix (0 para automático)",
                "nl": "max. waarde y-axix (0 voor auto)",
                "fr": "max. valeur y-axix (0 pour auto)",
                "it": "max. valore y-axix (0 per auto)",
                "es": "max. valor y-axix (0 para auto)",
                "pl": "max. wartość y-axix (0 dla auto)",
                "zh-cn": "最高值y轴（自动为0）"
            },
            "minY_temp": {
                "en": "min. value y-axix (0 for auto)",
                "de": "min. Wert y-Achse (0 für Auto)",
                "ru": "минимум значение оси Y (0 для авто)",
                "pt": "min. valor y-axix (0 para automático)",
                "nl": "min. waarde y-axix (0 voor auto)",
                "fr": "min. valeur y-axix (0 pour auto)",
                "it": "min. valore y-axix (0 per auto)",
                "es": "min. valor y-axix (0 para auto)",
                "pl": "min. wartość y-axix (0 dla auto)",
                "zh-cn": "分钟值y轴（自动为0）"
            },
            "yTempVisible": {
                "en": "show y axis",
                "de": "y-Achse anzeigen",
                "ru": "показать ось у",
                "pt": "mostre o eixo y",
                "nl": "y-as weergeven",
                "fr": "afficher l'axe y",
                "it": "mostra l'asse y",
                "es": "mostrar eje y",
                "pl": "pokaż oś y",
                "zh-cn": "显示y轴"
            },
            "yRainVisible": {
                "en": "show y axis",
                "de": "y-Achse anzeigen",
                "ru": "показать ось у",
                "pt": "mostre o eixo y",
                "nl": "y-as weergeven",
                "fr": "afficher l'axe y",
                "it": "mostra l'asse y",
                "es": "mostrar eje y",
                "pl": "pokaż oś y",
                "zh-cn": "显示y轴"
            },
            "yCloudVisible": {
                "en": "show y axis",
                "de": "y-Achse anzeigen",
                "ru": "показать ось у",
                "pt": "mostre o eixo y",
                "nl": "y-as weergeven",
                "fr": "afficher l'axe y",
                "it": "mostra l'asse y",
                "es": "mostrar eje y",
                "pl": "pokaż oś y",
                "zh-cn": "显示y轴"
            },
            "yChanceRainVisible": {
                "en": "show y axis",
                "de": "y-Achse anzeigen",
                "ru": "показать ось у",
                "pt": "mostre o eixo y",
                "nl": "y-as weergeven",
                "fr": "afficher l'axe y",
                "it": "mostra l'asse y",
                "es": "mostrar eje y",
                "pl": "pokaż oś y",
                "zh-cn": "显示y轴"
            },
            "xDateFormat": {
                "en": "format for date/time on x-axis",
                "de": "Format für Datum / Uhrzeit auf der x-Achse",
                "ru": "формат даты / времени по оси X",
                "pt": "formato para data / hora no eixo x",
                "nl": "formaat voor datum / tijd op x-as",
                "fr": "format de date / heure sur l'axe des x",
                "it": "formato per data / ora sull'asse x",
                "es": "formato para fecha / hora en eje x",
                "pl": "format daty / godziny na osi x",
                "zh-cn": "x轴上日期/时间的格式"
            },
            "nobgcolor": {
                "en": "no background color on grid",
                "de": "Keine Hintergrundfarbe im Raster",
                "ru": "нет цвета фона на сетке",
                "pt": "sem cor de fundo na grade",
                "nl": "geen achtergrondkleur op het raster",
                "fr": "pas de couleur d'arrière-plan sur la grille",
                "it": "nessun colore di sfondo sulla griglia",
                "es": "sin color de fondo en la cuadrícula",
                "pl": "brak koloru tła na siatce",
                "zh-cn": "网格上没有背景色"
            },

            "bgcolor": {
                "en": "background color on grid",
                "de": "Hintergrundfarbe auf Raster",
                "ru": "цвет фона на сетке",
                "pt": "cor de fundo na grade",
                "nl": "achtergrondkleur op het raster",
                "fr": "couleur de fond sur la grille",
                "it": "colore di sfondo sulla griglia",
                "es": "color de fondo en la cuadrícula",
                "pl": "kolor tła na siatce",
                "zh-cn": "网格上的背景色"
            },
            /*
            "withborder": {
                "en": "show border of grid",
                "de": "Rahmen des Gitters anzeigen",
                "ru": "показать границу сетки",
                "pt": "mostrar borda da grade",
                "nl": "rand van raster weergeven",
                "fr": "montrer la bordure de la grille",
                "it": "mostra il bordo della griglia",
                "es": "mostrar borde de cuadrícula",
                "pl": "pokaż granicę siatki",
                "zh-cn": "显示网格边框"
            },*/
            "bordercolor": {
                "en": "color of grid border",
                "de": "Farbe des Gitterrandes",
                "ru": "цвет границы сетки",
                "pt": "cor da borda da grade",
                "nl": "kleur van de rasterrand",
                "fr": "couleur de la bordure de la grille",
                "it": "colore del bordo della griglia",
                "es": "color del borde de la cuadrícula",
                "pl": "kolor obramowania siatki",
                "zh-cn": "网格边框的颜色"
            },
            "borderWidth": {
                "en": "width of grid border",
                "de": "Breite des Gitterrandes",
                "ru": "ширина границы сетки",
                "pt": "largura da borda da grade",
                "nl": "breedte van de rasterrand",
                "fr": "largeur de la bordure de la grille",
                "it": "larghezza del bordo della griglia",
                "es": "ancho del borde de la cuadrícula",
                "pl": "szerokość granicy siatki",
                "zh-cn": "网格边框的宽度"
            },
            "datastructure": {
                "en": "data structure",
                "de": "Datenstruktur",
                "ru": "структура данных",
                "pt": "estrutura de dados",
                "nl": "data structuur",
                "fr": "Structure de données",
                "it": "struttura dati",
                "es": "estructura de datos",
                "pl": "struktura danych",
                "zh-cn": "数据结构"
            },
            "raincolorticklabel": {
                "en": "color tick label",
                "de": "Farbe Tick Label",
                "ru": "цветная метка",
                "pt": "etiqueta de escala de cores",
                "nl": "kleur maatlabel",
                "fr": "étiquette de couleur tique",
                "it": "etichetta con segno di spunta di colore",
                "es": "etiqueta de marca de color",
                "pl": "kolorowa etykieta kleszczowa",
                "zh-cn": "彩色刻度标签"
            },
            "chanceraincolorticklabel": {
                "en": "color tick label",
                "de": "Farbe Tick Label",
                "ru": "цветная метка",
                "pt": "etiqueta de escala de cores",
                "nl": "kleur maatlabel",
                "fr": "étiquette de couleur tique",
                "it": "etichetta con segno di spunta di colore",
                "es": "etiqueta de marca de color",
                "pl": "kolorowa etykieta kleszczowa",
                "zh-cn": "彩色刻度标签"
            },
            "tempcolorticklabel": {
                "en": "color tick label",
                "de": "Farbe Tick Label",
                "ru": "цветная метка",
                "pt": "etiqueta de escala de cores",
                "nl": "kleur maatlabel",
                "fr": "étiquette de couleur tique",
                "it": "etichetta con segno di spunta di colore",
                "es": "etiqueta de marca de color",
                "pl": "kolorowa etykieta kleszczowa",
                "zh-cn": "彩色刻度标签"
            },
            "cloudcolorticklabel": {
                "en": "color tick label",
                "de": "Farbe Tick Label",
                "ru": "цветная метка",
                "pt": "etiqueta de escala de cores",
                "nl": "kleur maatlabel",
                "fr": "étiquette de couleur tique",
                "it": "etichetta con segno di spunta di colore",
                "es": "etiqueta de marca de color",
                "pl": "kolorowa etykieta kleszczowa",
                "zh-cn": "彩色刻度标签"
            },

            "raincoloraxis": {
                "en": "color of axis",
                "de": "Farbe der Achse",
                "ru": "цвет оси",
                "pt": "cor do eixo",
                "nl": "kleur van de as",
                "fr": "couleur de l'axe",
                "it": "colore dell'asse",
                "es": "color del eje",
                "pl": "kolor osi",
                "zh-cn": "轴的颜色"
            },
            "chanceraincoloraxis": {
                "en": "color of axis",
                "de": "Farbe der Achse",
                "ru": "цвет оси",
                "pt": "cor do eixo",
                "nl": "kleur van de as",
                "fr": "couleur de l'axe",
                "it": "colore dell'asse",
                "es": "color del eje",
                "pl": "kolor osi",
                "zh-cn": "轴的颜色"
            },
            "tempcoloraxis": {
                "en": "color of axis",
                "de": "Farbe der Achse",
                "ru": "цвет оси",
                "pt": "cor do eixo",
                "nl": "kleur van de as",
                "fr": "couleur de l'axe",
                "it": "colore dell'asse",
                "es": "color del eje",
                "pl": "kolor osi",
                "zh-cn": "轴的颜色"
            },
            "cloudcoloraxis": {
                "en": "color of axis",
                "de": "Farbe der Achse",
                "ru": "цвет оси",
                "pt": "cor do eixo",
                "nl": "kleur van de as",
                "fr": "couleur de l'axe",
                "it": "colore dell'asse",
                "es": "color del eje",
                "pl": "kolor osi",
                "zh-cn": "轴的颜色"
            },
            "LabelFontSize": {
                "en": "size of Label Font",
                "de": "Größe der Beschriftungsschrift",
                "ru": "размер шрифта метки",
                "pt": "tamanho da fonte da etiqueta",
                "nl": "grootte van het lettertype",
                "fr": "taille de la police d'étiquette",
                "it": "dimensione del carattere dell'etichetta",
                "es": "tamaño de la fuente de la etiqueta",
                "pl": "rozmiar czcionki etykiety",
                "zh-cn": "标签字体的大小"
            },
            "LabelFontFamily": {
                "en": "family of label font",
                "de": "Schriftfamilie",
                "ru": "семейство меток шрифта",
                "pt": "família de fontes de rótulo",
                "nl": "familie van lettertype",
                "fr": "famille de polices d'étiquettes",
                "it": "famiglia di caratteri etichetta",
                "es": "familia de fuente de etiquetas",
                "pl": "rodzina czcionek etykiet",
                "zh-cn": "标签字体家族"
            },


            "rainname": {
                "en": "name on legend",
                "de": "Name auf Legende",
                "ru": "имя по легенде",
                "pt": "nome na legenda",
                "nl": "naam op legende",
                "fr": "nom sur la légende",
                "it": "nome sulla leggenda",
                "es": "nombre en la leyenda",
                "pl": "imię na legendzie",
                "zh-cn": "传说中的名字"
            },
            "tempname": {
                "en": "name on legend",
                "de": "Name auf Legende",
                "ru": "имя по легенде",
                "pt": "nome na legenda",
                "nl": "naam op legende",
                "fr": "nom sur la légende",
                "it": "nome sulla leggenda",
                "es": "nombre en la leyenda",
                "pl": "imię na legendzie",
                "zh-cn": "传说中的名字"
            },
            "cloudsname": {
                "en": "name on legend",
                "de": "Name auf Legende",
                "ru": "имя по легенде",
                "pt": "nome na legenda",
                "nl": "naam op legende",
                "fr": "nom sur la légende",
                "it": "nome sulla leggenda",
                "es": "nombre en la leyenda",
                "pl": "imię na legendzie",
                "zh-cn": "传说中的名字"
            },
            "chancerainname": {
                "en": "name on legend",
                "de": "Name auf Legende",
                "ru": "имя по легенде",
                "pt": "nome na legenda",
                "nl": "naam op legende",
                "fr": "nom sur la légende",
                "it": "nome sulla leggenda",
                "es": "nombre en la leyenda",
                "pl": "imię na legendzie",
                "zh-cn": "传说中的名字"
            },

            "raintickLength": {
                "en": "length of tick",
                "de": "Länge des Ticks",
                "ru": "длина тика",
                "pt": "comprimento do carrapato",
                "nl": "lengte van de teek",
                "fr": "longueur de tique",
                "it": "lunghezza del segno di spunta",
                "es": "longitud de la garrapata",
                "pl": "długość kleszcza",
                "zh-cn": "tick的长度"
            },
            "rainshowMinorTicks": {
                "en": "show minor tick",
                "de": "zeige kleine Ticks",
                "ru": "показать небольшую галочку",
                "pt": "mostre carrapato menor",
                "nl": "toon kleine vinkjes",
                "fr": "montrer une tique mineure",
                "it": "mostra segno di spunta minore",
                "es": "mostrar marca menor",
                "pl": "pokaż drobne kleszcze",
                "zh-cn": "显示小勾"
            },
            "rainshowTicks": {
                "en": "show tick",
                "de": "zeige ticks",
                "ru": "показать галочку",
                "pt": "show tick",
                "nl": "vinkje tonen",
                "fr": "montrer tique",
                "it": "mostra tick",
                "es": "mostrar marca",
                "pl": "pokaż tik",
                "zh-cn": "显示刻度"
            },
            "raintickDecimals": {
                "en": "decimals",
                "de": "Dezimalstellen",
                "ru": "десятичные",
                "pt": "decimais",
                "nl": "decimalen",
                "fr": "décimales",
                "it": "decimali",
                "es": "decimales",
                "pl": "miejsca po przecinku",
                "zh-cn": "小数点"
            },
            "raintickSize": {
                "en": "tick size",
                "de": "Tick-Größe",
                "ru": "размер галочки",
                "pt": "tamanho do carrapato",
                "nl": "teken grootte",
                "fr": "taille de la tique",
                "it": "dimensione tick",
                "es": "tamaño de la garrapata",
                "pl": "rozmiar kleszcza",
                "zh-cn": "刻度大小"
            },
            "rainminTickSize": {
                "en": "min. tick size",
                "de": "Mindest. Tick-Größe",
                "ru": "минимум размер галочки",
                "pt": "min. tamanho do carrapato",
                "nl": "min. teken grootte",
                "fr": "min. taille de la tique",
                "it": "min. dimensione tick",
                "es": "min. tamaño de la garrapata",
                "pl": "min. rozmiar kleszcza",
                "zh-cn": "分钟刻度大小"
            },

            "chanceraintickLength": {
                "en": "length of tick",
                "de": "Länge des Ticks",
                "ru": "длина тика",
                "pt": "comprimento do carrapato",
                "nl": "lengte van de teek",
                "fr": "longueur de tique",
                "it": "lunghezza del segno di spunta",
                "es": "longitud de la garrapata",
                "pl": "długość kleszcza",
                "zh-cn": "tick的长度"
            },
            "chancerainshowMinorTicks": {
                "en": "show minor tick",
                "de": "zeige kleine Ticks",
                "ru": "показать небольшую галочку",
                "pt": "mostre carrapato menor",
                "nl": "toon kleine vinkjes",
                "fr": "montrer une tique mineure",
                "it": "mostra segno di spunta minore",
                "es": "mostrar marca menor",
                "pl": "pokaż drobne kleszcze",
                "zh-cn": "显示小勾"
            },
            "chancerainshowTicks": {
                "en": "show tick",
                "de": "zeige ticks",
                "ru": "показать галочку",
                "pt": "show tick",
                "nl": "vinkje tonen",
                "fr": "montrer tique",
                "it": "mostra tick",
                "es": "mostrar marca",
                "pl": "pokaż tik",
                "zh-cn": "显示刻度"
            },
            "chanceraintickDecimals": {
                "en": "decimals",
                "de": "Dezimalstellen",
                "ru": "десятичные",
                "pt": "decimais",
                "nl": "decimalen",
                "fr": "décimales",
                "it": "decimali",
                "es": "decimales",
                "pl": "miejsca po przecinku",
                "zh-cn": "小数点"
            },
            "chanceraintickSize": {
                "en": "tick size",
                "de": "Tick-Größe",
                "ru": "размер галочки",
                "pt": "tamanho do carrapato",
                "nl": "teken grootte",
                "fr": "taille de la tique",
                "it": "dimensione tick",
                "es": "tamaño de la garrapata",
                "pl": "rozmiar kleszcza",
                "zh-cn": "刻度大小"
            },
            "chancerainminTickSize": {
                "en": "min. tick size",
                "de": "Mindest. Tick-Größe",
                "ru": "минимум размер галочки",
                "pt": "min. tamanho do carrapato",
                "nl": "min. teken grootte",
                "fr": "min. taille de la tique",
                "it": "min. dimensione tick",
                "es": "min. tamaño de la garrapata",
                "pl": "min. rozmiar kleszcza",
                "zh-cn": "分钟刻度大小"
            },

            "temptickLength": {
                "en": "length of tick",
                "de": "Länge des Ticks",
                "ru": "длина тика",
                "pt": "comprimento do carrapato",
                "nl": "lengte van de teek",
                "fr": "longueur de tique",
                "it": "lunghezza del segno di spunta",
                "es": "longitud de la garrapata",
                "pl": "długość kleszcza",
                "zh-cn": "tick的长度"
            },
            "tempshowMinorTicks": {
                "en": "show minor tick",
                "de": "zeige kleine Ticks",
                "ru": "показать небольшую галочку",
                "pt": "mostre carrapato menor",
                "nl": "toon kleine vinkjes",
                "fr": "montrer une tique mineure",
                "it": "mostra segno di spunta minore",
                "es": "mostrar marca menor",
                "pl": "pokaż drobne kleszcze",
                "zh-cn": "显示小勾"
            },
            "tempshowTicks": {
                "en": "show tick",
                "de": "zeige ticks",
                "ru": "показать галочку",
                "pt": "show tick",
                "nl": "vinkje tonen",
                "fr": "montrer tique",
                "it": "mostra tick",
                "es": "mostrar marca",
                "pl": "pokaż tik",
                "zh-cn": "显示刻度"
            },
            "temptickDecimals": {
                "en": "decimals",
                "de": "Dezimalstellen",
                "ru": "десятичные",
                "pt": "decimais",
                "nl": "decimalen",
                "fr": "décimales",
                "it": "decimali",
                "es": "decimales",
                "pl": "miejsca po przecinku",
                "zh-cn": "小数点"
            },
            "temptickSize": {
                "en": "tick size",
                "de": "Tick-Größe",
                "ru": "размер галочки",
                "pt": "tamanho do carrapato",
                "nl": "teken grootte",
                "fr": "taille de la tique",
                "it": "dimensione tick",
                "es": "tamaño de la garrapata",
                "pl": "rozmiar kleszcza",
                "zh-cn": "刻度大小"
            },
            "tempminTickSize": {
                "en": "min. tick size",
                "de": "Mindest. Tick-Größe",
                "ru": "минимум размер галочки",
                "pt": "min. tamanho do carrapato",
                "nl": "min. teken grootte",
                "fr": "min. taille de la tique",
                "it": "min. dimensione tick",
                "es": "min. tamaño de la garrapata",
                "pl": "min. rozmiar kleszcza",
                "zh-cn": "分钟刻度大小"
            },

            "cloudtickLength": {
                "en": "length of tick",
                "de": "Länge des Ticks",
                "ru": "длина тика",
                "pt": "comprimento do carrapato",
                "nl": "lengte van de teek",
                "fr": "longueur de tique",
                "it": "lunghezza del segno di spunta",
                "es": "longitud de la garrapata",
                "pl": "długość kleszcza",
                "zh-cn": "tick的长度"
            },
            "cloudshowMinorTicks": {
                "en": "show minor tick",
                "de": "zeige kleine Ticks",
                "ru": "показать небольшую галочку",
                "pt": "mostre carrapato menor",
                "nl": "toon kleine vinkjes",
                "fr": "montrer une tique mineure",
                "it": "mostra segno di spunta minore",
                "es": "mostrar marca menor",
                "pl": "pokaż drobne kleszcze",
                "zh-cn": "显示小勾"
            },
            "cloudshowTicks": {
                "en": "show tick",
                "de": "zeige ticks",
                "ru": "показать галочку",
                "pt": "show tick",
                "nl": "vinkje tonen",
                "fr": "montrer tique",
                "it": "mostra tick",
                "es": "mostrar marca",
                "pl": "pokaż tik",
                "zh-cn": "显示刻度"
            },
            "cloudtickDecimals": {
                "en": "decimals",
                "de": "Dezimalstellen",
                "ru": "десятичные",
                "pt": "decimais",
                "nl": "decimalen",
                "fr": "décimales",
                "it": "decimali",
                "es": "decimales",
                "pl": "miejsca po przecinku",
                "zh-cn": "小数点"
            },
            "cloudtickSize": {
                "en": "tick size",
                "de": "Tick-Größe",
                "ru": "размер галочки",
                "pt": "tamanho do carrapato",
                "nl": "teken grootte",
                "fr": "taille de la tique",
                "it": "dimensione tick",
                "es": "tamaño de la garrapata",
                "pl": "rozmiar kleszcza",
                "zh-cn": "刻度大小"
            },
            "cloudminTickSize": {
                "en": "min. tick size",
                "de": "Mindest. Tick-Größe",
                "ru": "минимум размер галочки",
                "pt": "min. tamanho do carrapato",
                "nl": "min. teken grootte",
                "fr": "min. taille de la tique",
                "it": "min. dimensione tick",
                "es": "min. tamaño de la garrapata",
                "pl": "min. rozmiar kleszcza",
                "zh-cn": "分钟刻度大小"
            },

            "templabelwidth": {
                "en": "label width",
                "de": "Labelbreite",
                "ru": "ширина этикетки",
                "pt": "largura da etiqueta",
                "nl": "labelbreedte",
                "fr": "largeur d'étiquette",
                "it": "larghezza dell'etichetta",
                "es": "ancho de etiqueta",
                "pl": "szerokość etykiety",
                "zh-cn": "标签宽度"
            },
            "rainlabelwidth": {
                "en": "label width",
                "de": "Labelbreite",
                "ru": "ширина этикетки",
                "pt": "largura da etiqueta",
                "nl": "labelbreedte",
                "fr": "largeur d'étiquette",
                "it": "larghezza dell'etichetta",
                "es": "ancho de etiqueta",
                "pl": "szerokość etykiety",
                "zh-cn": "标签宽度"
            },
            "chancerainlabelwidth": {
                "en": "label width",
                "de": "Labelbreite",
                "ru": "ширина этикетки",
                "pt": "largura da etiqueta",
                "nl": "labelbreedte",
                "fr": "largeur d'étiquette",
                "it": "larghezza dell'etichetta",
                "es": "ancho de etiqueta",
                "pl": "szerokość etykiety",
                "zh-cn": "标签宽度"
            },
            "cloudslabelwidth": {
                "en": "label width",
                "de": "Labelbreite",
                "ru": "ширина этикетки",
                "pt": "largura da etiqueta",
                "nl": "labelbreedte",
                "fr": "largeur d'étiquette",
                "it": "larghezza dell'etichetta",
                "es": "ancho de etiqueta",
                "pl": "szerokość etykiety",
                "zh-cn": "标签宽度"
            },
            "withlegend": {
                "en": "show legend",
                "de": "Legende anzeigen",
                "ru": "показать легенду",
                "pt": "mostrar legenda",
                "nl": "toon legende",
                "fr": "montrer la légende",
                "it": "mostra legenda",
                "es": "Mostrar leyenda",
                "pl": "pokaż legendę",
                "zh-cn": "显示传奇"
            },
            "legendposition": {
                "en": "legend position",
                "de": "Legendenposition",
                "ru": "положение легенды",
                "pt": "posição da legenda",
                "nl": "legende positie",
                "fr": "position de la légende",
                "it": "posizione della legenda",
                "es": "posición de leyenda",
                "pl": "pozycja legendy",
                "zh-cn": "图例位置"
            },
            "WithHOver": {
                "en": "With Value box",
                "de": "Mit Wertbox",
                "ru": "С коробкой ценности",
                "pt": "Com caixa de valor",
                "nl": "Met Value box",
                "fr": "Avec boîte de valeur",
                "it": "Con Valore",
                "es": "Con caja de valor",
                "pl": "Wagon z Value",
                "zh-cn": "价值箱"
            },
            "WithPoints": {
                "en": "with points",
                "de": "mit Punkten",
                "ru": "с точками",
                "pt": "com pontos",
                "nl": "met punten",
                "fr": "avec points",
                "it": "con punti",
                "es": "con puntos",
                "pl": "punkty",
                "zh-cn": "要点"
            }

        });
    }



    vis.binds.weather = {
        version: "2.5.6",
        showVersion: function () {
            if (vis.binds.weather.version) {
                console.log('Version vis-weather: ' + vis.binds.weather.version);
                vis.binds.weather.version = null;
            }
        },
        setup: {
            intervals:
            {
                '1 second': 1000,
                '10 seconds': 10000,
                '30 seconds': 30000,
                '1 minute': 60000,
                '2 minutes': 120000,
                '5 minutes': 300000,
                '10 minutes': 600000,
                '30 minutes': 1800000,
                '1 hour': 3600000,
                '2 hours': 7200000,
                '4 hours': 14400000,
                '8 hours': 28800000,
                '12 hours': 43200000,
                '24 hours': 86400000
            },
        },
        tempandrain: {

            init: function (widgetID, view, data1, style) {
                var $div = $('#' + widgetID);
                console.log("temp and rain init (" + widgetID + ")");
                var data = {};
                for (var s in data1) {
                    if (s[0] !== '_' && data1.hasOwnProperty(s) && typeof data1[s] !== 'object' && typeof data1[s] !== 'function') {
                        data[s] = data1[s];
                    }

                }

                //****************************************************************************************
                //hover

                if (data.WithHOver) {
                    //das muss in's init...

                   
                    $("<div id='weathertooltip'></div>").css({
                        position: "absolute",
                        display: "none",
                        border: "1px solid #fdd",
                        padding: "2px",
                        "background-color": "#fee",
                        opacity: 1
                    }).appendTo("body");
                    //****************************************************************************************

                }


                function SetMarkingColor(color) {
                    MarkingColor = color;
                }

                function degreeFormatter(val, axis) {

                    let myval;
                    if (typeof val == "string") {
                        console.log('degreeFormatter convert to number ');
                        myval = Number(val);
                    }
                    else {
                        myval = val;
                    }

                    console.log('degreeFormatter for ' + val + " " + typeof val);

                    return (myval*1).toFixed(axis.tickDecimals) + "°C";
                }

                function percentageFormatter(val, axis) {

                    let myval;
                    if (typeof val == "string") {
                        console.log('percentageFormatter convert to number ');
                        myval = Number(val);
                    }
                    else {
                        myval = val;
                    }

                    console.log('percentageFormatter for ' + val + " " + typeof val);

                    return (myval*1).toFixed(axis.tickDecimals) + "%";
                }

                function mmFormatter(val, axis) {

                    let myval;
                    if (typeof val == "string") {
                        console.log('mmFormatter convert to number ');
                        myval = Number(val);
                    }
                    else {
                        myval = val;
                    }

                    console.log('mmFormatter for ' + val + " " + typeof val);

                    return (myval*1).toFixed(axis.tickDecimals) + "mm";
                }

                function legendformater(label, series) {

                    //wenn keine Daten, dann ausblenden ->  (return null)
                    if (series.data == null || typeof series.data == "undefined" || typeof series.data[0] == "undefined") {

                        console.log('legendformater no label because no data ');
                        return null;
                    }
                    else {
                        console.log('legendformater label ' + label);
                        return label;
                    }
                }

                

                function GridMarkings(axes) {

                    var markings = [];
                    var minDate = new Date(axes.xaxis.min);

                    //start from midnight
                    minDate.setHours(0);

                    const dayDiff = (axes.xaxis.max - axes.xaxis.min) / 1000 / 60 / 60 / 24;
                    console.log('GridMarkings: DayDiff ' + dayDiff + ' (' + axes.xaxis.max + ' ' + axes.xaxis.min + ') start at ' + minDate.toString());

                    var i = minDate.getTime();

                    //if we only few hours then we need markings per hour otherwise per day
                    let limit = 0;
                    if (dayDiff > 2) {
                        do {
                            //console.log("new day marking from " + i);
                            markings.push({ xaxis: { from: i, to: i + 24 * 60 * 60 * 1000 }, color: MarkingColor });
                            i += 2 * 24 * 60 * 60 * 1000;
                            limit++;
                        } while (i < axes.xaxis.max || limit > 200);

                    }
                    else {

                        do {
                            //console.log("new hour marking from " + i);
                            markings.push({ xaxis: { from: i, to: i + 60 * 60 * 1000 }, color: MarkingColor });
                            i += 2 * 60 * 60 * 1000;
                            limit++;
                        } while (i < axes.xaxis.max || limit > 200);
                    }
                    return markings;

                }

                function CalcTicks4X(axis) {

                    var ticks = [];

                    var minDate = new Date(axis.min);

                    const dayDiff = (axis.max - axis.min) / 1000 / 60 / 60 / 24;

                    console.log('CalcTicks4X: DayDiff ' + dayDiff + ' (' + axis.max + ' ' + axis.min + ')');

                    let limit = 0;
                    //if we only few hours then we need ticks per hour otherwise per day
                    if (dayDiff > 2) {
                        minDate.setHours(12);
                        minDate.setMinutes(0);
                        var i = minDate.getTime();

                        do {
                            //console.log("new day tick at " + i);
                            ticks.push([i]);
                            i += 24 * 60 * 60 * 1000;
                            limit++;
                        } while (i < axis.max || limit > 200);
                    }
                    else {
                        minDate.setHours(0);
                        minDate.setMinutes(0);
                        var i = minDate.getTime();

                        do {
                            //console.log("new hour tick at " + i);
                            ticks.push([i]);
                            i += 6 * 60 * 60 * 1000;
                            limit++;
                        } while (i < axis.max || limit > 200);
                    }
                    return ticks;
                }

                //should avoid endles loops
                let UpdateRetryCounter = 0;

                function update() {

                    console.log("ShowChart temp/rain/cloud  (" + widgetID + ") retry counter " + UpdateRetryCounter);

                    var $div = $('#' + widgetID);
                    // if nothing found => wait
                    if (!$div.length) {
                        return setTimeout(function () {
                            console.log("need to wait... (" + widgetID + ")");
                            if (UpdateRetryCounter < 5) {
                                UpdateRetryCounter++;
                                update();
                            }
                        }, 1000);
                    }

                    UpdateRetryCounter = 0;
                    console.log("ShowChart temp/rain/cloud begin (" + widgetID + ")");

                    if (!data || !data.instance) {
                        console.log("keine instanz  (" + widgetID + ")");
                        $div.html("<br> <center> <font color='red'> no instance for DasWetter specified </font> </center></br>");
                    }
                    else if (data.instance.indexOf("daswetter") > -1 && data.oid_date == "") {
                        console.log("no OID's for DasWetter  (" + widgetID + ")");
                        $div.html("<br> <center> <font color='red'> no OID's for DasWetter specified </font> </center></br>");
                    }
                    else {

                        SetMarkingColor(data.markingcolor);

                        var values_rain = [];
                        var values_chancerain = [];
                        var maxY_rain = -99;
                        var minY_rain = 100;
                        var values_temp = [];
                        var maxY_temp = -99;
                        var minY_temp = 100;
                        var values_cloud = [];
                        var maxY_cloud = 100;
                        var minY_cloud = 0;
                        var cnt = 0;


                        var max_cnt = 0;
                        var day = 0;
                        var month = 0;
                        var year = 0;
                        var hour = 0;
                        var minute = 0;

                        var dateMin = -1;
                        var dateMax = -1;

                        var nTimeDiff = -1;
                        var oldHour = -1;

                        if (data.instance.indexOf("daswetter") > -1) {

                            //get first date only for DasWetter.com
                            //20180825
                            var oid_first_date = data.oid_date;
                            var sDate = vis.states[oid_first_date + '.val'];
                            var day = parseInt(sDate.substring(6, 8), 10);
                            var month = parseInt(sDate.substring(4, 6), 10);
                            var year = parseInt(sDate.substring(0, 4), 10);
                            //console.log("got " + sDate + " from " + oid_first_date);
                            console.log("got first date " + sDate + " = " + day + "." + month + "." + year);
                            month--;

                            max_cnt = 40;
                            data.chancerainvisible = false; // value not available!!

                        }
                        else if (data.instance.indexOf("weatherunderground") > -1) {
                            max_cnt = 36;
                        }

                        //console.log("date is " + day +"."+month+"."+year);
                        var lastHour = -1;
                        for (var d = 0; d < max_cnt; d++) {

                            //get rain values
                            var oid_rain = data['oid_rain' + d];
                            var val_rain = parseFloat(vis.states[oid_rain + '.val']);
                            //console.log("got " + val_rain + " from " + oid_rain);
                            if (val_rain > maxY_rain) maxY_rain = val_rain;
                            if (val_rain < minY_rain) minY_rain = val_rain;
                            var oid_chancerain = data['oid_chancerain' + d];
                            var val_chancerain = parseInt(vis.states[oid_chancerain + '.val'], 10);
                            //console.log("got " + val_chancerain + " from " + oid_chancerain);


                            //get temperature values
                            var oid_temp = data['oid_temp' + d];
                            var val_temp = parseInt(vis.states[oid_temp + '.val'], 10);
                            //console.log("got " + val_temp + " from " + oid_temp);
                            if (val_temp > maxY_temp) maxY_temp = val_temp;
                            if (val_temp < minY_temp) minY_temp = val_temp;

                            //get cloud values
                            var oid_cloud = data['oid_cloud' + d];
                            var val = parseInt(vis.states[oid_cloud + '.val'], 10);
                            //console.log("got " + val + " from " + oid_cloud);
                            var val_cloud = 0;
                            if (data.sunorcloud == "sun") { //invert value
                                val_cloud = 100 - val;
                            }
                            else {
                                val_cloud = val;
                            }

                            // get time
                            var oid = data['oid_hour' + d];
                            //console.log("check " + oid);
                            if (oid.length < 3) {
                                //stop loop here
                                console.log("less then " + max_cnt + " oid (" + d + ") found");
                                d = max_cnt;
                                break;
                            }
                            var sTime = vis.states[oid + '.val'];
                            //console.log("got " + sTime + " from " + oid);
                            //console.log("got " + sTime );

                            var bDateNotValid = false;
                            var month1 = month + 1;
                            //console.log("### date " + day + "." + month1 + "." + year);

                            var oDate;
                            if (data.instance.indexOf("daswetter") > -1) {

                                hour = parseInt(sTime.substring(0, 2), 10);
                                minute = parseInt(sTime.substring(3, 5), 10);

                                oDate = new Date(year, month, day, hour, minute, 0, 0);

                                //console.log("### check next day " + hour + " ? " + lastHour + " at " + oDate.toLocaleString());

                                //check next day
                                if (hour < lastHour) {
                                    oDate.setDate(oDate.getDate() + 1);
                                    day = oDate.getDate();
                                    month = oDate.getMonth();
                                    year = oDate.getFullYear();

                                    //console.log("### next day found " + oDate.toLocaleString());
                                }
                                lastHour = hour;
                            }
                            else if (data.instance.indexOf("weatherunderground") > -1) {





                                if (typeof sTime == 'undefined') {
                                    bDateNotValid = true;
                                }
                                else {



                                    //check which version??
                                    //V1.x: 05:00 PM CEST am 18. August 2018
                                    //V2.x: 8/18/2018, 5:00:00 PM
                                    //      oder 2018 - 8 - 19 12: 00: 00
                                    var oTemp = sTime.split(' ');
                                    var wuversion = 0;
                                    if (oTemp[1] == "PM" || oTemp[1] == "AM") {
                                        wuversion = 1;
                                        //console.log("+++ old version +++");
                                    }
                                    else {
                                        wuversion = 2;
                                        //console.log("+++ new version +++");
                                    }

                                    if (wuversion == 2) {

                                        //acc. https://stackoverflow.com/questions/4310953/invalid-date-in-safari#
                                        //safari doesnt support 2018-8-26
                                        //it supports:
                                        //MM - dd - yyyy
                                        //yyyy / MM / dd
                                        //MM / dd / yyyy
                                        //MMMM dd, yyyy
                                        //MMM dd, yyyy
                                        //so we just replace '-' by '/'

                                        //test only:
                                        //sTime = "2018-8-26";

                                        //in WU wird ToLocalstring verwendet
                                        var oDateWU = new Date(sTime.replace(/-/g, "/"));
                                        hour = oDateWU.getHours();
                                        minute = oDateWU.getMinutes();
                                        year = oDateWU.getFullYear();
                                        month = oDateWU.getMonth();
                                        day = oDateWU.getDate();
                                        //console.log("--------" + sTime + " = " + oDateWU.toLocaleString());
                                    }
                                    else {
                                        // WU V1.0

                                        //04:00 PM CEST am 14. Mai 2017

                                        var oTemp1 = oTemp[0].split(':');

                                        hour = parseInt(oTemp1[0], 10);
                                        if (oTemp[1] == "PM" && hour != 12) {
                                            hour += 12; //PM
                                        }
                                        if (oTemp[1] == "AM" && hour == 12) {
                                            hour = 0; //AM
                                        }
                                        //12 PM ist 12 Mittags
                                        //12 AM ist 0 Nachts

                                        minute = parseInt(oTemp1[1], 10);
                                        year = parseInt(oTemp[6], 10);

                                        switch (oTemp[5]) {
                                            case "Januar": month = 0; break;
                                            case "Februar": month = 1; break;
                                            case "März": month = 2; break;
                                            case "April": month = 3; break;
                                            case "Mai": month = 4; break;
                                            case "Juni": month = 5; break;
                                            case "Juli": month = 6; break;
                                            case "August": month = 7; break;
                                            case "September": month = 8; break;
                                            case "Oktober": month = 9; break;
                                            case "November": month = 10; break;
                                            case "Dezember": month = 11; break;
                                        }


                                        day = parseInt(oTemp[4], 10);
                                    }
                                    //console.log("--------" + day + "." + month + 1 + "." + year + " " + hour + ":" + minute);
                                    oDate = new Date(year, month, day, hour, minute, 0, 0);
                                }
                            }
                            //console.log("-#--#---" + day + "." + month + "." + year + " " + hour + ":" + minute);

                            if (oldHour > 0) {
                                nTimeDiff = hour - oldHour;
                            }
                            //console.log("++++ timediff " + nTimeDiff);
                            oldHour = hour;

                            //console.log("### " + oDate.toLocaleString() + " = " + oDate.getTime() + " rain: " + val_rain + " temp: " + val_temp + " cloud: " + val_cloud);

                            if (!bDateNotValid) {
                                //need time in UTC
                                var date = oDate.getTime();

                                if (dateMin === -1) {
                                    dateMin = date;
                                }
                                dateMax = date;
                                //console.log(date);
                                values_rain.push([date, val_rain]);
                                values_temp.push([date, val_temp]);
                                values_cloud.push([date, val_cloud]);
                                values_chancerain.push([date, val_chancerain]);
                            }
                        }



                        //maxY += 0.1 * maxY;
                        //minY -= 0.1 * minY;

                        maxY_temp = Math.ceil((maxY_temp + 1) / 10) * 10;
                        if (minY_temp > 0) {
                            minY_temp = 0;
                        }
                        else {
                            var temp1 = Math.abs(minY_temp);

                            minY_temp = Math.ceil((temp1 + 1) / 10) * 10;
                            minY_temp = -1.0 * minY_temp;
                        }

                        console.log("maxY_temp " + data.maxY_temp);
                        if (parseInt(data.maxY_temp, 10) != 0) {
                            maxY_temp = parseInt(data.maxY_temp, 10);
                        }

                        console.log("minY_temp " + data.minY_temp);
                        if (parseInt(data.minY_temp, 10) != 0) {
                            minY_temp = parseInt(data.minY_temp, 10);
                        }


                        maxY_rain = Math.ceil((maxY_rain + 1) / 10) * 10;
                        if (maxY_rain < 10) maxY_rain = 10;

                        console.log("start with maxRain " + maxY_rain + " minRain " + minY_rain + " maxTemp " + maxY_temp + " minTemp " + minY_temp + " " + dateMin + " " + dateMax);


                        var barwidth = 0;
                        if (data.instance.indexOf("daswetter") > -1) {

                            if (nTimeDiff > 0) {
                                barwidth = 1000 * 60 * 60 * nTimeDiff;
                            }
                            else {
                                barwidth = 1000 * 60 * 60 * 1; //1h
                            }
                        }
                        else if (data.instance.indexOf("weatherunderground") > -1) {
                            barwidth = 1000 * 60 * 60 * 0.5; //0.5h
                        }
                        console.log("barwidth = " + barwidth + " with TimeDiff " + nTimeDiff + "ms"); // in ms



                        console.log("start plot (" + widgetID + ") ");



                        $.plot($div,
                            [{
                                data: data.chancerainvisible ? values_chancerain : {},
                                color: data.chanceraincolor,
                                xaxis: 1,
                                yaxis: 4,
                                label: data.chancerainname,
                                lines: { show: false },
                                points: { show: data.WithPoints },
                                bars:
                                {
                                    show: true,
                                    barWidth: [barwidth, true],
                                    align: "left", //"center",
                                    horizontal: false
                                }
                            },

                            {
                                data: data.tempvisible ? values_temp : {},
                                color: data.tempcolor,
                                xaxis: 1,
                                yaxis: 1,
                                label: data.tempname,
                                lines: { show: data.tempchartType == "line" ? true : false, fill: false },
                                points: { show: data.WithPoints },
                                bars:
                                {
                                    show: data.tempchartType == "bar" ? true : false,
                                    barWidth: [barwidth, true],
                                    align: "left", //"center",
                                    horizontal: false
                                }
                            },
                            {
                                data: data.rainvisible ? values_rain : {},
                                color: data.raincolor,
                                xaxis: 1,
                                yaxis: 2,
                                label: data.rainname,
                                lines: { show: data.rainchartType == "line" ? true : false, fill: false },
                                points: { show: data.WithPoints },
                                bars:
                                {
                                    show: data.rainchartType == "bar" ? true : false,
                                    barWidth: [barwidth, true],
                                    align: "left", //"center",
                                    horizontal: false
                                }
                            },
                            {
                                data: data.cloudsvisible ? values_cloud : {},
                                color: data.cloudcolor,
                                xaxis: 1,
                                yaxis: 3,
                                label: data.cloudsname,
                                lines: { show: data.cloudschartType == "line" ? true : false, fill: false },
                                points: { show: data.WithPoints },
                                bars:
                                {
                                    show: data.cloudschartType == "bar" ? true : false,
                                    barWidth: [barwidth, true],
                                    align: "left", //"center",
                                    horizontal: false
                                }
                            }

                            ],
                            {

                                xaxes:
                                    [{
                                        axisLabelUseCanvas: true,
                                        axisLabelColour: 'orange',

                                        show: data.withxaxix,
                                        mode: "time",
                                        timeBase: "milliseconds",
                                        tickLength: 5,

                                        min: dateMin,
                                        max: dateMax,
                                        //ticks: data.ticksonxaxix > 0 ? parseInt(data.ticksonxaxix, 10) : 5,
                                        ticks: CalcTicks4X,
                                        autoScale: "none",
                                        timeformat: data.xDateFormat,
                                        monthNames: ["Jan", "Feb", "Mar", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez"],
                                        color: data.tickscolor,
                                        tickColor: data.tickscolor,
                                        font: {
                                            size: data.LabelFontSize,
                                            lineHeight: 13,
                                            style: "normal", //"italic",
                                            weight: "bold",
                                            family: data.LabelFontFamily,
                                            variant: "small-caps",
                                            color: data.axislabelcolor,


                                        },
                                        timezone: "browser"
                                    }],

                                yaxes:

                                    //temp y-axis #1
                                    [{
                                        axisLabelUseCanvas: true,
                                        axisLabelColour: 'orange',


                                        show: (data.tempvisible && data.yTempVisible),
                                        //max: parseInt(data.maxY_temp,10) != 0 ? parseInt(data.maxY_temp, 10) : maxY_temp, //0 = default = auto determine max/min value
                                        //min: parseInt(data.minY_temp,10) != 0 ? parseInt(data.minY_temp, 10) : minY_temp,
                                        max: maxY_temp,
                                        min: minY_temp,
                                        autoScale: "none", // Available modes: "none", "loose", "exact"
                                        showTickLabels: "major",
                                        alignTicksWithAxis: 1,
                                        position: 'left',
                                        //ticks: 3,

                                        tickLength: parseFloat(data.temptickLength),            //20, // size in pixels of major tick marks
                                        showMinorTicks: data.tempshowMinorTicks,    //false, // true = show minor tick marks, false = hide minor tick marks
                                        showTicks: data.tempshowTicks,              //true, // true = show tick marks, false = hide all tick marks
                                        tickDecimals: data.temptickDecimals,        //1, // no. of decimals, null means auto
                                        tickSize: data.temptickSize,                //3, // number or [number, "unit"]
                                        minTickSize: data.tempminTickSize,          //1, // number or [number, "unit"]


                                        color: data.tempcoloraxis,
                                        tickColor: data.tempcoloraxis,

                                        labelWidth: parseFloat(data.templabelwidth),
                                        //offset: {
                                        //    below: 0,
                                        //    above: 0
                                        //},

                                        //boxPosition: {                          ////position of the axis on the corresponding axis box
                                        //    centerX: 0,
                                        //    centerY: 0
                                        //},

                                        font: {
                                            size: data.LabelFontSize,
                                            lineHeight: 13,
                                            style: "normal", //"italic",
                                            weight: "bold",
                                            family: data.LabelFontFamily,
                                            variant: "small-caps",
                                            color: data.tempcolorticklabel,
                                        },
                                        tickFormatter: degreeFormatter
                                    },

                                    //rain visible y-axis #2
                                    {
                                        axisLabelUseCanvas: true,
                                        axisLabelColour: 'orange',

                                        show: (data.rainvisible && data.yRainVisible),
                                        max: maxY_rain,
                                        min: 0,
                                        autoScale: "none", // Available modes: "none", "loose", "exact"
                                        showTickLabels: "major",
                                        alignTicksWithAxis: 2,
                                        position: 'right',
                                        //ticks: 3,

                                        tickLength: parseFloat(data.raintickLength),            //20, // size in pixels of major tick marks
                                        showMinorTicks: data.rainshowMinorTicks,    //false, // true = show minor tick marks, false = hide minor tick marks
                                        showTicks: data.rainshowTicks,              //true, // true = show tick marks, false = hide all tick marks
                                        tickDecimals: data.raintickDecimals,        //1, // no. of decimals, null means auto
                                        tickSize: data.raintickSize,                //3, // number or [number, "unit"]
                                        minTickSize: data.rainminTickSize,          //1, // number or [number, "unit"]


                                        color: data.raincoloraxis,
                                        tickColor: data.raincoloraxis,

                                        labelWidth: parseFloat(data.rainlabelwidth),
                                        //offset: {
                                        //    below: 0,
                                        //    above: 0
                                        //},

                                        //boxPosition: {                          ////position of the axis on the corresponding axis box
                                        //    centerX: 0,
                                        //    centerY: 0
                                        //},

                                        font: {
                                            size: data.LabelFontSize,
                                            lineHeight: 13,
                                            style: "normal", //"italic",
                                            weight: "bold",
                                            family: data.LabelFontFamily,
                                            variant: "small-caps",
                                            color: data.raincolorticklabel,
                                        },
                                        tickFormatter: mmFormatter
                                    },

                                    //sun-cloud y-axis
                                    {
                                        axisLabelUseCanvas: true,
                                        axisLabelColour: 'orange',

                                        show: (data.cloudsvisible && data.yCloudVisible),
                                        max: maxY_cloud,
                                        min: minY_cloud,
                                        autoScale: "none", // Available modes: "none", "loose", "exact"
                                        showTickLabels: "major",
                                        alignTicksWithAxis: 3,
                                        position: 'left',
                                        //ticks: 3,

                                        tickLength: parseFloat(data.cloudtickLength),            //20, // size in pixels of major tick marks
                                        showMinorTicks: data.cloudshowMinorTicks,    //false, // true = show minor tick marks, false = hide minor tick marks
                                        showTicks: data.cloudshowTicks,              //true, // true = show tick marks, false = hide all tick marks
                                        tickDecimals: data.cloudtickDecimals,        //1, // no. of decimals, null means auto
                                        tickSize: data.cloudtickSize,                //3, // number or [number, "unit"]
                                        minTickSize: data.cloudminTickSize,          //1, // number or [number, "unit"]

                                        color: data.cloudcoloraxis,
                                        tickColor: data.cloudcoloraxis,

                                        labelWidth: parseFloat(data.cloudslabelwidth),
                                        //offset: {
                                        //    below: 0,
                                        //    above: 0
                                        //},

                                        //boxPosition: {                          ////position of the axis on the corresponding axis box
                                        //    centerX: 0,
                                        //    centerY: 0
                                        //},

                                        font: {
                                            size: data.LabelFontSize,
                                            lineHeight: 13,
                                            style: "normal", //"italic",
                                            weight: "bold",
                                            family: data.LabelFontFamily,
                                            variant: "small-caps",
                                            color: data.cloudcolorticklabel
                                        },
                                        tickFormatter: percentageFormatter
                                    },

                                    //chance rain y-axis  #4
                                    {
                                        axisLabelUseCanvas: true,
                                        axisLabelColour: 'orange',

                                        show: (data.chancerainvisible && data.yChanceRainVisible),  //much better visible without
                                        max: 100,
                                        min: 0,
                                        autoScale: "none", // Available modes: "none", "loose", "exact"
                                        showTickLabels: "major",
                                        alignTicksWithAxis: 4,
                                        position: 'right',
                                        //ticks: 3,

                                        tickLength: parseFloat(data.chanceraintickLength),            //20, // size in pixels of major tick marks
                                        showMinorTicks: data.chancerainshowMinorTicks,    //false, // true = show minor tick marks, false = hide minor tick marks
                                        showTicks: data.chancerainshowTicks,              //true, // true = show tick marks, false = hide all tick marks
                                        tickDecimals: data.chanceraintickDecimals,        //1, // no. of decimals, null means auto
                                        tickSize: data.chanceraintickSize,                //3, // number or [number, "unit"]
                                        minTickSize: data.chancerainminTickSize,          //1, // number or [number, "unit"]


                                        color: data.chanceraincoloraxis,
                                        tickColor: data.chanceraincoloraxis,

                                        labelWidth: parseFloat(data.chancerainlabelwidth),
                                        //offset: {
                                        //    below: 0,
                                        //    above: 0
                                        //},

                                        //boxPosition: {                          ////position of the axis on the corresponding axis box
                                        //    centerX: 0,
                                        //    centerY: 0
                                        //},

                                        font: {
                                            size: data.LabelFontSize,
                                            lineHeight: 13,
                                            style: "normal", //"italic",
                                            weight: "bold",
                                            family: data.LabelFontFamily,
                                            variant: "small-caps",

                                            color: data.chanceraincolorticklabel
                                        },
                                        tickFormatter: percentageFormatter
                                    }],
                                grid:
                                {
                                    //hover
                                    hoverable: true, //to trigger plothover event on mouse hover or tap on a point
                                    clickable: true, //to trigger plotclick event on mouse hover

                                    markings: data.withmarking ? GridMarkings : null,

                                    // backgroundColor: data.nobgcolor ? null : { colors: ["#fff", "#eee"] },
                                    backgroundColor: data.nobgcolor ? null : data.bgcolor,
                                    borderWidth: parseFloat(data.borderWidth), //data.withborder,
                                    borderColor: data.bordercolor,
                                    margin: 1,
                                    /*
                                    borderWidth: {
                                        top: data.withborder ? 1 : 0,
                                        right: data.withborder ? 1 : 0,
                                        bottom: data.withborder ? 2 : 0,
                                        left: data.withborder ? 2 : 0
                                    },*/

                                },
                                legend: {
                                    show: data.withlegend,
                                    labelFormatter: legendformater,
                                    //labelBoxBorderColor: color,
                                    //noColumns: number,
                                    position: data.legendposition,
                                    //margin: number of pixels or [x margin, y margin]
                                    backgroundColor: null,
                                    backgroundOpacity: 0,
                                    container: null,
                                    sorted: false
                                },
                            }
                        );

                        //****************************************************************************************
                        //hover

                        console.log("hover start " + widgetID + " " + data.WithHOver);
                        if (data.WithHOver) {
                            console.log("hover start " + widgetID);
                            $('#' + widgetID).bind("plotclick", function (event, pos, item) {
                                console.log("clicked at " + pos.x + ", " + pos.y);
                                // axis coordinates for other axes, if present, are in pos.x2, pos.x3, ...
                                // if you need global screen coordinates, they are pos.pageX, pos.pageY

                                if (item) {

                                    let x = item.datapoint[0];
                                    let y = item.datapoint[1].toFixed(2);

                                    var xDate = new Date(x);

                                    console.log("clicked a point!" + item.series.label + " " + y + " on " + xDate.toLocaleString() + " = " + $.plot.formatDate(xDate, data.xDateFormat));

                                    let zindex = $div.css("z-index");
                                    zindex++;
                                    console.log("z-index " + zindex);

                                    //damit Tooltip in Vordergrund erscheind, muss z-index vom widget kleiner sein...

                                    $("#weathertooltip").html($.plot.formatDate(xDate, data.xDateFormat) + "<br> " + item.series.yaxis.tickFormatter(y, item.series.yaxis))
                                        .css({ top: item.pageY + 5, left: item.pageX + 5, "z-index": zindex })
                                        .fadeIn(200);

                                }
                                else {
                                    $("#weathertooltip").stop().hide();
                                }
                            });
                        }
                        //****************************************************************************************

                        
                    }
                };

                

                if (data.instance) {
                    //Umschalten wu / daswetter und auf oid zugreifen
                    var max_cnt = 0;
                    if (data.instance.indexOf("daswetter") > -1) {
                        var oid_first_date = data.oid_date;
                        //console.log("bind " + oid_first_date);
                        vis.states.bind(oid_first_date + '.val', function () {
                            update();
                        });
                        max_cnt = 40;
                    }

                    else if (data.instance.indexOf("weatherunderground") > -1) {
                        max_cnt = 36;
                    }

                    else {
                        console.log("no wether instance set in init " + data.instance);
                    }

                    if (data.instance.indexOf("weatherunderground") > -1) {
                        for (var i = 0; i < max_cnt; i++) {
                            //get chance rain oid
                            var oid_chancerain = data['oid_chancerain' + i];
                            //console.log("bind " + oid_chancerain);
                            vis.states.bind(oid_chancerain + '.val', function () {
                                update();
                            });
                        }

                    }

                    //gilt für beide nur mit unterschiedlichen grenzen
                    for (var i = 0; i < max_cnt; i++) {
                        //get rain oid
                        var oid_rain = data['oid_rain' + i];
                        //console.log("bind " + oid_rain);
                        vis.states.bind(oid_rain + '.val', function () {
                            update();
                        });
                        //get temperature oid
                        var oid_temp = data['oid_temp' + i];
                        //console.log("bind " + oid_temp);
                        vis.states.bind(oid_temp + '.val', function () {
                            update();
                        });
                        //get cloud oid
                        var oid_cloud = data['oid_cloud' + i];
                        //console.log("bind " + oid_cloud);
                        vis.states.bind(oid_cloud + '.val', function () {
                            update();
                        });
                        // get time oid
                        var oid_hour = data['oid_hour' + i];
                        //console.log("bind " + oid_hour);
                        vis.states.bind(oid_hour + '.val', function () {
                            update();
                        });
                    }

                    // update every x seconds
                    if (!vis.editMode) {
                        console.log("interval " + vis.binds.weather.setup.intervals[data.time_interval]);
                        $div.data('timer', setInterval(function () {
                            update();
                        }, parseInt(vis.binds.weather.setup.intervals[data.time_interval] / (parseInt(data.points, 10) || 10), 10)));
                    }
                }
                else {
                    console.log("instance not set ");
                }
                update();
                if (vis.editMode) {
                    console.log("flot version " + $.plot.version + " for weather");
                }
            }
        },
    };

    if (vis.editMode) {
        vis.binds.weather.onInstanceChanged = function (widgetID, view, newId, fields) {
            //we use the same callback for different changes;
            //so we need to check what have been changed...
            console.log('--------- : ' + widgetID + ' - ' + view + ' - ' + newId + ' - ' + fields);
            var instanceID = "";
            var datastructurename = "";
            if (fields == "instance") {
                instanceID = newId;
                datastructurename = vis.widgets[widgetID].data.datastructure;
                console.log('instance changed to ' + newId + ' old structure = ' + datastructurename);
            }

            else if (fields == "datastructure") {
                datastructurename = newId;
                instanceID = vis.widgets[widgetID].data.instance;
                console.log('datastructure changed to ' + newId + ' old instance = ' + instanceID);
            }



            //delete all
            vis.views[view].widgets[widgetID].data.oid_date = "";
            vis.widgets[widgetID].data.oid_date = "";

            for (var h = 0; h < 40; h++) {
                vis.views[view].widgets[widgetID].data['oid_rain' + h] = "";
                vis.widgets[widgetID].data['oid_rain' + h] = "";
                vis.views[view].widgets[widgetID].data['oid_chancerain' + h] = "";
                vis.widgets[widgetID].data['oid_chancerain' + h] = "";
                vis.views[view].widgets[widgetID].data['oid_temp' + h] = "";
                vis.widgets[widgetID].data['oid_temp' + h] = "";
                vis.views[view].widgets[widgetID].data['oid_cloud' + h] = "";
                vis.widgets[widgetID].data['oid_cloud' + h] = "";
                vis.views[view].widgets[widgetID].data['oid_hour' + h] = "";
                vis.widgets[widgetID].data['oid_hour' + h] = "";
            }

            //wu oder DasWetter (umschaltbar)

            var changed = [];
            var oid_rain = "";
            var oid_chancerain = "";
            var oid_temp = "";
            var oid_cloud = "";
            var oid_hour = "";

            if (instanceID.indexOf("daswetter") > -1) {
                var daswetterversion = 0;
                //with 1.x: daswetter.0.NextDaysDetailed.0d.date 20180524
                //with 2.x: daswetter.0.NextDaysDetailed.Location_1.Day_1.day_value 20180524
                var oid_first_date = "";
                if (vis.views[view].widgets[widgetID].data.datastructure == "NextDaysDetailed") {
                    oid_first_date = instanceID + ".NextDaysDetailed.Location_1.Day_1.day_value";
                }

                else if (vis.views[view].widgets[widgetID].data.datastructure == "NextHours") {
                    oid_first_date = instanceID + ".NextHours.Location_1.Day_1.day_value";
                }

                else if (vis.views[view].widgets[widgetID].data.datastructure == "NextHours2") {
                    oid_first_date = instanceID + ".NextHours2.Location_1.Day_1.date";
                }


                if (vis.objects[oid_first_date]) {
                    daswetterversion = 2;
                    console.log("using new data structure with DasWetter");
                }

                else {
                    oid_first_date = instanceID + ".NextDaysDetailed.0d.date";
                    if (vis.objects[oid_first_date]) {
                        daswetterversion = 1;
                        console.log("using old data structure with DasWetter");
                    }

                }

                //which datastructure
                console.log("datastructure is " + vis.views[view].widgets[widgetID].data.datastructure);


                if (vis.objects[oid_first_date]) {
                    //console.log(oid_first_date + " updated ");
                    vis.views[view].widgets[widgetID].data.oid_date = oid_first_date;
                    vis.widgets[widgetID].data.oid_date = oid_first_date;
                }

                var cnt = 0;
                var max_days = 5;
                var max_periods = 8;


                //we only have 40 OID'S!!!
                if (daswetterversion == 2) {
                    if (vis.views[view].widgets[widgetID].data.datastructure == "NextDaysDetailed") {
                        max_days = 5;
                        max_periods = 8;
                    }

                    else if (vis.views[view].widgets[widgetID].data.datastructure == "NextHours") {
                        max_days = 5;
                        max_periods = 24;
                    }

                    else if (vis.views[view].widgets[widgetID].data.datastructure == "NextHours2") {
                        max_days = 5;
                        max_periods = 8;
                    }

                }


                for (var d = 0; d < max_days; d++) {
                    for (var p = 0; p < max_periods; p++) {
                        //get rain oid

                        if (daswetterversion == 1) {
                            oid_rain = instanceID + ".NextDaysDetailed." + d + "d." + p + "h.Rain";
                            //get temperature oid
                            oid_temp = instanceID + ".NextDaysDetailed." + d + "d." + p + "h.Temperature";
                            //get cloud oid
                            oid_cloud = instanceID + ".NextDaysDetailed." + d + "d." + p + "h.Clouds";
                            // get time oid
                            oid_hour = instanceID + ".NextDaysDetailed." + d + "d." + p + "h.hour";
                        }
                        else if (daswetterversion == 2) {
                            //daswetter.0.NextDaysDetailed.Location_1.Day_1.Hour_1.rain.value
                            var dd = d + 1;
                            var pp = p + 1;
                            //NextDaysDetailed,NextHours,NextHours2
                            if (datastructurename == "NextDaysDetailed") {
                                //daswetter.0.NextDaysDetailed.Location_1.Day_1.Hour_1.rain_value
                                oid_rain = instanceID + ".NextDaysDetailed.Location_1.Day_" + dd + ".Hour_" + pp + ".rain_value";
                                //get temperature oid
                                oid_temp = instanceID + ".NextDaysDetailed.Location_1.Day_" + dd + ".Hour_" + pp + ".temp_value";
                                //get cloud oid
                                oid_cloud = instanceID + ".NextDaysDetailed.Location_1.Day_" + dd + ".Hour_" + pp + ".clouds_value";
                                // get time oid
                                oid_hour = instanceID + ".NextDaysDetailed.Location_1.Day_" + dd + ".Hour_" + pp + ".hour_value";
                            }

                            else if (datastructurename == "NextHours") {
                                //daswetter.0.NextHours.Location_1.Day_1.Hour_1.rain_value
                                oid_rain = instanceID + ".NextHours.Location_1.Day_" + dd + ".Hour_" + pp + ".rain_value";
                                //get temperature oid //daswetter.0.NextHours.Location_1.Day_1.Hour_1.temp_value
                                oid_temp = instanceID + ".NextHours.Location_1.Day_" + dd + ".Hour_" + pp + ".temp_value";
                                //get cloud oid //daswetter.0.NextHours.Location_1.Day_1.Hour_1.clouds_value
                                oid_cloud = instanceID + ".NextHours.Location_1.Day_" + dd + ".Hour_" + pp + ".clouds_value";
                                // get time oid //daswetter.0.NextHours.Location_1.Day_1.Hour_1.hour_value
                                oid_hour = instanceID + ".NextHours.Location_1.Day_" + dd + ".Hour_" + pp + ".hour_value";
                            }

                            else if (datastructurename == "NextHours2") {
                                //daswetter.0.NextHours2.Location_1.Day_1.Hour_1.rain
                                oid_rain = instanceID + ".NextHours2.Location_1.Day_" + dd + ".Hour_" + pp + ".rain";
                                //get temperature oid //daswetter.0.NextHours2.Location_1.Day_1.Hour_1.temp
                                oid_temp = instanceID + ".NextHours2.Location_1.Day_" + dd + ".Hour_" + pp + ".temp";
                                //get cloud oid //daswetter.0.NextHours2.Location_1.Day_1.Hour_1.clouds
                                oid_cloud = instanceID + ".NextHours2.Location_1.Day_" + dd + ".Hour_" + pp + ".clouds";
                                // get time oid //daswetter.0.NextHours2.Location_1.Day_1.Hour_1.hour
                                oid_hour = instanceID + ".NextHours2.Location_1.Day_" + dd + ".Hour_" + pp + ".hour";
                            }

                        }

                        else {
                            console.log("could not define which version to use with DasWetter");
                        }

                        if (vis.objects[oid_rain]) {
                            //console.log(oid_rain + " updated ");
                            vis.views[view].widgets[widgetID].data['oid_rain' + cnt] = oid_rain;
                            vis.widgets[widgetID].data['oid_rain' + cnt] = oid_rain;
                        }

                        if (vis.objects[oid_temp]) {
                            //console.log(oid_temp + " updated ");
                            vis.views[view].widgets[widgetID].data['oid_temp' + cnt] = oid_temp;
                            vis.widgets[widgetID].data['oid_temp' + cnt] = oid_temp;
                        }

                        if (vis.objects[oid_cloud]) {
                            //console.log(oid_cloud + " updated ");
                            vis.views[view].widgets[widgetID].data['oid_cloud' + cnt] = oid_cloud;
                            vis.widgets[widgetID].data['oid_cloud' + cnt] = oid_cloud;
                        }

                        if (vis.objects[oid_hour]) {
                            //console.log(oid_hour + " updated ");
                            vis.views[view].widgets[widgetID].data['oid_hour' + cnt] = oid_hour;
                            vis.widgets[widgetID].data['oid_hour' + cnt] = oid_hour;
                        }

                        cnt++;
                        if (cnt >= 40) {
                            console.log("OID limit reached");
                            break;
                        }

                    }
                }
            }

            else if (instanceID.indexOf("weatherunderground") > -1) {
                vis.views[view].widgets[widgetID].data.datastructure = "";
                vis.widgets[widgetID].data.datastructure = "";
                var wuversion = 0;
                //weatherunderground.0.forecastHourly.0h.time
                var oid_version_check = instanceID + ".forecastHourly.0h.time";
                if (vis.objects[oid_version_check]) {
                    wuversion = 2;
                    console.log("using new data structure with WU");
                }

                else {
                    //weatherunderground.0.forecast.0h.time
                    oid_version_check = instanceID + ".forecast.0h.time";
                    if (vis.objects[oid_version_check]) {
                        wuversion = 1;
                        console.log("using old data structure with WU");
                    }

                }



                for (var h = 0; h < 36; h++) {
                    if (wuversion == 1) {
                        //get rain oid weatherunderground.0.forecast.0h.qpf
                        oid_rain = instanceID + ".forecast." + h + "h.qpf";
                        //get rain oid weatherunderground.0.forecast.0h.qpf
                        oid_chancerain = instanceID + ".forecast." + h + "h.pop";
                        //get temperature oid weatherunderground.0.forecast.0h.temp
                        oid_temp = instanceID + ".forecast." + h + "h.temp";
                        //get cloud oid weatherunderground.0.forecast.0h.sky
                        oid_cloud = instanceID + ".forecast." + h + "h.sky";
                        // get time oid
                        oid_hour = instanceID + ".forecast." + h + "h.time";
                    }

                    else if (wuversion == 2) {
                        //get rain oid weatherunderground.0.forecastHourly.0h.precipitation
                        oid_rain = instanceID + ".forecastHourly." + h + "h.precipitation";
                        //get rain oid weatherunderground.0.forecastHourly.0h.precipitationChance
                        oid_chancerain = instanceID + ".forecastHourly." + h + "h.precipitationChance";
                        //get temperature oid weatherunderground.0.forecastHourly.0h.temp
                        oid_temp = instanceID + ".forecastHourly." + h + "h.temp";
                        //get cloud oid weatherunderground.0.forecastHourly.0h.sky
                        oid_cloud = instanceID + ".forecastHourly." + h + "h.sky";
                        // get time oid weatherunderground.0.forecastHourly.0h.time
                        oid_hour = instanceID + ".forecastHourly." + h + "h.time";
                    }

                    else {
                        console.log("could not define which version to use with WU");
                    }

                    if (vis.objects[oid_rain]) {
                        //console.log(oid_rain + " updated ");
                        vis.views[view].widgets[widgetID].data['oid_rain' + h] = oid_rain;
                        vis.widgets[widgetID].data['oid_rain' + h] = oid_rain;
                    }

                    else {
                        //console.log("wrong version of weatherunderground? >1.0.5?");
                    }

                    if (vis.objects[oid_chancerain]) {
                        //console.log(oid_chancerain + " updated ");
                        vis.views[view].widgets[widgetID].data['oid_chancerain' + h] = oid_chancerain;
                        vis.widgets[widgetID].data['oid_chancerain' + h] = oid_rain;
                    }

                    if (vis.objects[oid_temp]) {
                        //console.log(oid_temp + " updated ");
                        vis.views[view].widgets[widgetID].data['oid_temp' + h] = oid_temp;
                        vis.widgets[widgetID].data['oid_temp' + h] = oid_temp;
                    }

                    if (vis.objects[oid_cloud]) {
                        //console.log(oid_cloud + " updated ");
                        vis.views[view].widgets[widgetID].data['oid_cloud' + h] = oid_cloud;
                        vis.widgets[widgetID].data['oid_cloud' + h] = oid_cloud;
                    }

                    if (vis.objects[oid_hour]) {
                        //console.log(oid_hour + " updated ");
                        vis.views[view].widgets[widgetID].data['oid_hour' + h] = oid_hour;
                        vis.widgets[widgetID].data['oid_hour' + h] = oid_hour;
                    }

                }
            }

            else {
                //ja was nun? do nothing
                console.log(" no weather instance set ");
            }

            return changed;
        }
    }

    vis.binds.weather.showVersion();

</script>



<script id="tplWeatherShowInstance" type="text/ejs" class="vis-tpl" data-vis-set="weather" data-vis-name="Weather" data-vis-beta="false" data-vis-type="weather" data-vis-update-style="true" data-vis-prev="&lt;img src=&quot;widgets/weather/img/Prev_tplWeather.png&quot;&gt;&lt;/img&gt;" data-vis-attrs="instance/weather/onInstanceChanged;" data-vis-attrs0="time_interval[30 minutes]/select,1 second,10 seconds,30 seconds,1 minute,2 minutes,5 minutes,10 minutes,30 minutes,1 hour,2 hours,4 hours,8 hours,12 hours,24 hours;" data-vis-attrs1="datastructure[NextDaysDetailed]/select,NextDaysDetailed,NextHours,NextHours2/onInstanceChanged;WithHOver[true]/checkbox;WithPoints[true]/checkbox;" data-vis-attrs2="withxaxix[true]/checkbox;axislabelcolor[#39e00b]/color;tickscolor[#ffffff]/color;LabelFontSize[8];LabelFontFamily[Arial]/fontname;withmarking[true]/checkbox;markingcolor[#eaebe5]/color;xDateFormat[%d.%b %H:%M];borderWidth[1];bordercolor[#000000]/color;nobgcolor[true]/checkbox;bgcolor[#FFFFFF]/color;withlegend[false]/checkbox;legendposition[ne]/select,ne,nw,se,sw;" data-vis-attrs3="group.rain;rainvisible[true]/checkbox;rainchartType[bar]/select,line,bar;rainname[rain];raincolor[#1d0ed8]/color;raincoloraxis[#1d0ed8]/color;raincolorticklabel[#1d0ed8]/color;yRainVisible[true]/checkbox;raintickLength[5];rainshowMinorTicks[true]/checkbox;rainshowTicks[true]/checkbox;raintickDecimals[1];raintickSize[3];rainminTickSize[2];rainlabelwidth[30];" data-vis-attrs4="group.chancerain;chancerainvisible[true]/checkbox;chancerainname[chance rain];chanceraincolor[#877efc]/color;chanceraincoloraxis[#1d0ed8]/color;chanceraincolorticklabel[#1d0ed8]/color;yChanceRainVisible[true]/checkbox;chanceraintickLength[5];chancerainshowMinorTicks[true]/checkbox;chancerainshowTicks[true]/checkbox;chanceraintickDecimals[1];chanceraintickSize[3];chancerainminTickSize[2];chancerainlabelwidth[30];" data-vis-attrs5="group.temperature;tempvisible[true]/checkbox;tempchartType[line]/select,line,bar;tempname[temperature];tempcolor[#00b3ac]/color;tempcoloraxis[#1d0ed8]/color;tempcolorticklabel[#1d0ed8]/color;maxY_temp[0];minY_temp[0];yTempVisible[true]/checkbox;temptickLength[5];tempshowMinorTicks[true]/checkbox;tempshowTicks[true]/checkbox;temptickDecimals[1];temptickSize[3];tempminTickSize[2];templabelwidth[30];" data-vis-attrs6="group.clouds;cloudsvisible/checkbox;cloudschartType[bar]/select,line,bar;cloudsname[clouds]; sunorcloud[sun]/select,sun,clouds;cloudcolor[#f6ef3c]/color;cloudcoloraxis[#1d0ed8]/color;cloudcolorticklabel[#1d0ed8]/color;yCloudVisible[true]/checkbox;cloudtickLength[5];cloudshowMinorTicks[true]/checkbox;cloudshowTicks[true]/checkbox;cloudtickDecimals[1];cloudtickSize[3];cloudminTickSize[2];cloudslabelwidth[30];" data-vis-attrs7="group.oids;oid_rain(0-39)/id;oid_chancerain(0-39)/id;oid_temp(0-39)/id;oid_cloud(0-39)/id;oid_hour(0-39)/id;" data-vis-attrs8="oid_date/id;">


    <div class="vis-widget <%== this.data.attr('class') %>" style="overflow: hidden; width: 210px; height: 170px; " id="<%= this.data.attr('wid') %>">
        <div class="vis-weather-widget-body">
            <% vis.binds.weather.tempandrain.init(this.data.wid, this.view, this.data, this.style); %>
        </div>

    </div>

</script>



<!-- --------------weather.html--- END -->

<!-- ---------------------------------------  DO NOT EDIT INSIDE THIS LINE - END   ------------------------------------------- -->


<div id="vis_container" style="position: absolute; top: 0; left: 0; height: 100%; width: 100%"><div style="font-size: 16px; width: 100%; height: 1080px;" id="visview_TeploLich" data-view="TeploLich" class="vis-view  hq-background-blue-marine"><div class="vis-view-disabled" style="display: none"></div>
    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 90px; height: 48px; border-radius: 64px; left: 147px; top: 1010px; z-index: 1; font-size: medium; opacity: 0;" id="w00429_Termoregultatory"><div class="vis-hq-leftinfo" style="padding-left: 12px; padding-right: 47px; font-size: 13px; background: rgb(237, 235, 233); right: 45px;"><span class="vis-hq-leftinfo-text">За&nbsp;вікном</span></div>
<div class="vis-hq-rightinfo" style="padding-right: 29px; font-size: 13px; background: rgb(237, 235, 233); padding-left: 85px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute;top:55%;left:25%"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 293px; height: 116px; border: 1px none rgb(136, 136, 136); left: 40.9453px; top: 172.992px; background-color: rgb(228, 251, 251); z-index: 1;" id="w00001">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 176.039px; left: 250.852px; width: 80px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); z-index: 2; color: rgb(225, 9, 9); font-style: normal;" id="w00017">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P9">
                13
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 198.07px; left: 250.852px; width: 81px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); z-index: 2; color: rgb(10, 61, 235);" id="w00023">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P11">
                25.12
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 220.148px; left: 250.852px; width: 81px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); z-index: 2; color: rgb(97, 99, 90);" id="w00051">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterKotel.RozhidZa1hv">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 242.109px; left: 250.852px; width: 83px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); z-index: 2; font-weight: normal; color: rgb(7, 159, 24);" id="w00052">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterKotel.TeplovaPotuzhnist">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 311px; height: 279px; border: 3px solid rgb(167, 155, 134); left: 672.914px; top: 130.969px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: large; opacity: 0.9; z-index: 0;" id="w00055">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 8px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">Сауна ГК</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 297px; height: 114px; border: 1px none rgb(136, 136, 136); left: 684.047px; top: 176.039px; background: rgb(228, 251, 251); z-index: 0;" id="w00084">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 176.039px; left: 889.875px; width: 89px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(255, 10, 10); z-index: 1;" id="w00085">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegaESP-37.Tinput_teplonosiya">
                19.1
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 198.07px; left: 889.875px; width: 89px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(10, 115, 235); z-index: 1;" id="w00086">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegaESP-37.Toutput_teplonosiya">
                16.8
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 220.148px; left: 889.875px; width: 89px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(97, 99, 90); z-index: 1;" id="w00108">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterSauna.RozhidZa1hv">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 243.141px; left: 889.875px; width: 89px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); z-index: 1; color: rgb(7, 159, 24); font-weight: normal;" id="w00109">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterSauna.TeplovaPotuzhnist">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 315px; height: 279px; border: 3px solid rgb(167, 155, 134); left: 350.883px; top: 130.969px; border-radius: 10px; background-color: rgb(235, 226, 203); text-align: center; font-family: StalinistOne-Regular; font-size: large; font-style: italic; opacity: 0.9; z-index: 0;" id="w00110">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 8px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">Дім</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 297px; height: 114px; border: 1px none rgb(136, 136, 136); left: 362.953px; top: 176.039px; z-index: 0; border-radius: 5px;" id="w00161">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 176.039px; left: 568.969px; width: 87px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(225, 9, 9); z-index: 1;" id="w00162">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P1">
                14.44
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 198.07px; left: 568.969px; width: 87px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(10, 115, 235); z-index: 1;" id="w00163">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P5">
                14.94
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 220.148px; left: 568.969px; width: 87px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(97, 99, 90); z-index: 1;" id="w00166">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterDim.RozhidZa1hv">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 243.141px; left: 568.969px; width: 87px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); z-index: 1; color: rgb(7, 159, 24); font-weight: normal;" id="w00171">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterDim.TeplovaPotuzhnist">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 264.117px; left: 250.852px; width: 89px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; z-index: 4;" id="w00186">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterKotel.CountTeplFrom1Hour">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 265.219px; left: 568.969px; width: 87px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; line-height: 1.5; text-align: center; background-color: rgb(228, 251, 251); color: rgb(97, 99, 90); font-style: normal; font-weight: normal; z-index: 3;" id="w00188">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterDim.CountTeplFrom1Hour">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 265.219px; left: 889.875px; width: 89px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(228, 251, 251); color: rgb(97, 99, 90); font-style: normal; font-weight: normal; z-index: 1;" id="w00193">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterSauna.CountTeplFrom1Hour">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 314px; height: 279px; border: 3px solid rgb(167, 155, 134); left: 27.9609px; top: 130.969px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: large; z-index: 0;" id="w00216">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 8px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">Котел</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 21px; height: 21px; border-radius: 64px; left: 953px; top: 142px; z-index: 3; background-color: rgb(228, 251, 251);" id="w00433"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 10.5px; top: 10.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 22px; height: 23px; border-radius: 64px; left: 633px; top: 142px; z-index: 3;" id="w00455"><div class="vis-hq-main hq-button-green-normal" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 22px; height: 23px; border-radius: 64px; left: 311px; top: 143px; z-index: 3;" id="w00525"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 286.266px; left: 683.859px; width: 297px; height: 117px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0); font-size: small; z-index: 1;" id="w00526">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index.html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 285.234px; left: 360.914px; width: 299px; height: 119px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px;" id="w00561">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index(1).html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 287.18px; left: 40.9453px; width: 300px; height: 102px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px; z-index: -1; opacity: 0.6;" id="w00562">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index(2).html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 21px; border: 1px none rgb(136, 136, 136); left: 59.8828px; top: 176.039px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00563">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> виходу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 43.9219px; top: 176.039px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00564">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 208.898px; top: 176.039px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: -1; font-style: normal;" id="w00565">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 43.9219px; top: 198.07px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00566">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 21px; border: 1px none rgb(136, 136, 136); left: 59.8828px; top: 198.07px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00567">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> входу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 208.898px; top: 198.07px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00568">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 43.9219px; top: 220.148px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00569">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">Q</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 21px; border: 1px none rgb(136, 136, 136); left: 59.8828px; top: 220.148px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00570">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">розхід теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 208.898px; top: 220.148px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00571">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">l/min</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 21px; border: 1px none rgb(136, 136, 136); left: 59.8828px; top: 242.109px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00572">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">миттєва потужність ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 43.9219px; top: 242.109px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00573">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 208.898px; top: 242.109px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00574">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 20px; border: 1px none rgb(136, 136, 136); left: 59.8828px; top: 264.117px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 0;" id="w00575">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">зген.за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 20px; border: 1px none rgb(136, 136, 136); left: 43.9219px; top: 264.117px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00583">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 44px; height: 20px; border: 1px none rgb(136, 136, 136); left: 208.898px; top: 264.117px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00589">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 177.023px; font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00590">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 379.852px; top: 177.023px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00591">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> входу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 177.023px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00592">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 199.102px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00593">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 221.109px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00594">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">l/min</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 243.141px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00597">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 44px; height: 20px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 265.219px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00603">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 20px; border: 1px none rgb(136, 136, 136); left: 379.852px; top: 265.219px; font-style: normal; font-variant: inherit; font-weight: normal; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00621">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">спож.за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 20px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 265.219px; font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00622">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 243.141px; font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00623">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 379.852px; top: 243.141px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00624">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">миттєва потужність ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 379.852px; top: 221.109px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00625">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">розхід теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 221.109px; font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00626">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">Q</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 21px; height: 21px; border: 1px none rgb(136, 136, 136); left: 362.953px; top: 198.07px; font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00627">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 377px; top: 199px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00628">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> виходу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 175.008px; font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00629">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 175.008px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00630">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> входу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 175.008px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00631">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 197.086px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00632">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 219.094px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00633">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">l/min</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 241.125px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00634">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 45px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 263.156px; font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal; background-color: rgb(228, 251, 251);" id="w00635">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 263.156px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00636">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">спож.за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 263.156px; font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00637">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 241.125px; font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00638">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 241.125px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00639">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">миттєва потужність ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 219.094px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00640">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">розхід теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 219.094px; font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00641">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">Q</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 197.086px; font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold; background-color: rgb(228, 251, 251);" id="w00642">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 197.086px; font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1; background-color: rgb(228, 251, 251);" id="w00643">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> виходу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 147px; height: 20px; border: 1px none rgb(136, 136, 136); left: 61.9219px; top: 264.117px; background: rgb(228, 251, 251); font-style: normal; font-variant: inherit; font-weight: normal; font-size: small; z-index: 1;" id="w00644">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">зген..за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 285.234px; left: 40.0078px; width: 296px; height: 119px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px; z-index: 2;" id="w00645">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index(3).html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 21px; border: 1px none rgb(136, 136, 136); left: 206.859px; top: 176.039px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00646">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 296px; height: 230px; border: 2px solid rgb(192, 182, 175); left: 39px; top: 174px; z-index: 3; border-radius: 6px;" id="w00647">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 296px; height: 230px; border: 2px solid rgb(192, 182, 175); left: 362px; top: 177px; z-index: 3; border-radius: 6px;" id="w00648">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 297px; height: 108px; border: 1px none rgb(136, 136, 136); left: 362.953px; top: 179.016px; background-color: rgb(228, 251, 251); z-index: 0;" id="w00649">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 295px; height: 230px; border: 2px solid rgb(192, 182, 175); left: 687px; top: 174px; z-index: 2; border-radius: 6px;" id="w00650">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 38px; height: 21px; border-radius: 64px; left: 255.867px; top: 144.984px; z-index: 4;" id="w00651"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12.5px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 21px; border-radius: 64px; left: 578.812px; top: 144.984px; z-index: 4;" id="w00652"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 38px; height: 21px; border-radius: 64px; left: 900.82px; top: 144.984px; z-index: 4;" id="w00653"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12.5px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 296px; height: 117px; border: 1px none rgb(136, 136, 136); left: 40.9453px; top: 467.555px; background: rgb(228, 251, 251); z-index: 1;" id="w00654">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 470.555px; left: 249px; width: 90px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; color: rgb(235, 32, 10);" id="w00655">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P13">
                100
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 492.562px; left: 249px; width: 90px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; color: rgb(9, 20, 225);" id="w00656">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P7">
                15.06
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 514.641px; left: 249px; width: 90px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; color: rgb(97, 99, 90);" id="w00657">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterSK.RozhidZa1hv">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 537.656px; left: 249px; width: 90px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 1; font-weight: normal; color: rgb(7, 159, 24);" id="w00658">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterSK.TeplovaPotuzhnist">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 296px; height: 117px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 467.555px; background: rgb(228, 251, 251); z-index: 1;" id="w00659">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 470.555px; left: 569.906px; width: 90px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; color: rgb(255, 10, 10);" id="w00660">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P10">
                14.94
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 492.562px; left: 569.906px; width: 90px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; color: rgb(10, 115, 235);" id="w00661">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P12">
                15
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 514.641px; left: 569.906px; width: 90px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; color: rgb(97, 99, 90);" id="w00662">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterTO_SK-BA.RozhidZa1hv">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 537.656px; left: 569.906px; width: 90px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 2; font-weight: normal; color: rgb(7, 159, 24);" id="w00663">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterTO_SK-BA.TeplovaPotuzhnist">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 559px; left: 247px; width: 89px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); color: rgb(97, 99, 90); font-style: normal; font-weight: normal; z-index: 3;" id="w00664">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterSK.CountTeplFrom1Hour">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 560.695px; left: 568.969px; width: 89px; height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); color: rgb(97, 99, 90); font-style: normal; font-weight: normal; z-index: 3;" id="w00665">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterTO_SK-BA.CountTeplFrom1Hour">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 314px; height: 282px; border: 3px solid rgb(167, 155, 134); left: 352.008px; top: 423.445px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: left; font-style: italic; font-size: small; opacity: 0.9; line-height: 2.5;" id="w00666">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 8px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ТO     СК-БА</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 312px; height: 282px; border: 3px solid rgb(167, 155, 134); left: 28.875px; top: 423.445px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00667">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 8px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">Сонячний кол-р.</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 313.031px; top: 436.5px;" id="w00668"><div class="vis-hq-main hq-button-green-normal" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 24px; height: 23px; border-radius: 64px; left: 634.852px; top: 436.5px; z-index: 3;" id="w00669"><div class="vis-hq-main hq-button-green-normal" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 311px; height: 282px; border: 3px solid rgb(167, 155, 134); left: 674.016px; top: 423.445px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0;" id="w00670">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 13px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">Акумулятор</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 297px; height: 117px; border: 0px solid rgb(136, 136, 136); left: 684.961px; top: 467.555px; background: rgb(228, 251, 251); z-index: 0;" id="w00671">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 470.555px; left: 888.938px; width: 89px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); color: rgb(255, 10, 10);" id="w00672">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P8">
                14.38
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 492.562px; left: 888.938px; width: 89px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); color: rgb(10, 115, 235);" id="w00673">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P3">
                13.13
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 514.641px; left: 888.938px; width: 89px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); font-weight: normal; color: rgb(10, 167, 20);" id="w00674">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterBA.BalanceTeplPot">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 537.656px; left: 888.938px; width: 89px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); z-index: 1; color: rgb(3, 3, 3); font-style: normal; font-weight: bold;" id="w00675">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterBA.BalanctZa1hv">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 559.734px; left: 886.898px; width: 87px; height: 20px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background: rgb(228, 251, 251); color: rgb(97, 99, 90); font-style: normal; font-weight: normal; z-index: 3;" id="w00676">
        <div class="vis-widget-body">
            <div data-oid="admin.0.HeatCounterBA.CountBalTeplFrom1Hour">
                0
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 24px; height: 23px; border-radius: 64px; left: 954.82px; top: 436.5px; z-index: 3;" id="w00679"><div class="vis-hq-main hq-button-green-normal" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 585px; left: 40px; width: 297px; height: 116px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px;" id="w00680">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index(4).html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 580.711px; left: 363.891px; width: 296px; height: 116px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px;" id="w00684">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index(5).html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 580.711px; left: 684.961px; width: 296px; height: 116px; border-style: none; border-color: rgb(130, 131, 129); border-width: 1px; z-index: 1;" id="w00685">
        <div class="vis-widget-body">
            
            <iframe src="./vis_files/index(6).html" sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 41.8594px; top: 470.555px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00686">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 58px; top: 491px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00687">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> входу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 21px; border: 1px none rgb(136, 136, 136); left: 206.859px; top: 470.555px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00688">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 20px; border: 1px none rgb(136, 136, 136); left: 206.859px; top: 492.562px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00689">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 20px; border: 1px none rgb(136, 136, 136); left: 206.859px; top: 514.641px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00690">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">l/min</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 21px; border: 1px none rgb(136, 136, 136); left: 206.859px; top: 536.672px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00691">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 45px; height: 21px; border: 1px none rgb(136, 136, 136); left: 206.859px; top: 558.703px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00692">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 58.0078px; top: 558.703px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00693">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">зген.за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 41.8594px; top: 558.703px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00694">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 21px; border: 1px none rgb(136, 136, 136); left: 41.8594px; top: 536.672px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00695">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 21px; border: 1px none rgb(136, 136, 136); left: 58.0078px; top: 536.672px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00696">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">миттєва потужність ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 20px; border: 1px none rgb(136, 136, 136); left: 58.0078px; top: 514.641px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00697">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">розхід теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 20px; border: 1px none rgb(136, 136, 136); left: 41.8594px; top: 514.641px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00698">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">Q</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 18px; height: 20px; border: 1px none rgb(136, 136, 136); left: 41.8594px; top: 492.562px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00699">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 149px; height: 20px; border: 1px none rgb(136, 136, 136); left: 59px; top: 469px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00700">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> виходу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 20px; height: 21px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 471.516px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00706">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 21px; border: 1px none rgb(136, 136, 136); left: 380.039px; top: 471.516px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00719">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> виходу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 21px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 471.516px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00720">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 20px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 493.547px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00726">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 21px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 515.625px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00727">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">l/min</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 48px; height: 20px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 537.656px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00728">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 45px; height: 20px; border: 1px none rgb(136, 136, 136); left: 528.891px; top: 559.734px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00729">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 20px; border: 1px none rgb(136, 136, 136); left: 380.039px; top: 559.734px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00730">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">спож.за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 20px; height: 20px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 559.734px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00731">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 20px; height: 20px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 537.656px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00732">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 20px; border: 1px none rgb(136, 136, 136); left: 380.039px; top: 537.656px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00733">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">миттєва потужність ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 21px; border: 1px none rgb(136, 136, 136); left: 380.039px; top: 515.625px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00734">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">розхід теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 20px; height: 21px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 515.625px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00735">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">Q</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 20px; height: 20px; border: 1px none rgb(136, 136, 136); left: 363.891px; top: 493.547px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00736">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 150px; height: 20px; border: 1px none rgb(136, 136, 136); left: 380.039px; top: 493.547px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00737">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;"> входу теплоносія ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 470.555px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00738">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 470.555px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00739">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">верху БА ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 470.555px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00740">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 20px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 492.562px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00741">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">°C</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 20px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 514.641px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00742">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 47px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 536.672px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00743">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 45px; height: 21px; border: 1px none rgb(136, 136, 136); left: 847.922px; top: 558.703px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: small; z-index: 1; font-style: normal;" id="w00744">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: black;">kWt</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 558.703px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00745">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">акум.за минулу годину ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 558.703px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00746">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 21px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 536.672px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00747">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">P</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 21px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 536.672px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00748">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">мит. акум. потужність ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 20px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 514.641px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00749">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">баланс тепла ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 20px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 514.641px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: medium; z-index: 1; font-style: italic; font-weight: bold;" id="w00750">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 2px; color: black;">В</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 17px; height: 20px; border: 1px none rgb(136, 136, 136); left: 682.922px; top: 492.562px; background: rgb(228, 251, 251); font-family: Verdana, Geneva, sans-serif; font-size: large; z-index: 1; font-style: italic; font-weight: bold;" id="w00751">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -1px; left: 4px; color: black;">t</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 153px; height: 20px; border: 1px none rgb(136, 136, 136); left: 698.883px; top: 492.562px; background: rgb(228, 251, 251); font-style: normal; font-variant: initial; font-weight: lighter; font-size: small; z-index: 1;" id="w00752">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 6px; left: 1px; color: black;">низу БА ,</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 298px; height: 235px; border: 2px solid rgb(192, 182, 175); left: 37px; top: 465px; z-index: 2; border-radius: 6px;" id="w00753">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 296px; height: 235px; border: 2px solid rgb(192, 182, 175); left: 365px; top: 463px; z-index: 2; border-radius: 6px;" id="w00754">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 295px; height: 227px; border: 2px solid rgb(192, 182, 175); left: 683px; top: 467px; z-index: 2; border-radius: 6px;" id="w00755">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 36px; height: 21px; border-radius: 64px; left: 256.805px; top: 437.484px; z-index: 4;" id="w00756"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 23px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 21px; border-radius: 64px; left: 579.914px; top: 437.484px; z-index: 4;" id="w00757"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 36px; height: 21px; border-radius: 64px; left: 901.945px; top: 437.484px; z-index: 4;" id="w00758"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 23px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1028.88px; top: 262.219px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00759" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00759_radio" data-oid="admin.0.MegadEsp40.MegadESP_sp_Kava.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00759_radio0" name="w00759_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00759_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00759_radio1" name="w00759_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00759_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00759_radio2" name="w00759_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00759_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00759_radio3" name="w00759_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00759_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 180.07px; left: 1092.91px; width: 120px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00760">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.1.sensors.onewire.t_spkava">
                21.1
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 244px; height: 88px; border: 1px solid rgb(169, 157, 132); left: 1032.96px; top: 165px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00761">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 219.094px; left: 1218.94px; width: 39px; height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00762">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegadESP_sp_Kava.Termoregulyator.T_zavd">
                20.7
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 259px; height: 166px; border: 1px solid rgb(98, 99, 100); left: 1022.02px; top: 133.945px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00763">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Спальня Кава</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 36px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1218.94px; top: 177.07px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00764">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.1.ports.p1.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00765" style="width: 56px; height: 57px; left: 1030.92px; top: 184.078px; z-index: 3;" data-read-only="" data-min="0" data-max="1" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1028.88px; top: 465.539px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00766" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00766_radio" data-oid="admin.0.MegadEsp40.MegaESP_Koridor.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00766_radio0" name="w00766_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00766_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00766_radio1" name="w00766_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00766_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00766_radio2" name="w00766_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00766_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00766_radio3" name="w00766_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00766_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 382.406px; left: 1094.04px; width: 117px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00767">
        <div class="vis-widget-body">
            <div data-oid="megad.3.p3_P3_">
                20.3
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 91px; border: 1px solid rgb(169, 157, 132); left: 1032.96px; top: 367.383px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00768">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 421.5px; left: 1218.94px; width: 41px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00769">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegaESP_Koridor.Termoregulyator.T_zavd">
                20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 166px; border: 1px solid rgb(98, 99, 100); left: 1022.95px; top: 337.312px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00770">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0);">Коридор</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 38px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1218.94px; top: 379.406px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00771">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.8.ports.p2.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00772" style="width: 56px; height: 57px; left: 1030.92px; top: 386.438px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1028.88px; top: 666.914px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00773" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00773_radio" data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_prim.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00773_radio0" name="w00773_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00773_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00773_radio1" name="w00773_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00773_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00773_radio2" name="w00773_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00773_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00773_radio3" name="w00773_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00773_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 583.758px; left: 1094.04px; width: 117px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00774">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegaESP-53.BMP180.Temperature">
                20.1
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 90px; border: 1px solid rgb(169, 157, 132); left: 1032.96px; top: 568.758px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00775">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 622.805px; left: 1218.94px; width: 41px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00776">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_prim.T_zavd">
                20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 168px; border: 1px solid rgb(98, 99, 100); left: 1022.95px; top: 538.688px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00777">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Підвал</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 38px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1218.94px; top: 580.781px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00778">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megad.3.p10_P10" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00779" style="width: 56px; height: 57px; left: 1030.92px; top: 587.742px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1329px; top: 666.914px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00780" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00780_radio" data-oid="admin.0.MegadEsp40.MegaESP_Kabinet.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00780_radio0" name="w00780_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00780_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00780_radio1" name="w00780_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00780_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00780_radio2" name="w00780_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00780_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00780_radio3" name="w00780_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00780_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 582px; left: 1394px; width: 117px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00781">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegaESP_Kabinet.Temperature_korect_kabinet">
                20.6
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 90px; border: 1px solid rgb(169, 157, 132); left: 1332.89px; top: 568.758px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00782">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 622.805px; left: 1519.99px; width: 39px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00783">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegaESP_Kabinet.Termoregulyator.T_zavd">
                20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 168px; border: 1px solid rgb(98, 99, 100); left: 1322.88px; top: 538.688px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00784">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Кабінет</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 36px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1519.99px; top: 580.781px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00785">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megad.3.p11_P11" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00786" style="width: 56px; height: 57px; left: 1331.04px; top: 587.742px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1329px; top: 465.539px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00787" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00787_radio" data-oid="admin.0.MegadEsp40.MegaESP_Zal.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00787_radio0" name="w00787_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00787_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00787_radio1" name="w00787_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00787_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00787_radio2" name="w00787_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00787_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00787_radio3" name="w00787_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00787_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 382.406px; left: 1393.97px; width: 117px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00788">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.2.sensors.onewire.tzal">
                20.6
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 91px; border: 1px solid rgb(169, 157, 132); left: 1332.89px; top: 367.383px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00789">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 421.5px; left: 1519.99px; width: 39px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00790">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegaESP_Zal.Termoregulyator.T_zavd">
                20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 166px; border: 1px solid rgb(98, 99, 100); left: 1322.88px; top: 337.312px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00791">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Гостьова зала</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 36px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1519.99px; top: 379.406px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00792">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.2.ports.p1.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00793" style="width: 56px; height: 57px; left: 1331.04px; top: 386.438px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1331.98px; top: 261.188px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00794" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00794_radio" data-oid="admin.0.MegadEsp40.MegaESP_sp_Sonyachna.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00794_radio0" name="w00794_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00794_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00794_radio1" name="w00794_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00794_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00794_radio2" name="w00794_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00794_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00794_radio3" name="w00794_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00794_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 180.07px; left: 1393.03px; width: 120px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00795">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.4.sensors.onewire.t_spsonyachna">
                20.8
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 244px; height: 88px; border: 1px solid rgb(169, 157, 132); left: 1331.98px; top: 165px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00796">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 219.094px; left: 1518.87px; width: 42px; height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00797">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegaESP_sp_Sonyachna.Termoregulyator.T_zavd">
                20.7
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 259px; height: 166px; border: 1px solid rgb(98, 99, 100); left: 1321.95px; top: 133.945px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00798">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Спальня Сонячна</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 39px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1518.87px; top: 177.07px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00799">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.4.ports.p1.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00800" style="width: 56px; height: 57px; left: 1331.04px; top: 184.078px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1628.93px; top: 666.914px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00801" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00801_radio" data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_boiler.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00801_radio0" name="w00801_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00801_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00801_radio1" name="w00801_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00801_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00801_radio2" name="w00801_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00801_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00801_radio3" name="w00801_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00801_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 583.758px; left: 1693.9px; width: 117px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00802">
        <div class="vis-widget-body">
            <div data-oid="megad.3.p2_P2">
                45.6
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 90px; border: 1px solid rgb(169, 157, 132); left: 1633.01px; top: 568.758px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00803">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 622.805px; left: 1824px; width: 42px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00804">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_boiler.T_zavd">
                42
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 168px; border: 1px solid rgb(98, 99, 100); left: 1623px; top: 538.688px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00805">
        
	    <div style="width: 100%; height: 29px; background-color: rgb(235, 226, 203);">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Бойлер ГВ</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 36px; height: 30px; border: 1px none rgb(136, 136, 136); left: 1819.9px; top: 579.75px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00806">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megad.3.p8_P8" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00807" style="width: 56px; height: 57px; left: 1630.97px; top: 587.742px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1628.93px; top: 465.539px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00808" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00808_radio" data-oid="admin.0.MegadEsp40.MegaESP_Kuhnya.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00808_radio0" name="w00808_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00808_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00808_radio1" name="w00808_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00808_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00808_radio2" name="w00808_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00808_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00808_radio3" name="w00808_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00808_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 382.406px; left: 1693.9px; width: 117px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00809">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.10.sensors.onewire.t_kitchen">
                26.6
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 91px; border: 1px solid rgb(169, 157, 132); left: 1633.01px; top: 367.383px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00810">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 421.5px; left: 1819.9px; width: 39px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 3; color: rgb(216, 116, 116); font-style: normal; cursor: auto;" id="w00811">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegaESP_Kuhnya.Termoregulyator.T_zavd">
                20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 166px; border: 1px solid rgb(98, 99, 100); left: 1623px; top: 337.312px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00812">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Кухня</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 36px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1819.9px; top: 379.406px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00813">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.10.ports.p1.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00814" style="width: 56px; height: 57px; left: 1630.97px; top: 386.438px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-1.png" width="100%">
            
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1628.93px; top: 262.219px; font-style: normal; font-size: 13px; z-index: 1;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00815" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00815_radio" data-oid="admin.0.MegadEsp40.MegadESP_sp_Lime.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00815_radio0" name="w00815_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00815_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00815_radio1" name="w00815_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00815_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00815_radio2" name="w00815_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00815_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00815_radio3" name="w00815_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00815_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 180.07px; left: 1692.96px; width: 120px; height: 66px; z-index: 3; background-color: rgb(233, 244, 251); font-size: 56px; color: rgb(44, 47, 68);" id="w00816">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.3.sensors.onewire.t_splime">
                19.9
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 244px; height: 88px; border: 1px solid rgb(169, 157, 132); left: 1631.91px; top: 165px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00817">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 219.094px; left: 1818.98px; width: 42px; height: 23px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00818">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegadESP_sp_Lime.Termoregulyator.T_zavd">
                20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 259px; height: 166px; border: 1px solid rgb(98, 99, 100); left: 1621.88px; top: 133.945px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00819">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Спальня Лайм</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 39px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1818.98px; top: 177.07px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00820">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.3.ports.p1.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00821" style="width: 56px; height: 57px; left: 1630.97px; top: 184.078px; z-index: 3;" data-read-only="" data-min="0" data-max="1" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-11.png" width="100%">
            
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 621.82px; left: 1819.9px; width: 48px; height: 27px; font-family: Verdana, Geneva, sans-serif; font-size: 16px; text-align: center; background-color: rgb(233, 244, 251); z-index: 3; color: rgb(216, 116, 116); font-style: normal; font-weight: bold; display: none;" id="w00822">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_boiler.T_zavd">
                42
            </div>
        </div>
    </div>

    <div id="w00823" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 89px; overflow: visible !important; left: 1856.84px; top: 565.711px; z-index: 3; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00823_slider" data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_boiler.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 45.7143%;"></span></div></div>
        </div>
    

    <div id="w00824" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 90px; overflow: visible !important; left: 1256.98px; top: 564.727px; z-index: 3; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00824_slider" data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_prim.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 40%;"></span></div></div>
        </div>
    

    <div id="w00825" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 89px; overflow: visible !important; left: 1256.98px; top: 364.406px; z-index: 4; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00825_slider" data-oid="admin.0.MegadEsp40.MegaESP_Koridor.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 40%;"></span></div></div>
        </div>
    

    <div id="w00826" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 23px; height: 90px; overflow: visible !important; left: 1256px; top: 161px; z-index: 4; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00826_slider" data-oid="admin.0.MegadEsp40.MegadESP_sp_Kava.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 42%;"></span></div></div>
        </div>
    

    <div id="w00827" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 90px; overflow: visible !important; left: 1556.91px; top: 161.039px; z-index: 4; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00827_slider" data-oid="admin.0.MegadEsp40.MegaESP_sp_Sonyachna.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 42%;"></span></div></div>
        </div>
    

    <div id="w00828" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 89px; overflow: visible !important; left: 1556.91px; top: 364.406px; z-index: 4; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00828_slider" data-oid="admin.0.MegadEsp40.MegaESP_Zal.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 40%;"></span></div></div>
        </div>
    

    <div id="w00829" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 89px; overflow: visible !important; left: 1556.91px; top: 565.711px; z-index: 3; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00829_slider" data-oid="admin.0.MegadEsp40.MegaESP_Kabinet.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 40%;"></span></div></div>
        </div>
    

    <div id="w00830" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 23px; height: 90px; overflow: visible !important; left: 1855.92px; top: 161.039px; z-index: 4; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00830_slider" data-oid="admin.0.MegadEsp40.MegadESP_sp_Lime.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 50%;"></span></div></div>
        </div>
    

    <div id="w00831" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 89px; overflow: visible !important; left: 1856.84px; top: 364.406px; z-index: 4; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00831_slider" data-oid="admin.0.MegadEsp40.MegaESP_Kuhnya.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 40%;"></span></div></div>
        </div>
    

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 222px; height: 23px; left: 1641px; top: 345.305px; z-index: 1; cursor: pointer; opacity: 0; display: none;" id="w00832">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00194</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 132px; height: 90px; left: 1720.99px; top: 371.367px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00833" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00833_input"></label>
            <input type="text" name="w00833_input" id="w00833_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegaESP_Kuhnya.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 222px; height: 23px; left: 1038.91px; top: 162px; z-index: 1; opacity: 0;" id="w00834">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00535</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 123px; height: 90px; left: 1123.92px; top: 163.031px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00835" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00835_input"></label>
            <input type="text" name="w00835_input" id="w00835_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegadESP_sp_Kava.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 126px; height: 90px; left: 1419.94px; top: 167.016px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00836" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00836_input"></label>
            <input type="text" name="w00836_input" id="w00836_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegaESP_sp_Sonyachna.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 132px; height: 90px; left: 1721.91px; top: 164.016px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00837" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00837_input"></label>
            <input type="text" name="w00837_input" id="w00837_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegadESP_sp_Lime.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 132px; height: 89px; left: 1424.02px; top: 370.383px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00838" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00838_input"></label>
            <input type="text" name="w00838_input" id="w00838_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegaESP_Zal.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 117px; height: 90px; left: 1120px; top: 371px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00839" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00839_input"></label>
            <input type="text" name="w00839_input" id="w00839_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegaESP_Koridor.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 123px; height: 90px; left: 1120.95px; top: 568.758px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00840" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00840_input"></label>
            <input type="text" name="w00840_input" id="w00840_input" value="" size="10" data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_prim.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 132px; height: 90px; left: 1418px; top: 557px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00841" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00841_input"></label>
            <input type="text" name="w00841_input" id="w00841_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegaESP_Kabinet.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 132px; height: 90px; left: 1716.89px; top: 572.719px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00842" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00842_input"></label>
            <input type="text" name="w00842_input" id="w00842_input" value="" size="10" data-oid="admin.0.Termoregulations.TR_DIM.TR_pidval.TR_boiler.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 219px; height: 21px; left: 1335.87px; top: 157.992px; z-index: 1; opacity: 0;" id="w00843">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00536</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 222px; height: 21px; left: 1635.98px; top: 159.984px; z-index: 1; opacity: 0;" id="w00844">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00537</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 219px; height: 21px; left: 1036.88px; top: 362.344px; z-index: 1; opacity: 0;" id="w00845">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00539</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 222px; height: 21px; left: 1337.91px; top: 362.344px; z-index: 1; opacity: 0;" id="w00846">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00538</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 221px; height: 20px; left: 1339.03px; top: 570.703px; z-index: 1; opacity: 0;" id="w00847">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00541</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 219px; height: 20px; left: 1036.88px; top: 565.711px; z-index: 1; opacity: 0;" id="w00848">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00540</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 222px; height: 23px; left: 1638.02px; top: 563.695px; z-index: 1; opacity: 0;" id="w00849">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00542</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 21px; border-radius: 64px; left: 1238.98px; top: 139.992px; z-index: 4;" id="w00850"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 38px; height: 21px; border-radius: 64px; left: 1537.99px; top: 139.008px; z-index: 4;" id="w00851"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12.5px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 38px; height: 21px; border-radius: 64px; left: 1837.92px; top: 139.992px; z-index: 4;" id="w00852"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12.5px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 20px; border-radius: 64px; left: 1238.98px; top: 343.359px; z-index: 4;" id="w00853"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 0.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 20px; border-radius: 64px; left: 1538.91px; top: 343.359px; z-index: 4;" id="w00854"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 0.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 20px; border-radius: 64px; left: 1839.02px; top: 343.359px; z-index: 4;" id="w00855"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 0.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 23px; border-radius: 64px; left: 1538px; top: 541px; z-index: 3;" id="w00856"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 2px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 23px; border-radius: 64px; left: 1237px; top: 542px; z-index: 4;" id="w00857"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 2px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 23px; border-radius: 64px; left: 1837px; top: 542px; z-index: 4;" id="w00858"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 2px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00859" style="left: 1514.98px; top: 545.695px; width: 24px; height: 24px; z-index: 4; font-size: 20px;">
        <div id="w00859_body" class="vis-widget-body">
            
            <button id="w00859_button" name="w00859_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00860" style="left: 1214.86px; top: 343.359px; width: 24px; height: 21px; z-index: 4; font-size: 20px;">
        <div id="w00860_body" class="vis-widget-body">
            
            <button id="w00860_button" name="w00860_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00861" style="left: 1214.86px; top: 544.664px; width: 24px; height: 21px; z-index: 3; font-size: 20px;">
        <div id="w00861_body" class="vis-widget-body">
            
            <button id="w00861_button" name="w00861_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00862" style="left: 1514.98px; top: 344.344px; width: 24px; height: 24px; z-index: 4; font-size: 20px;">
        <div id="w00862_body" class="vis-widget-body">
            
            <button id="w00862_button" name="w00862_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00863" style="left: 1517px; top: 144px; width: 24px; height: 24px; z-index: 4;">
        <div id="w00863_body" class="vis-widget-body">
            
            <button id="w00863_button" name="w00863_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00864" style="left: 1213px; top: 145px; width: 23px; height: 24px; z-index: 4;">
        <div id="w00864_body" class="vis-widget-body">
            
            <button id="w00864_button" name="w00864_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00865" style="left: 1812px; top: 139px; width: 23px; height: 24px; z-index: 4; font-size: 20px;">
        <div id="w00865_body" class="vis-widget-body">
            
            <button id="w00865_button" name="w00865_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00866" style="left: 1809.89px; top: 342.328px; width: 20px; height: 21px; z-index: 4; font-size: 20px;">
        <div id="w00866_body" class="vis-widget-body">
            
            <button id="w00866_button" name="w00866_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div class="vis-widget  vis-tpl-basic-Full Screen" style="width: 43px; height: 43px; background: rgb(170, 170, 170); cursor: pointer; opacity: 0.9; left: 1828px; top: 12px;" id="w00867">
		<div class="vis-fullscreen-icon" style="padding: 10px"><svg viewBox="0 0 24 24" style="display: inline-block; color: rgba(0, 0, 0, 0.87); fill: currentcolor; height: 24px; width: 24px; user-select: none; transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"></path></svg></div>
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 44px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 93px; top: 772px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 1; line-height: 2.5; cursor: auto;" id="w00868">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 0px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 217</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 105px; top: 781px; z-index: 2;" id="w00869"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 329px; height: 225px; border: 2px solid rgb(105, 89, 79); left: 26px; top: 742px; z-index: 0; background-color: rgb(203, 195, 174); font-family: StalinistOne-Regular; border-radius: 10px; opacity: 0.7;" id="w00870">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(121, 96, 78);">
		</div>
        <div style="position: absolute; top: 1px; left: 85px; color: rgb(121, 96, 78);">Котельня</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 229px; top: 779px; z-index: 2;" id="w00871"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 193px; top: 770px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00872">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 51</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 306px; top: 779px; z-index: 2;" id="w00873"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 270px; top: 770px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00874">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 55</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 941px; height: 225px; border: 2px solid rgb(105, 89, 79); left: 363px; top: 743px; z-index: 0; background-color: rgb(203, 195, 174); font-family: StalinistOne-Regular; border-radius: 10px; opacity: 0.7;" id="w00875">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(121, 96, 78);">
		</div>
        <div style="position: absolute; top: 1px; left: 60px; color: rgb(121, 96, 78);">Дім</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 411px; top: 778px; z-index: 2;" id="w00876"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 375px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 1; line-height: 2.5; cursor: auto;" id="w00877">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 40</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 488px; top: 777px; z-index: 2;" id="w00878"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 452px; top: 768px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00879">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 41</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 565px; top: 777px; z-index: 2;" id="w00880"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 529px; top: 768px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00881">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 42</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 641px; top: 779px; z-index: 2;" id="w00882"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 718px; top: 778px; z-index: 2;" id="w00883"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 864px; top: 778px; z-index: 2;" id="w00884"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 836px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00885">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 47</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 682px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00886">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 44</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 605px; top: 770px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 1; line-height: 2.5; cursor: auto;" id="w00887">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 43</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 943px; top: 778px; z-index: 2;" id="w00888"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 1028px; top: 778px; z-index: 2;" id="w00889"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 1105px; top: 778px; z-index: 2;" id="w00890"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 1069px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00891">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 52</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 992px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00892">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 49</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 913px; top: 770px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 1; line-height: 2.5; cursor: auto;" id="w00893">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 48</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 1184px; top: 778px; z-index: 2;" id="w00894"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 794px; top: 780px; z-index: 2;" id="w00895"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 1148px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00896">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 53</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 759px; top: 769px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00897">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip      45</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-timeandweather-Segment Clock" style="width: 148px; height: 39px; left: 1734px; top: 1028px; z-index: 4; border-radius: 15px; border-style: none; opacity: 1; display: none;" id="w00003">
        <div class="vis-widget-body"><canvas id="w00003_clock" width="100" height="100"></canvas></div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 61px; height: 16px; left: 130px; top: 1057px; z-index: 3; font-size: small;" id="w00050_TeploLich_new">
        <div class="vis-widget-body">
            mm.rt.st
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 1918px; height: 76px; border: 1px none rgb(255, 255, 255); left: 2px; top: 1000px; background-color: rgb(255, 255, 255); opacity: 0.7; z-index: 0;" id="w00026_TeploLich_new">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 1054px; left: 79px; width: 57px; height: 21px; z-index: 3; font-size: medium; font-weight: bold; color: rgb(4, 9, 210);" id="w00045_TeploLich_new">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegaESP-53.BMP180.Pressure">
                780
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 90px; height: 39px; border-radius: 64px; left: 41px; top: 1033px; z-index: 1; font-size: medium; opacity: 0;" id="w00007_TeploLich_new"><div class="vis-hq-leftinfo" style="padding-left: 12px; padding-right: 47px; font-size: 13px; background: rgb(237, 235, 233); right: 45px;"><span class="vis-hq-leftinfo-text">За&nbsp;вікном</span></div>
<div class="vis-hq-rightinfo" style="padding-right: 29px; font-size: 13px; background: rgb(237, 235, 233); padding-left: 85px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute;top:55%;left:25%"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 90px; height: 48px; border-radius: 64px; left: 147px; top: 1010px; z-index: 1; font-size: medium; opacity: 0;" id="w00006_TeploLich_new"><div class="vis-hq-leftinfo" style="padding-left: 12px; padding-right: 47px; font-size: 13px; background: rgb(237, 235, 233); right: 45px;"><span class="vis-hq-leftinfo-text">За&nbsp;вікном</span></div>
<div class="vis-hq-rightinfo" style="padding-right: 29px; font-size: 13px; background: rgb(237, 235, 233); padding-left: 85px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute;top:55%;left:25%"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 81px; height: 40px; border-radius: 64px; left: 120px; top: 1013px; z-index: 1; font-size: medium;" id="w00004_TeploLich_new"><div class="vis-hq-leftinfo" style="padding-left: 12px; padding-right: 47px; font-size: 13px; background: rgb(237, 235, 233); right: 40.5px;"><span class="vis-hq-leftinfo-text">За&nbsp;вікном</span></div>
<div class="vis-hq-rightinfo" style="padding-right: 29px; font-size: 13px; background: rgb(237, 235, 233); padding-left: 80.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><table class="vis-hq-centerinfo vis-hq-no-space" style="z-index: 2; position: absolute; color: rgb(69, 68, 80); top: 1px; left: 18.5px;"><tbody><tr class="vis-hq-actual-style vis-hq-no-space"><td class="vis-hq-no-space"><span class="vis-hq-actual">6,4</span>°C</td></tr><tr class="vis-hq-humidity-style vis-hq-no-space"><td class="vis-hq-no-space"><span class="vis-hq-humidity">89</span>%</td></tr></tbody></table><div class="vis-hq-middle" style="opacity: 0.7;">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute;top:55%;left:25%"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div data-vis-nav="MD1" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 288px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(255, 157, 41); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00027_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/home1.png" style="vertical-align: middle; height: 76%;" alt="">Мій дім
        </div>
    </div>

    <div data-vis-nav="MyHouse" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 356px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00034_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/house.png" style="vertical-align: middle; height: 71%;" alt="">Охорона
        </div>
    </div>

    <div data-vis-nav="" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 423px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00035_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/blueprint.png" style="vertical-align: middle; height: 72%;" alt="">Поверхи
        </div>
    </div>

    <div data-vis-nav="MD2_3" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 495px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00036_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/technology-5.png" style="vertical-align: middle; height: 72%;" alt="">Клімат
        </div>
    </div>

    <div data-vis-nav="" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 565px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00037_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/technology.png" style="vertical-align: middle; height: 72%;" alt="">Камери
        </div>
    </div>

    <div data-vis-nav="" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 634px; top: 1003px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00039_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/technology-7.png" style="vertical-align: middle; height: 72%;" alt="">Відео ТБ
        </div>
    </div>

    <div data-vis-nav="" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 706px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00040_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/music-1.png" style="vertical-align: middle; height: 72%;" alt="">Аудіо
        </div>
    </div>

    <div data-vis-nav="" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 778px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00041_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/sun-3.png" style="vertical-align: middle; height: 72%;" alt="">Погода
        </div>
    </div>

    <div data-vis-nav="" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 70px; position: absolute; left: 851px; top: 1002px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00038_TeploLich_new">
        <div class="vis-widget-body">
            <img src="./vis_files/Waterfall.png" style="vertical-align: middle; height: 72%;" alt="">Полив
        </div>
    </div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1631px; top: 879px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00008" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00008_radio" data-oid="admin.0.MegadEsp40.MegadESP_Vanna.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00008_radio0" name="w00008_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00008_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00008_radio1" name="w00008_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00008_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00008_radio2" name="w00008_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00008_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00008_radio3" name="w00008_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00008_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 819px; left: 1707px; width: 97px; height: 39px; z-index: 6; background-color: rgb(233, 244, 251); font-size: 36px; color: rgb(44, 47, 68); font-style: normal; font-variant: normal; font-weight: normal;" id="w00009">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.11.sensors.onewire.t0">
                25.20
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 90px; border: 1px solid rgb(169, 157, 132); left: 1634px; top: 781px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00010">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 834px; left: 1811px; width: 46px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 3; color: rgb(216, 116, 116); font-style: normal;" id="w00012">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegadEsp40.MegadESP_Vanna.Termoregulyator.T_zavd">
                25.150000000000006
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 168px; border: 1px solid rgb(98, 99, 100); left: 1624px; top: 751px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00015">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Ванна підлога</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 36px; height: 29px; border: 1px none rgb(136, 136, 136); left: 1812px; top: 794px; background: rgb(233, 244, 251); font-family: Verdana, Geneva, sans-serif; font-size: x-large; z-index: 3; font-style: normal; color: rgb(44, 47, 68);" id="w00019">
        
	    <div style="width: 100%; height: 0px; background-color: black;">
		</div>
        <div style="position: absolute; top: 4px; left: 2px; color: rgb(44, 47, 68);">°C</div>
        
        
		
    </div>

    <div data-oid="megaesp-modern.6.ports.p4.state" class="vis-widget  vis-tpl-basic-Bulb on/off" id="w00048" style="width: 56px; height: 57px; left: 1635px; top: 800px; z-index: 3;" data-read-only="" data-min="" data-max="" data-url-true="" data-url-false="" data-oid-true="" data-oid-false="" data-oid-true-value="" data-oid-false-value="">
        <div class="vis-widget-body">
            
                <img src="./vis_files/thermometer-11.png" width="100%">
            
        </div>
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 221px; height: 20px; left: 1641px; top: 783px; z-index: 1; opacity: 0;" id="w00093">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00541</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 23px; border-radius: 64px; left: 1838px; top: 755px; z-index: 3;" id="w00100"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 2px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-jqui-container - Button view in jqui Dialog" id="w00101" style="left: 1816px; top: 758px; width: 24px; height: 24px; z-index: 4; font-size: 20px;">
        <div id="w00101_body" class="vis-widget-body">
            
            <button id="w00101_button" name="w00101_button" data-no-style="true" data-oid="" data-val="" style="padding: 0px;"></button>
            
        </div>
        
        <div class="popup-helper"></div>
        <div class="popup-helper"></div>
    <div class="vis-signal   " data-index="0" style="display: ; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="./vis_files/Work.png" style="width: 15px; height: auto;"></div><div class="vis-signal   " data-index="1" style="display: none; pointer-events: none; position: absolute; z-index: 10; top: 0%; left: 0%"><img class="vis-signal-icon" src="http://192.168.0.201:8082/vis/index.html" style="width: 14px; height: auto;"></div></div>

    <div style="width: 225px; height: 21px; overflow: visible; left: 1335px; top: 879px; font-style: normal; font-size: 13px; z-index: 3;" class="vis-widget  vis-tpl-jqui-Radiobuttons ValueList" id="w00118" data-vis-resizable="{&quot;disabled&quot;:true, &quot;handles&quot;:&quot;&quot;}">
        <div class="vis-widget-body">
            <table id="w00118_radio" data-oid="admin.0.MegadEsp40.MegaESP_Kabinet.Termoregulyator.Regym_regulyatora" style="display: flex" class="vis-no-spaces ui-buttonset"><tbody><tr class="vis-no-spaces">
                
                    <td class="vis-no-spaces"><input type="radio" id="w00118_radio0" name="w00118_radio" value="0" class="ui-helper-hidden-accessible"><label style="float: left" for="w00118_radio0" class="ui-button ui-widget ui-state-default ui-button-text-only ui-corner-left" role="button"><span class="ui-button-text">OFF</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00118_radio1" name="w00118_radio" value="1" class="ui-helper-hidden-accessible"><label style="float: left" for="w00118_radio1" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">ON</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00118_radio2" name="w00118_radio" value="2" class="ui-helper-hidden-accessible"><label style="float: left" for="w00118_radio2" class="ui-button ui-widget ui-state-default ui-button-text-only" role="button"><span class="ui-button-text">AUTO</span></label></td>
                
                    <td class="vis-no-spaces"><input type="radio" id="w00118_radio3" name="w00118_radio" value="3" class="ui-helper-hidden-accessible"><label style="float: left" for="w00118_radio3" class="ui-state-active ui-button ui-widget ui-state-default ui-button-text-only ui-corner-right" role="button"><span class="ui-button-text">PROG</span></label></td>
                
            </tr></tbody></table>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 241px; height: 90px; border: 1px solid rgb(169, 157, 132); left: 1338px; top: 781px; background-color: rgb(233, 244, 251); z-index: 1; border-radius: 5px;" id="w00144">
        
	    <div style="width: 100%; height: 0px; background-color: rgb(208, 229, 230);">
		</div>
        <div style="position: absolute; top: -10px; left: 15px; color: black;"></div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 261px; height: 168px; border: 1px solid rgb(98, 99, 100); left: 1328px; top: 751px; border-radius: 5px; background-color: rgb(235, 226, 203); font-family: Verdana, Geneva, sans-serif; text-align: center; font-style: normal; font-size: 20px; z-index: 0; opacity: 0.9;" id="w00169">
        
	    <div style="width: 100%; height: 29px;">
		</div>
        <div style="position: absolute; top: 2px; left: 8px; color: rgb(0, 0, 0); background: rgb(235, 226, 203);">Кабінет-вентиляція</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-keyboard-Keyboard for Widget" style="width: 221px; height: 20px; left: 1345px; top: 783px; z-index: 1; opacity: 0;" id="w00599">
        <div class="vis-widget-body" style="display: none;">
			<div style="border: 1px solid blue; background: #ffffff">Virtual Keyboard for w00541</div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 23px; border-radius: 64px; left: 1540px; top: 754px; z-index: 3;" id="w00605"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 2px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div id="w00121" class="vis-widget vis-tpl-metro-Slider horizontal" style="width: 153px; height: 14px; left: 1417px; top: 814px; z-index: 4;">
        <div class="metro vis-widget-body " style="padding:2px">
            
            <div data-oid="megaesp-modern.9.ports.p3.level" data-oid-working="" id="metroSlider_w00121" class="slider" data-role="slider"><div class="complete" style="background-color: rgb(13, 7, 156); width: 137px;"></div><a class="marker" style="background-color: rgb(11, 213, 11); left: 137px;"></a></div>
            <div></div>
        </div>
    </div>

    <div id="w00147" class="vis-widget vis-tpl-metro-Slider horizontal" style="width: 149px; height: 17px; left: 1419px; top: 847px; z-index: 4;">
        <div class="metro vis-widget-body " style="padding:2px">
            
            <div data-oid="megaesp-modern.9.ports.p4.level" data-oid-working="" id="metroSlider_w00147" class="slider" data-role="slider"><div class="complete" style="background-color: rgb(13, 7, 156); width: 133px;"></div><a class="marker" style="background-color: rgb(11, 213, 11); left: 133px;"></a></div>
            <div></div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 66px; height: 20px; left: 1345px; top: 813px; z-index: 5; font-size: small;" id="w00172">
        <div class="vis-widget-body">
            Нагнітання
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 66px; height: 20px; left: 1349px; top: 848px; z-index: 5; font-size: small;" id="w00197">
        <div class="vis-widget-body">
            Витяжка
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 147px; height: 17px; left: 1347px; top: 789px; z-index: 5; font-size: small;" id="w00200">
        <div class="vis-widget-body">
            КПД рекуператора, %
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 44px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 38px; top: 771px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w00596">
        
	    <div style="width: 100%; height: 14px;">
		</div>
        <div style="position: absolute; top: 28px; left: -1px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip      37</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 24px; height: 25px; border-radius: 64px; left: 52px; top: 781px; z-index: 2;" id="w00606"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 12px; top: 12.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-String (unescaped)" style="top: 786px; left: 1514px; width: 39px; height: 21px; font-family: Verdana, Geneva, sans-serif; font-size: medium; text-align: center; background-color: rgb(233, 244, 251); z-index: 2; color: rgb(216, 116, 116); font-style: normal;" id="w00075">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegaESP-42.kpd_PRANA">
                76
            </div>
        </div>
    </div>

    <div data-vis-nav="Nalashtuvannya_TR" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 60px; height: 60px; position: absolute; left: 928px; top: 1008px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 10px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.5; z-index: 3;" id="w00425">
        <div class="vis-widget-body">
            <img src="./vis_files/cogwheel.png" style="vertical-align: middle; height: 77%;" alt="">
        </div>
    </div>

    <div id="w00013" data-vis-resizable="{&quot;minWidth&quot;:23, &quot;maxWidth&quot;:23}" class="vis-widget vis-tpl-jqui-Slider vertical" style="width: 24px; height: 89px; overflow: visible !important; left: 1859px; top: 781px; z-index: 3; display: none;">
        <div class="vis-widget-body " style="width: 100%; padding: 4px; ">
            <div class="sliderJQUI ui-slider ui-slider-vertical ui-widget ui-widget-content ui-corner-all" id="w00013_slider" data-oid="admin.0.MegadEsp40.MegadESP_Vanna.Termoregulyator.T_zavd" data-oid2="" data-oid-working="" data-oid2-working="" style="height:100%"><span class="ui-slider-handle ui-state-default ui-corner-all" tabindex="0" style="bottom: 60.8%;"></span></div></div>
        </div>
    

    <div class="vis-widget  vis-tpl-jqui-Input" style="width: 132px; height: 90px; left: 1709px; top: 780px; z-index: 4; opacity: 0; cursor: pointer; font-size: 85px; display: none;" id="w00024" data-no-style="">
        <div class="vis-widget-body">
            <label for="w00024_input"></label>
            <input type="text" name="w00024_input" id="w00024_input" value="" size="10" data-oid="admin.0.MegadEsp40.MegadESP_Vanna.Termoregulyator.T_zavd" class="ui-button ui-widget ui-state-default ui-corner-all" role="button" style="font: inherit; text-align: left; outline: none; cursor: text; height: 50%;">
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 789px; left: 1733px; width: 58px; height: 28px; z-index: 6; background-color: rgb(233, 244, 251); font-size: 26px; color: rgb(229, 52, 180); font-style: oblique;" id="w01223">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.11.sensors.onewire.t1">
                24.7
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 46px; height: 26px; left: 391px; top: 860px; z-index: 3; font-size: x-small; text-align: center;" id="w01224">
        <div class="vis-widget-body">
            Sp-Kava
  TR-HR
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 56px; height: 77px; left: 385px; top: 828px; transform: rotate(-90deg);" id="w01225">
        <div class="vis-widget-body">
            Кава
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 56px; height: 27px; left: 458px; top: 860px; z-index: 3; font-size: x-small; text-align: center;" id="w01226">
        <div class="vis-widget-body">
            Sp-Sonyach
  TR-HR
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 537px; top: 861px; z-index: 3; font-size: x-small; text-align: center;" id="w01227">
        <div class="vis-widget-body">
            Kabinet
Ventilations
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 46px; height: 26px; left: 849px; top: 861px; z-index: 3; font-size: x-small; text-align: center;" id="w01228">
        <div class="vis-widget-body">
            Sp-Lime
  TR-HR
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 614px; top: 861px; z-index: 3; font-size: x-small; text-align: center;" id="w01229">
        <div class="vis-widget-body">
            Kabinet
    TReg
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 769px; top: 861px; z-index: 3; font-size: x-small; text-align: center;" id="w01230">
        <div class="vis-widget-body">
            Vanna
TR_pidloga
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 49px; height: 28px; left: 692px; top: 861px; z-index: 3; font-size: x-small; text-align: center;" id="w01231">
        <div class="vis-widget-body">
               Zal         
   TReg
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 1001px; top: 861px; z-index: 3; font-size: x-small; text-align: center;" id="w01232">
        <div class="vis-widget-body">
            Kuhnya
    TReg
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 920px; top: 862px; z-index: 3; font-size: x-small; text-align: center;" id="w01233">
        <div class="vis-widget-body">
            Koridor
    TReg
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 1157px; top: 856px; z-index: 3; font-size: x-small; text-align: center;" id="w01234">
        <div class="vis-widget-body">
            Pidval
    TReg
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 1077px; top: 860px; z-index: 3; font-size: x-small; text-align: center;" id="w01235">
        <div class="vis-widget-body">
            DIM    Regulations

        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 1260px; top: 779px; z-index: 2;" id="w01236"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 65px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 1224px; top: 770px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 0; line-height: 2.5; cursor: auto;" id="w01237">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 20px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 58</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 55px; height: 26px; left: 1233px; top: 857px; z-index: 3; font-size: x-small; text-align: center; font-style: italic;" id="w01238">
        <div class="vis-widget-body">
            Sauna TReg
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 30px; height: 55px; left: 47px; top: 863px; z-index: 3; font-size: x-small; text-align: center;" id="w01239">
        <div class="vis-widget-body">
            GAZ
    Kotel   SAUNA
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 15px; left: 153px; width: 150px; height: 61px; background-color: rgb(255, 255, 255); text-align: center; font-family: &quot;Trebuchet MS&quot;, Arial, Helvetica, sans-serif; font-style: normal; font-size: xx-large; z-index: 3;" id="w00029">
        <div class="vis-widget-body">
            <div data-oid="megaesp-modern.0.sensors.onewire.tsauna">
                17,04
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 27px; height: 28px; border-radius: 64px; left: 156px; top: 15px; z-index: 5;" id="w00030"><div class="vis-hq-main hq-button-green-normal" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13.5px; top: 14px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 21px; border-radius: 64px; left: 109px; top: 53px; z-index: 4;" id="w00031"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div data-vis-nav="MD1" class="vis-widget ui-widget ui-button ui-corner-all ui-state-default jqui-nav-state  vis-tpl-jqui-navigation - Icon" style="width: 70px; height: 69px; position: absolute; left: 5px; top: 5px; background: rgb(255, 255, 255); border-style: dashed; border-color: rgb(234, 233, 230); border-radius: 0px; color: rgb(0, 0, 0); font-family: RobotoCondensed-Light; font-style: normal; font-size: small; line-height: 1.5; opacity: 0.7; z-index: 3;" id="w00002_TeploLich">
        <div class="vis-widget-body">
            <img src="./vis_files/buildings-1.png" style="vertical-align: middle; height: 76%;" alt="">Мій дім
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-iFrame" style="top: 369px; left: 49px; width: 600px; height: 320px;" id="w00016">
        <div class="vis-widget-body">
            
            <iframe sandbox="allow-modals allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts" style="position: absolute; border: 0px; padding: 0px; margin: 0px; width: 100%; height: 100%; overflow: hidden;" src="./vis_files/saved_resource.html"></iframe>
            <div></div>
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 29px; left: 379px; width: 106px; height: 46px; background-color: rgb(255, 255, 255); text-align: center; font-family: &quot;Trebuchet MS&quot;, Arial, Helvetica, sans-serif; font-style: normal; font-size: xx-large;" id="w00018">
        <div class="vis-widget-body">
            <div data-oid="admin.0.Megad-50.P8">
                14,38
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 39px; height: 21px; border-radius: 64px; left: 485px; top: 52px; z-index: 4;" id="w00020"><div class="vis-hq-rightinfo" style="padding-right: 15px; font-size: 12px; background: rgba(182, 182, 182, 0.6); padding-left: 24.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 13px; top: 1px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center; opacity: 1;"><img class="vis-hq-icon-img" style="height: 13px; width: auto;" src="./vis_files/Bullish.png"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-hqwidgets-Outdoor temperature vis-hq-button-base" style="overflow: visible; width: 53px; height: 38px; border-radius: 64px; left: 1297px; top: 955px; z-index: 5; font-size: medium; opacity: 0; font-variant: normal;" id="w01242"><div class="vis-hq-rightinfo" style="padding-right: 29px; font-size: 13px; background: rgb(237, 235, 233); padding-left: 66.5px; display: none;"><span class="vis-hq-rightinfo-text"></span></div>
<div class="vis-hq-main ui-state-default" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute;top:55%;left:25%"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 24px; height: 54px; left: 107px; top: 863px; z-index: 3; font-size: x-small; text-align: center;" id="w00021">
        <div class="vis-widget-body">
            GAZ
    Kotel   DIM
        </div>
    </div>

    <div class="vis-widget   vis-tpl-basic-Number" style="top: 50px; left: 191px; width: 69px; height: 25px; background-color: rgb(255, 255, 255); text-align: center; font-family: &quot;Trebuchet MS&quot;, Arial, Helvetica, sans-serif; font-style: normal; font-size: medium; color: rgb(232, 44, 44); z-index: 5;" id="w00025">
        <div class="vis-widget-body">
            <div data-oid="admin.0.MegaESP-37.T_zavd_BA">
                17,50
            </div>
        </div>
    </div>

    <div class="vis-widget  vis-tpl-basic-Border" style="overflow: visible; width: 44px; height: 183px; border: 3px solid rgb(167, 155, 134); left: 144px; top: 771px; border-radius: 10px; background-color: rgb(235, 226, 203); font-family: StalinistOne-Regular; text-align: center; font-style: italic; font-size: small; opacity: 0.9; z-index: 1; line-height: 2.5; cursor: auto;" id="w00032">
        
	    <div style="width: 100%; height: 18px;">
		</div>
        <div style="position: absolute; top: 28px; left: 0px; color: rgb(130, 113, 85); background: rgb(235, 226, 203);">ip 50</div>
        
        
		
    </div>

    <div class="vis-widget  vis-tpl-basic-HTML" style="width: 24px; height: 54px; left: 156px; top: 863px; z-index: 3; font-size: x-small; text-align: center;" id="w00033">
        <div class="vis-widget-body">
            DS
Sensor
        </div>
    </div>

    <div class="vis-widget  vis-tpl-hqwidgets-On/Off vis-hq-button-base" style="overflow: visible; width: 23px; height: 23px; border-radius: 64px; left: 157px; top: 782px; z-index: 2;" id="w00042"><div class="vis-hq-main vis-hq-button-base-on" style="z-index: 1; border-radius: 64px;"><div class="vis-hq-middle">
<table class="vis-hq-table vis-hq-no-space" style="position: absolute; left: 11.5px; top: 11.5px;"><tbody><tr class="vis-hq-no-space"><td class="vis-hq-no-space"><div class="vis-hq-icon" style="text-align: center;"></div></td>
</tr></tbody></table></div></div></div>
</div></div>
<div id="vis_license" style="position: absolute; top: 0; left: 0; height: 100%; width: 100%; font-size: 60px; color: #f4706c; display: none; text-align: center; background: rgba(0,0,0,0.5); z-index: 1">
    <div style="position: absolute; top: calc(50% - 30px); left: 0; width: 100%" class="vis-license-text">No valid license found!</div>
</div>
<div id="server-disconnect" class="disconnect-light" style="display: none;">
    <div class="splash-screen-text">...</div>
    <div class="splash-screen-circle-outer"></div>
    <div class="splash-screen-circle-inner"></div>
</div>
<div id="dialog-message" title="Message" style="display: none">
    <p>
        <span id="dialog-message-icon" class="ui-icon ui-icon-circle-check" style="float:left; margin:0 7px 50px 0;"></span>
        <span id="dialog-message-text"></span>
    </p>
</div>


<div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00859_dialog" aria-labelledby="ui-id-1" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-1" class="ui-dialog-title">Кабінет</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00859_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_Kabinet" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00860_dialog" aria-labelledby="ui-id-2" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-2" class="ui-dialog-title">Коридор</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00860_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_Koridor" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00861_dialog" aria-labelledby="ui-id-3" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-3" class="ui-dialog-title">Підвал</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00861_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_Pidval" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00862_dialog" aria-labelledby="ui-id-4" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-4" class="ui-dialog-title">Зал</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00862_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_Zal" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00863_dialog" aria-labelledby="ui-id-5" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-5" class="ui-dialog-title">Сонячна</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00863_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_SP_Sonyachna" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00864_dialog" aria-labelledby="ui-id-6" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-6" class="ui-dialog-title">Кава</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00864_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_SP_Kava" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00865_dialog" aria-labelledby="ui-id-7" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-7" class="ui-dialog-title">Лайм</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00865_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_SP_Lime" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00866_dialog" aria-labelledby="ui-id-8" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-8" class="ui-dialog-title">Кухня</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00866_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_Kuhnya" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="w00101_dialog" aria-labelledby="ui-id-9" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-9" class="ui-dialog-title">Ванна</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div id="w00101_dialog" style="display: block;" class="vis-widget-dialog ui-dialog-content ui-widget-content">
            <div data-vis-contains="Nalash_TR_Vanna" class="vis-widget-body vis-view-container"></div>
        </div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-10" aria-labelledby="ui-id-11" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-11" class="ui-dialog-title">Chart</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-10"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-12" aria-labelledby="ui-id-13" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-13" class="ui-dialog-title">Параметри роботи котла</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-12"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-14" aria-labelledby="ui-id-15" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-15" class="ui-dialog-title">Параметри споживання тепла будинком</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-14"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-16" aria-labelledby="ui-id-17" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-17" class="ui-dialog-title">Параметри споживання тепла cауною</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-16"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-18" aria-labelledby="ui-id-19" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-19" class="ui-dialog-title">Параметри роботи сонячного колектора</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-18"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-20" aria-labelledby="ui-id-21" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-21" class="ui-dialog-title">Параметри роботи теплообмінника</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-20"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-22" aria-labelledby="ui-id-23" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-23" class="ui-dialog-title">Параметри роботи бака акмулятора</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-22"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-24" aria-labelledby="ui-id-25" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-25" class="ui-dialog-title">Температура в спальні Кава</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-24"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-26" aria-labelledby="ui-id-27" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-27" class="ui-dialog-title">Температура в спальні Сонячна</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-26"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-28" aria-labelledby="ui-id-29" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-29" class="ui-dialog-title">Температура в спальні Лайм</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-28"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-30" aria-labelledby="ui-id-31" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-31" class="ui-dialog-title">Температура в Коридорі</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-30"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-32" aria-labelledby="ui-id-33" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-33" class="ui-dialog-title">Температура в Залі</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-32"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-34" aria-labelledby="ui-id-35" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-35" class="ui-dialog-title">Температура в Кухні</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-34"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-36" aria-labelledby="ui-id-37" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-37" class="ui-dialog-title">Температура в Кабінеті</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-36"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-38" aria-labelledby="ui-id-39" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-39" class="ui-dialog-title">Температура в Підвалі</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-38"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-40" aria-labelledby="ui-id-41" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-41" class="ui-dialog-title">Температура Бойлера ГВ</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-40"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-42" aria-labelledby="ui-id-43" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-43" class="ui-dialog-title">Chart</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-42"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-44" aria-labelledby="ui-id-45" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-45" class="ui-dialog-title">Chart</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-44"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-46" aria-labelledby="ui-id-47" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-47" class="ui-dialog-title">megaesp-modern.12.sensors.onewire.t0</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-46"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-48" aria-labelledby="ui-id-49" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-49" class="ui-dialog-title">Температура підлоги у ванні</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-48"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-50" aria-labelledby="ui-id-51" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-51" class="ui-dialog-title">Температура в Кабінеті</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-50"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-52" aria-labelledby="ui-id-53" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-53" class="ui-dialog-title">Температура в сауні</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-52"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-54" aria-labelledby="ui-id-55" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-55" class="ui-dialog-title">Температура в котельні</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-54"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ui-dialog-buttons ui-draggable ui-resizable" tabindex="-1" role="dialog" aria-describedby="ui-id-56" aria-labelledby="ui-id-57" style="display: none; position: absolute;"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix ui-draggable-handle"><span id="ui-id-57" class="ui-dialog-title">Тиск води</span><button type="button" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-icon-only ui-dialog-titlebar-close" role="button" title="Close"><span class="ui-button-icon-primary ui-icon ui-icon-closethick"></span><span class="ui-button-text">Close</span></button></div><div class="vis-hq-dialog ui-dialog-content ui-widget-content" style="" id="ui-id-56"></div><div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"><div class="ui-dialog-buttonset"><button type="button" id="ok" class="ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only" role="button"><span class="ui-button-text">Ok</span></button></div></div><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-e" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-s" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-sw" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-ne" style="z-index: 90;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90;"></div></div></body></html>